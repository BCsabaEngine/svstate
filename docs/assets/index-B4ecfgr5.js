(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();const Cr=!1;var Ir=Array.isArray,gn=Array.prototype.indexOf,jt=Array.prototype.includes,Sr=Array.from,ba=Object.defineProperty,Rt=Object.getOwnPropertyDescriptor,_a=Object.getOwnPropertyDescriptors,bn=Object.prototype,_n=Array.prototype,Rr=Object.getPrototypeOf,na=Object.isExtensible;const ut=()=>{};function yn(e){return e()}function xr(e){for(var t=0;t<e.length;t++)e[t]()}function ya(){var e,t,r=new Promise((a,n)=>{e=a,t=n});return{promise:r,resolve:e,reject:t}}const Se=2,ir=4,ur=8,xa=1<<24,ft=16,Ye=32,Vt=64,wa=128,Fe=512,_e=1024,De=2048,Ke=4096,Me=8192,ct=16384,cr=32768,Pt=65536,ia=1<<17,Ea=1<<18,Ht=1<<19,$a=1<<20,lt=1<<25,Tt=65536,Nr=1<<21,Fr=1<<22,gt=1<<23,bt=Symbol("$state"),xn=Symbol("legacy props"),wn=Symbol(""),Et=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function En(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function $n(e,t,r){throw new Error("https://svelte.dev/e/each_key_duplicate")}function Sn(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Dn(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function An(e){throw new Error("https://svelte.dev/e/effect_orphan")}function kn(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Cn(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Nn(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function qn(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Pn(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Tn(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Ln=1,Vn=2,Sa=4,On=8,Mn=16,In=1,Rn=2,Fn=4,jn=8,Bn=16,zn=1,Un=2,Ee=Symbol(),Da="http://www.w3.org/1999/xhtml";function Wn(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function Hn(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function Aa(e){return e===this.v}function ka(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Ca(e){return!ka(e,this.v)}let dr=!1,Jn=!1;function Kn(){dr=!0}let ye=null;function Bt(e){ye=e}function Le(e,t=!1,r){ye={p:ye,i:!1,c:null,e:null,s:e,x:null,l:dr&&!t?{s:null,u:null,$:[]}:null}}function Ve(e){var t=ye,r=t.e;if(r!==null){t.e=null;for(var a of r)Ja(a)}return t.i=!0,ye=t.p,{}}function Jt(){return!dr||ye!==null&&ye.l===null}let $t=[];function Na(){var e=$t;$t=[],xr(e)}function Dt(e){if($t.length===0&&!tr){var t=$t;queueMicrotask(()=>{t===$t&&Na()})}$t.push(e)}function Yn(){for(;$t.length>0;)Na()}function qa(e){var t=ce;if(t===null)return ae.f|=gt,e;if((t.f&cr)===0&&(t.f&ir)===0)throw e;zt(e,t)}function zt(e,t){for(;t!==null;){if((t.f&wa)!==0){if((t.f&cr)===0)throw e;try{t.b.error(e);return}catch(r){e=r}}t=t.parent}throw e}const Zn=-7169;function he(e,t){e.f=e.f&Zn|t}function jr(e){(e.f&Fe)!==0||e.deps===null?he(e,_e):he(e,Ke)}function Pa(e){if(e!==null)for(const t of e)(t.f&Se)===0||(t.f&Tt)===0||(t.f^=Tt,Pa(t.deps))}function Ta(e,t,r){(e.f&De)!==0?t.add(e):(e.f&Ke)!==0&&r.add(e),Pa(e.deps),he(e,_e)}const hr=new Set;let oe=null,wr=null,Ue=null,Ce=[],Dr=null,qr=!1,tr=!1;class _t{committed=!1;current=new Map;previous=new Map;#t=new Set;#o=new Set;#e=0;#i=0;#s=null;#a=new Set;#r=new Set;#n=new Map;is_fork=!1;#l=!1;is_deferred(){return this.is_fork||this.#i>0}skip_effect(t){this.#n.has(t)||this.#n.set(t,{d:[],m:[]})}unskip_effect(t){var r=this.#n.get(t);if(r){this.#n.delete(t);for(var a of r.d)he(a,De),We(a);for(a of r.m)he(a,Ke),We(a)}}process(t){Ce=[],this.apply();var r=[],a=[];for(const n of t)this.#u(n,r,a);if(this.is_deferred()){this.#c(a),this.#c(r);for(const[n,i]of this.#n)Ma(n,i)}else{for(const n of this.#t)n();this.#t.clear(),this.#e===0&&this.#d(),wr=this,oe=null,sa(a),sa(r),wr=null,this.#s?.resolve()}Ue=null}#u(t,r,a){t.f^=_e;for(var n=t.first,i=null;n!==null;){var o=n.f,l=(o&(Ye|Vt))!==0,u=l&&(o&_e)!==0,s=u||(o&Me)!==0||this.#n.has(n);if(!s&&n.fn!==null){l?n.f^=_e:i!==null&&(o&(ir|ur|xa))!==0?i.b.defer_effect(n):(o&ir)!==0?r.push(n):pr(n)&&((o&ft)!==0&&this.#r.add(n),Wt(n));var d=n.first;if(d!==null){n=d;continue}}var h=n.parent;for(n=n.next;n===null&&h!==null;)h===i&&(i=null),n=h.next,h=h.parent}}#c(t){for(var r=0;r<t.length;r+=1)Ta(t[r],this.#a,this.#r)}capture(t,r){r!==Ee&&!this.previous.has(t)&&this.previous.set(t,r),(t.f&gt)===0&&(this.current.set(t,t.v),Ue?.set(t,t.v))}activate(){oe=this,this.apply()}deactivate(){oe===this&&(oe=null,Ue=null)}flush(){if(this.activate(),Ce.length>0){if(La(),oe!==null&&oe!==this)return}else this.#e===0&&this.process([]);this.deactivate()}discard(){for(const t of this.#o)t(this);this.#o.clear()}#d(){if(hr.size>1){this.previous.clear();var t=Ue,r=!0;for(const n of hr){if(n===this){r=!1;continue}const i=[];for(const[l,u]of this.current){if(n.current.has(l))if(r&&u!==n.current.get(l))n.current.set(l,u);else continue;i.push(l)}if(i.length===0)continue;const o=[...n.current.keys()].filter(l=>!this.current.has(l));if(o.length>0){var a=Ce;Ce=[];const l=new Set,u=new Map;for(const s of i)Va(s,o,l,u);if(Ce.length>0){oe=n,n.apply();for(const s of Ce)n.#u(s,[],[]);n.deactivate()}Ce=a}}oe=null,Ue=t}this.committed=!0,hr.delete(this)}increment(t){this.#e+=1,t&&(this.#i+=1)}decrement(t){this.#e-=1,t&&(this.#i-=1),!this.#l&&(this.#l=!0,Dt(()=>{this.#l=!1,this.is_deferred()?Ce.length>0&&this.flush():this.revive()}))}revive(){for(const t of this.#a)this.#r.delete(t),he(t,De),We(t);for(const t of this.#r)he(t,Ke),We(t);this.flush()}oncommit(t){this.#t.add(t)}ondiscard(t){this.#o.add(t)}settled(){return(this.#s??=ya()).promise}static ensure(){if(oe===null){const t=oe=new _t;hr.add(oe),tr||Dt(()=>{oe===t&&t.flush()})}return oe}apply(){}}function Gn(e){var t=tr;tr=!0;try{for(var r;;){if(Yn(),Ce.length===0&&(oe?.flush(),Ce.length===0))return Dr=null,r;La()}}finally{tr=t}}function La(){qr=!0;var e=null;try{for(var t=0;Ce.length>0;){var r=_t.ensure();if(t++>1e3){var a,n;Qn()}r.process(Ce),yt.clear()}}finally{Ce=[],qr=!1,Dr=null}}function Qn(){try{kn()}catch(e){zt(e,Dr)}}let ot=null;function sa(e){var t=e.length;if(t!==0){for(var r=0;r<t;){var a=e[r++];if((a.f&(ct|Me))===0&&pr(a)&&(ot=new Set,Wt(a),a.deps===null&&a.first===null&&a.nodes===null&&a.teardown===null&&a.ac===null&&Ya(a),ot?.size>0)){yt.clear();for(const n of ot){if((n.f&(ct|Me))!==0)continue;const i=[n];let o=n.parent;for(;o!==null;)ot.has(o)&&(ot.delete(o),i.push(o)),o=o.parent;for(let l=i.length-1;l>=0;l--){const u=i[l];(u.f&(ct|Me))===0&&Wt(u)}}ot.clear()}}ot=null}}function Va(e,t,r,a){if(!r.has(e)&&(r.add(e),e.reactions!==null))for(const n of e.reactions){const i=n.f;(i&Se)!==0?Va(n,t,r,a):(i&(Fr|ft))!==0&&(i&De)===0&&Oa(n,t,a)&&(he(n,De),We(n))}}function Oa(e,t,r){const a=r.get(e);if(a!==void 0)return a;if(e.deps!==null)for(const n of e.deps){if(jt.call(t,n))return!0;if((n.f&Se)!==0&&Oa(n,t,r))return r.set(n,!0),!0}return r.set(e,!1),!1}function We(e){for(var t=Dr=e;t.parent!==null;){t=t.parent;var r=t.f;if(qr&&t===ce&&(r&ft)!==0&&(r&Ea)===0)return;if((r&(Vt|Ye))!==0){if((r&_e)===0)return;t.f^=_e}}Ce.push(t)}function Ma(e,t){if(!((e.f&Ye)!==0&&(e.f&_e)!==0)){(e.f&De)!==0?t.d.push(e):(e.f&Ke)!==0&&t.m.push(e),he(e,_e);for(var r=e.first;r!==null;)Ma(r,t),r=r.next}}function Xn(e){let t=0,r=Lt(0),a;return()=>{Hr()&&(m(r),Kr(()=>(t===0&&(a=Ot(()=>e(()=>rr(r)))),t+=1,()=>{Dt(()=>{t-=1,t===0&&(a?.(),a=void 0,rr(r))})})))}}var ei=Pt|Ht|wa;function ti(e,t,r){new ri(e,t,r)}class ri{parent;is_pending=!1;#t;#o=null;#e;#i;#s;#a=null;#r=null;#n=null;#l=null;#u=null;#c=0;#d=0;#m=!1;#v=!1;#p=new Set;#h=new Set;#f=null;#x=Xn(()=>(this.#f=Lt(this.#c),()=>{this.#f=null}));constructor(t,r,a){this.#t=t,this.#e=r,this.#i=a,this.parent=ce.b,this.is_pending=!!this.#e.pending,this.#s=mr(()=>{ce.b=this;{var n=this.#_();try{this.#a=Re(()=>a(n))}catch(i){this.error(i)}this.#d>0?this.#b():this.is_pending=!1}return()=>{this.#u?.remove()}},ei)}#w(){try{this.#a=Re(()=>this.#i(this.#t))}catch(t){this.error(t)}}#E(){const t=this.#e.pending;t&&(this.#r=Re(()=>t(this.#t)),Dt(()=>{var r=this.#_();this.#a=this.#g(()=>(_t.ensure(),Re(()=>this.#i(r)))),this.#d>0?this.#b():(At(this.#r,()=>{this.#r=null}),this.is_pending=!1)}))}#_(){var t=this.#t;return this.is_pending&&(this.#u=dt(),this.#t.before(this.#u),t=this.#u),t}defer_effect(t){Ta(t,this.#p,this.#h)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#e.pending}#g(t){var r=ce,a=ae,n=ye;Ze(this.#s),Be(this.#s),Bt(this.#s.ctx);try{return t()}catch(i){return qa(i),null}finally{Ze(r),Be(a),Bt(n)}}#b(){const t=this.#e.pending;this.#a!==null&&(this.#l=document.createDocumentFragment(),this.#l.append(this.#u),Qa(this.#a,this.#l)),this.#r===null&&(this.#r=Re(()=>t(this.#t)))}#y(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#y(t);return}if(this.#d+=t,this.#d===0){this.is_pending=!1;for(const r of this.#p)he(r,De),We(r);for(const r of this.#h)he(r,Ke),We(r);this.#p.clear(),this.#h.clear(),this.#r&&At(this.#r,()=>{this.#r=null}),this.#l&&(this.#t.before(this.#l),this.#l=null)}}update_pending_count(t){this.#y(t),this.#c+=t,!(!this.#f||this.#m)&&(this.#m=!0,Dt(()=>{this.#m=!1,this.#f&&Ut(this.#f,this.#c)}))}get_effect_pending(){return this.#x(),m(this.#f)}error(t){var r=this.#e.onerror;let a=this.#e.failed;if(this.#v||!r&&!a)throw t;this.#a&&(Pe(this.#a),this.#a=null),this.#r&&(Pe(this.#r),this.#r=null),this.#n&&(Pe(this.#n),this.#n=null);var n=!1,i=!1;const o=()=>{if(n){Hn();return}n=!0,i&&Tn(),_t.ensure(),this.#c=0,this.#n!==null&&At(this.#n,()=>{this.#n=null}),this.is_pending=this.has_pending_snippet(),this.#a=this.#g(()=>(this.#v=!1,Re(()=>this.#i(this.#t)))),this.#d>0?this.#b():this.is_pending=!1};Dt(()=>{try{i=!0,r?.(t,o),i=!1}catch(l){zt(l,this.#s&&this.#s.parent)}a&&(this.#n=this.#g(()=>{_t.ensure(),this.#v=!0;try{return Re(()=>{a(this.#t,()=>t,()=>o)})}catch(l){return zt(l,this.#s.parent),null}finally{this.#v=!1}}))})}}function ai(e,t,r,a){const n=Jt()?fr:Ft;var i=e.filter(v=>!v.settled);if(r.length===0&&i.length===0){a(t.map(n));return}var o=oe,l=ce,u=ni(),s=i.length===1?i[0].promise:i.length>1?Promise.all(i.map(v=>v.promise)):null;function d(v){u();try{a(v)}catch(_){(l.f&ct)===0&&zt(_,l)}o?.deactivate(),Pr()}if(r.length===0){s.then(()=>d(t.map(n)));return}function h(){u(),Promise.all(r.map(v=>ii(v))).then(v=>d([...t.map(n),...v])).catch(v=>zt(v,l))}s?s.then(h):h()}function ni(){var e=ce,t=ae,r=ye,a=oe;return function(i=!0){Ze(e),Be(t),Bt(r),i&&a?.activate()}}function Pr(){Ze(null),Be(null),Bt(null)}function fr(e){var t=Se|De,r=ae!==null&&(ae.f&Se)!==0?ae:null;return ce!==null&&(ce.f|=Ht),{ctx:ye,deps:null,effects:null,equals:Aa,f:t,fn:e,reactions:null,rv:0,v:Ee,wv:0,parent:r??ce,ac:null}}function ii(e,t,r){let a=ce;a===null&&En();var n=a.b,i=void 0,o=Lt(Ee),l=!ae,u=new Map;return yi(()=>{var s=ya();i=s.promise;try{Promise.resolve(e()).then(s.resolve,s.reject).then(()=>{d===oe&&d.committed&&d.deactivate(),Pr()})}catch(_){s.reject(_),Pr()}var d=oe;if(l){var h=n.is_rendered();n.update_pending_count(1),d.increment(h),u.get(d)?.reject(Et),u.delete(d),u.set(d,s)}const v=(_,g=void 0)=>{if(d.activate(),g)g!==Et&&(o.f|=gt,Ut(o,g));else{(o.f&gt)!==0&&(o.f^=gt),Ut(o,_);for(const[y,p]of u){if(u.delete(y),y===d)break;p.reject(Et)}}l&&(n.update_pending_count(-1),d.decrement(h))};s.promise.then(v,_=>v(null,_||"unknown"))}),Jr(()=>{for(const s of u.values())s.reject(Et)}),new Promise(s=>{function d(h){function v(){h===i?s(o):d(i)}h.then(v,v)}d(i)})}function z(e){const t=fr(e);return Xa(t),t}function Ft(e){const t=fr(e);return t.equals=Ca,t}function si(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)Pe(t[r])}}function oi(e){for(var t=e.parent;t!==null;){if((t.f&Se)===0)return(t.f&ct)===0?t:null;t=t.parent}return null}function Br(e){var t,r=ce;Ze(oi(e));try{e.f&=~Tt,si(e),t=an(e)}finally{Ze(r)}return t}function Ia(e){var t=Br(e);if(!e.equals(t)&&(e.wv=tn(),(!oe?.is_fork||e.deps===null)&&(e.v=t,e.deps===null))){he(e,_e);return}xt||(Ue!==null?(Hr()||oe?.is_fork)&&Ue.set(e,t):jr(e))}function li(e){if(e.effects!==null)for(const t of e.effects)(t.teardown||t.ac)&&(t.teardown?.(),t.ac?.abort(Et),t.teardown=ut,t.ac=null,sr(t,0),Yr(t))}function Ra(e){if(e.effects!==null)for(const t of e.effects)t.teardown&&Wt(t)}let Tr=new Set;const yt=new Map;let Fa=!1;function Lt(e,t){var r={f:0,v:e,reactions:null,equals:Aa,rv:0,wv:0};return r}function ge(e,t){const r=Lt(e);return Xa(r),r}function zr(e,t=!1,r=!0){const a=Lt(e);return t||(a.equals=Ca),dr&&r&&ye!==null&&ye.l!==null&&(ye.l.s??=[]).push(a),a}function it(e,t){return de(e,Ot(()=>m(e))),t}function de(e,t,r=!1){ae!==null&&(!He||(ae.f&ia)!==0)&&Jt()&&(ae.f&(Se|ft|Fr|ia))!==0&&(je===null||!jt.call(je,e))&&Pn();let a=r?ht(t):t;return Ut(e,a)}function Ut(e,t){if(!e.equals(t)){var r=e.v;xt?yt.set(e,t):yt.set(e,r),e.v=t;var a=_t.ensure();if(a.capture(e,r),(e.f&Se)!==0){const n=e;(e.f&De)!==0&&Br(n),jr(n)}e.wv=tn(),ja(e,De),Jt()&&ce!==null&&(ce.f&_e)!==0&&(ce.f&(Ye|Vt))===0&&(Ie===null?Ei([e]):Ie.push(e)),!a.is_fork&&Tr.size>0&&!Fa&&ui()}return t}function ui(){Fa=!1;for(const e of Tr)(e.f&_e)!==0&&he(e,Ke),pr(e)&&Wt(e);Tr.clear()}function ci(e,t=1){var r=m(e),a=t===1?r++:r--;return de(e,r),a}function rr(e){de(e,e.v+1)}function ja(e,t){var r=e.reactions;if(r!==null)for(var a=Jt(),n=r.length,i=0;i<n;i++){var o=r[i],l=o.f;if(!(!a&&o===ce)){var u=(l&De)===0;if(u&&he(o,t),(l&Se)!==0){var s=o;Ue?.delete(s),(l&Tt)===0&&(l&Fe&&(o.f|=Tt),ja(s,Ke))}else u&&((l&ft)!==0&&ot!==null&&ot.add(o),We(o))}}}function ht(e){if(typeof e!="object"||e===null||bt in e)return e;const t=Rr(e);if(t!==bn&&t!==_n)return e;var r=new Map,a=Ir(e),n=ge(0),i=kt,o=l=>{if(kt===i)return l();var u=ae,s=kt;Be(null),fa(i);var d=l();return Be(u),fa(s),d};return a&&r.set("length",ge(e.length)),new Proxy(e,{defineProperty(l,u,s){(!("value"in s)||s.configurable===!1||s.enumerable===!1||s.writable===!1)&&Nn();var d=r.get(u);return d===void 0?o(()=>{var h=ge(s.value);return r.set(u,h),h}):de(d,s.value,!0),!0},deleteProperty(l,u){var s=r.get(u);if(s===void 0){if(u in l){const d=o(()=>ge(Ee));r.set(u,d),rr(n)}}else de(s,Ee),rr(n);return!0},get(l,u,s){if(u===bt)return e;var d=r.get(u),h=u in l;if(d===void 0&&(!h||Rt(l,u)?.writable)&&(d=o(()=>{var _=ht(h?l[u]:Ee),g=ge(_);return g}),r.set(u,d)),d!==void 0){var v=m(d);return v===Ee?void 0:v}return Reflect.get(l,u,s)},getOwnPropertyDescriptor(l,u){var s=Reflect.getOwnPropertyDescriptor(l,u);if(s&&"value"in s){var d=r.get(u);d&&(s.value=m(d))}else if(s===void 0){var h=r.get(u),v=h?.v;if(h!==void 0&&v!==Ee)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return s},has(l,u){if(u===bt)return!0;var s=r.get(u),d=s!==void 0&&s.v!==Ee||Reflect.has(l,u);if(s!==void 0||ce!==null&&(!d||Rt(l,u)?.writable)){s===void 0&&(s=o(()=>{var v=d?ht(l[u]):Ee,_=ge(v);return _}),r.set(u,s));var h=m(s);if(h===Ee)return!1}return d},set(l,u,s,d){var h=r.get(u),v=u in l;if(a&&u==="length")for(var _=s;_<h.v;_+=1){var g=r.get(_+"");g!==void 0?de(g,Ee):_ in l&&(g=o(()=>ge(Ee)),r.set(_+"",g))}if(h===void 0)(!v||Rt(l,u)?.writable)&&(h=o(()=>ge(void 0)),de(h,ht(s)),r.set(u,h));else{v=h.v!==Ee;var y=o(()=>ht(s));de(h,y)}var p=Reflect.getOwnPropertyDescriptor(l,u);if(p?.set&&p.set.call(d,s),!v){if(a&&typeof u=="string"){var b=r.get("length"),V=Number(u);Number.isInteger(V)&&V>=b.v&&de(b,V+1)}rr(n)}return!0},ownKeys(l){m(n);var u=Reflect.ownKeys(l).filter(h=>{var v=r.get(h);return v===void 0||v.v!==Ee});for(var[s,d]of r)d.v!==Ee&&!(s in l)&&u.push(s);return u},setPrototypeOf(){qn()}})}function oa(e){try{if(e!==null&&typeof e=="object"&&bt in e)return e[bt]}catch{}return e}function di(e,t){return Object.is(oa(e),oa(t))}var la,Ba,za,Ua;function fi(){if(la===void 0){la=window,Ba=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;za=Rt(t,"firstChild").get,Ua=Rt(t,"nextSibling").get,na(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),na(r)&&(r.__t=void 0)}}function dt(e=""){return document.createTextNode(e)}function Er(e){return za.call(e)}function vr(e){return Ua.call(e)}function f(e,t){return Er(e)}function fe(e,t=!1){{var r=Er(e);return r instanceof Comment&&r.data===""?vr(r):r}}function c(e,t=1,r=!1){let a=e;for(;t--;)a=vr(a);return a}function vi(e){e.textContent=""}function Wa(){return!1}function mi(e,t,r){return document.createElementNS(Da,e,void 0)}let ua=!1;function pi(){ua||(ua=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function Ur(e){var t=ae,r=ce;Be(null),Ze(null);try{return e()}finally{Be(t),Ze(r)}}function Wr(e,t,r,a=r){e.addEventListener(t,()=>Ur(r));const n=e.__on_r;n?e.__on_r=()=>{n(),a(!0)}:e.__on_r=()=>a(!0),pi()}function Ha(e){ce===null&&(ae===null&&An(),Dn()),xt&&Sn()}function hi(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function Ge(e,t,r){var a=ce;a!==null&&(a.f&Me)!==0&&(e|=Me);var n={ctx:ye,deps:null,nodes:null,f:e|De|Fe,first:null,fn:t,last:null,next:null,parent:a,b:a&&a.b,prev:null,teardown:null,wv:0,ac:null};if(r)try{Wt(n)}catch(l){throw Pe(n),l}else t!==null&&We(n);var i=n;if(r&&i.deps===null&&i.teardown===null&&i.nodes===null&&i.first===i.last&&(i.f&Ht)===0&&(i=i.first,(e&ft)!==0&&(e&Pt)!==0&&i!==null&&(i.f|=Pt)),i!==null&&(i.parent=a,a!==null&&hi(i,a),ae!==null&&(ae.f&Se)!==0&&(e&Vt)===0)){var o=ae;(o.effects??=[]).push(i)}return n}function Hr(){return ae!==null&&!He}function Jr(e){const t=Ge(ur,null,!1);return he(t,_e),t.teardown=e,t}function ca(e){Ha();var t=ce.f,r=!ae&&(t&Ye)!==0&&(t&cr)===0;if(r){var a=ye;(a.e??=[]).push(e)}else return Ja(e)}function Ja(e){return Ge(ir|$a,e,!1)}function gi(e){return Ha(),Ge(ur|$a,e,!0)}function bi(e){_t.ensure();const t=Ge(Vt|Ht,e,!0);return(r={})=>new Promise(a=>{r.outro?At(t,()=>{Pe(t),a(void 0)}):(Pe(t),a(void 0))})}function _i(e){return Ge(ir,e,!1)}function yi(e){return Ge(Fr|Ht,e,!0)}function Kr(e,t=0){return Ge(ur|t,e,!0)}function te(e,t=[],r=[],a=[]){ai(a,t,r,n=>{Ge(ur,()=>e(...n.map(m)),!0)})}function mr(e,t=0){var r=Ge(ft|t,e,!0);return r}function Re(e){return Ge(Ye|Ht,e,!0)}function Ka(e){var t=e.teardown;if(t!==null){const r=xt,a=ae;da(!0),Be(null);try{t.call(null)}finally{da(r),Be(a)}}}function Yr(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){const n=r.ac;n!==null&&Ur(()=>{n.abort(Et)});var a=r.next;(r.f&Vt)!==0?r.parent=null:Pe(r,t),r=a}}function xi(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&Ye)===0&&Pe(t),t=r}}function Pe(e,t=!0){var r=!1;(t||(e.f&Ea)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(wi(e.nodes.start,e.nodes.end),r=!0),Yr(e,t&&!r),sr(e,0),he(e,ct);var a=e.nodes&&e.nodes.t;if(a!==null)for(const i of a)i.stop();Ka(e);var n=e.parent;n!==null&&n.first!==null&&Ya(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function wi(e,t){for(;e!==null;){var r=e===t?null:vr(e);e.remove(),e=r}}function Ya(e){var t=e.parent,r=e.prev,a=e.next;r!==null&&(r.next=a),a!==null&&(a.prev=r),t!==null&&(t.first===e&&(t.first=a),t.last===e&&(t.last=r))}function At(e,t,r=!0){var a=[];Za(e,a,!0);var n=()=>{r&&Pe(e),t&&t()},i=a.length;if(i>0){var o=()=>--i||n();for(var l of a)l.out(o)}else n()}function Za(e,t,r){if((e.f&Me)===0){e.f^=Me;var a=e.nodes&&e.nodes.t;if(a!==null)for(const l of a)(l.is_global||r)&&t.push(l);for(var n=e.first;n!==null;){var i=n.next,o=(n.f&Pt)!==0||(n.f&Ye)!==0&&(e.f&ft)!==0;Za(n,t,o?r:!1),n=i}}}function Zr(e){Ga(e,!0)}function Ga(e,t){if((e.f&Me)!==0){e.f^=Me,(e.f&_e)===0&&(he(e,De),We(e));for(var r=e.first;r!==null;){var a=r.next,n=(r.f&Pt)!==0||(r.f&Ye)!==0;Ga(r,n?t:!1),r=a}var i=e.nodes&&e.nodes.t;if(i!==null)for(const o of i)(o.is_global||t)&&o.in()}}function Qa(e,t){if(e.nodes)for(var r=e.nodes.start,a=e.nodes.end;r!==null;){var n=r===a?null:vr(r);t.append(r),r=n}}let _r=!1,xt=!1;function da(e){xt=e}let ae=null,He=!1;function Be(e){ae=e}let ce=null;function Ze(e){ce=e}let je=null;function Xa(e){ae!==null&&(je===null?je=[e]:je.push(e))}let Ne=null,Oe=0,Ie=null;function Ei(e){Ie=e}let en=1,St=0,kt=St;function fa(e){kt=e}function tn(){return++en}function pr(e){var t=e.f;if((t&De)!==0)return!0;if(t&Se&&(e.f&=~Tt),(t&Ke)!==0){for(var r=e.deps,a=r.length,n=0;n<a;n++){var i=r[n];if(pr(i)&&Ia(i),i.wv>e.wv)return!0}(t&Fe)!==0&&Ue===null&&he(e,_e)}return!1}function rn(e,t,r=!0){var a=e.reactions;if(a!==null&&!(je!==null&&jt.call(je,e)))for(var n=0;n<a.length;n++){var i=a[n];(i.f&Se)!==0?rn(i,t,!1):t===i&&(r?he(i,De):(i.f&_e)!==0&&he(i,Ke),We(i))}}function an(e){var t=Ne,r=Oe,a=Ie,n=ae,i=je,o=ye,l=He,u=kt,s=e.f;Ne=null,Oe=0,Ie=null,ae=(s&(Ye|Vt))===0?e:null,je=null,Bt(e.ctx),He=!1,kt=++St,e.ac!==null&&(Ur(()=>{e.ac.abort(Et)}),e.ac=null);try{e.f|=Nr;var d=e.fn,h=d();e.f|=cr;var v=e.deps,_=oe?.is_fork;if(Ne!==null){var g;if(_||sr(e,Oe),v!==null&&Oe>0)for(v.length=Oe+Ne.length,g=0;g<Ne.length;g++)v[Oe+g]=Ne[g];else e.deps=v=Ne;if(Hr()&&(e.f&Fe)!==0)for(g=Oe;g<v.length;g++)(v[g].reactions??=[]).push(e)}else!_&&v!==null&&Oe<v.length&&(sr(e,Oe),v.length=Oe);if(Jt()&&Ie!==null&&!He&&v!==null&&(e.f&(Se|Ke|De))===0)for(g=0;g<Ie.length;g++)rn(Ie[g],e);if(n!==null&&n!==e){if(St++,n.deps!==null)for(let y=0;y<r;y+=1)n.deps[y].rv=St;if(t!==null)for(const y of t)y.rv=St;Ie!==null&&(a===null?a=Ie:a.push(...Ie))}return(e.f&gt)!==0&&(e.f^=gt),h}catch(y){return qa(y)}finally{e.f^=Nr,Ne=t,Oe=r,Ie=a,ae=n,je=i,Bt(o),He=l,kt=u}}function $i(e,t){let r=t.reactions;if(r!==null){var a=gn.call(r,e);if(a!==-1){var n=r.length-1;n===0?r=t.reactions=null:(r[a]=r[n],r.pop())}}if(r===null&&(t.f&Se)!==0&&(Ne===null||!jt.call(Ne,t))){var i=t;(i.f&Fe)!==0&&(i.f^=Fe,i.f&=~Tt),jr(i),li(i),sr(i,0)}}function sr(e,t){var r=e.deps;if(r!==null)for(var a=t;a<r.length;a++)$i(e,r[a])}function Wt(e){var t=e.f;if((t&ct)===0){he(e,_e);var r=ce,a=_r;ce=e,_r=!0;try{(t&(ft|xa))!==0?xi(e):Yr(e),Ka(e);var n=an(e);e.teardown=typeof n=="function"?n:null,e.wv=en;var i;Cr&&Jn&&(e.f&De)!==0&&e.deps}finally{_r=a,ce=r}}}async function Si(){await Promise.resolve(),Gn()}function m(e){var t=e.f,r=(t&Se)!==0;if(ae!==null&&!He){var a=ce!==null&&(ce.f&ct)!==0;if(!a&&(je===null||!jt.call(je,e))){var n=ae.deps;if((ae.f&Nr)!==0)e.rv<St&&(e.rv=St,Ne===null&&n!==null&&n[Oe]===e?Oe++:Ne===null?Ne=[e]:Ne.push(e));else{(ae.deps??=[]).push(e);var i=e.reactions;i===null?e.reactions=[ae]:jt.call(i,ae)||i.push(ae)}}}if(xt&&yt.has(e))return yt.get(e);if(r){var o=e;if(xt){var l=o.v;return((o.f&_e)===0&&o.reactions!==null||sn(o))&&(l=Br(o)),yt.set(o,l),l}var u=(o.f&Fe)===0&&!He&&ae!==null&&(_r||(ae.f&Fe)!==0),s=(o.f&cr)===0;pr(o)&&(u&&(o.f|=Fe),Ia(o)),u&&!s&&(Ra(o),nn(o))}if(Ue?.has(e))return Ue.get(e);if((e.f&gt)!==0)throw e.v;return e.v}function nn(e){if(e.f|=Fe,e.deps!==null)for(const t of e.deps)(t.reactions??=[]).push(e),(t.f&Se)!==0&&(t.f&Fe)===0&&(Ra(t),nn(t))}function sn(e){if(e.v===Ee)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(yt.has(t)||(t.f&Se)!==0&&sn(t))return!0;return!1}function Ot(e){var t=He;try{return He=!0,e()}finally{He=t}}function Di(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(bt in e)Lr(e);else if(!Array.isArray(e))for(let t in e){const r=e[t];typeof r=="object"&&r&&bt in r&&Lr(r)}}}function Lr(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let a in e)try{Lr(e[a],t)}catch{}const r=Rr(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const a=_a(r);for(let n in a){const i=a[n].get;if(i)try{i.call(e)}catch{}}}}}const Ai=["touchstart","touchmove"];function ki(e){return Ai.includes(e)}const on=new Set,Vr=new Set;function Qe(e){for(var t=0;t<e.length;t++)on.add(e[t]);for(var r of Vr)r(e)}let va=null;function ma(e){var t=this,r=t.ownerDocument,a=e.type,n=e.composedPath?.()||[],i=n[0]||e.target;va=e;var o=0,l=va===e&&e.__root;if(l){var u=n.indexOf(l);if(u!==-1&&(t===document||t===window)){e.__root=t;return}var s=n.indexOf(t);if(s===-1)return;u<=s&&(o=u)}if(i=n[o]||e.target,i!==t){ba(e,"currentTarget",{configurable:!0,get(){return i||r}});var d=ae,h=ce;Be(null),Ze(null);try{for(var v,_=[];i!==null;){var g=i.assignedSlot||i.parentNode||i.host||null;try{var y=i["__"+a];y!=null&&(!i.disabled||e.target===i)&&y.call(i,e)}catch(p){v?_.push(p):v=p}if(e.cancelBubble||g===t||g===null)break;i=g}if(v){for(let p of _)queueMicrotask(()=>{throw p});throw v}}finally{e.__root=t,delete e.currentTarget,Be(d),Ze(h)}}}const Ci=globalThis?.window?.trustedTypes?.createPolicy("svelte-trusted-html",{createHTML:e=>e});function Ni(e){return Ci?.createHTML(e)??e}function qi(e,t=!1){var r=mi("template");return e=e.replaceAll("<!>","<!---->"),r.innerHTML=t?Ni(e):e,r.content}function $r(e,t){var r=ce;r.nodes===null&&(r.nodes={start:e,end:t,a:null,t:null})}function A(e,t){var r=(t&zn)!==0,a=(t&Un)!==0,n,i=!e.startsWith("<!>");return()=>{n===void 0&&(n=qi(i?e:"<!>"+e,!0),r||(n=Er(n)));var o=a||Ba?document.importNode(n,!0):n.cloneNode(!0);if(r){var l=Er(o),u=o.lastChild;$r(l,u)}else $r(o,o);return o}}function Gr(e=""){{var t=dt(e+"");return $r(t,t),t}}function Ct(){var e=document.createDocumentFragment(),t=document.createComment(""),r=dt();return e.append(t,r),$r(t,r),e}function S(e,t){e!==null&&e.before(t)}function M(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??=e.nodeValue)&&(e.__t=r,e.nodeValue=r+"")}function Pi(e,t){return Ti(e,t)}const gr=new Map;function Ti(e,{target:t,anchor:r,props:a={},events:n,context:i,intro:o=!0}){fi();var l=new Set,u=h=>{for(var v=0;v<h.length;v++){var _=h[v];if(!l.has(_)){l.add(_);var g=ki(_);for(const b of[t,document]){var y=gr.get(b);y===void 0&&(y=new Map,gr.set(b,y));var p=y.get(_);p===void 0?(b.addEventListener(_,ma,{passive:g}),y.set(_,1)):y.set(_,p+1)}}}};u(Sr(on)),Vr.add(u);var s=void 0,d=bi(()=>{var h=r??t.appendChild(dt());return ti(h,{pending:()=>{}},v=>{Le({});var _=ye;i&&(_.c=i),n&&(a.$$events=n),s=e(v,a)||{},Ve()}),()=>{for(var v of l)for(const y of[t,document]){var _=gr.get(y),g=_.get(v);--g==0?(y.removeEventListener(v,ma),_.delete(v),_.size===0&&gr.delete(y)):_.set(v,g)}Vr.delete(u),h!==r&&h.parentNode?.removeChild(h)}});return Li.set(s,d),s}let Li=new WeakMap;class Qr{anchor;#t=new Map;#o=new Map;#e=new Map;#i=new Set;#s=!0;constructor(t,r=!0){this.anchor=t,this.#s=r}#a=()=>{var t=oe;if(this.#t.has(t)){var r=this.#t.get(t),a=this.#o.get(r);if(a)Zr(a),this.#i.delete(r);else{var n=this.#e.get(r);n&&(this.#o.set(r,n.effect),this.#e.delete(r),n.fragment.lastChild.remove(),this.anchor.before(n.fragment),a=n.effect)}for(const[i,o]of this.#t){if(this.#t.delete(i),i===t)break;const l=this.#e.get(o);l&&(Pe(l.effect),this.#e.delete(o))}for(const[i,o]of this.#o){if(i===r||this.#i.has(i))continue;const l=()=>{if(Array.from(this.#t.values()).includes(i)){var s=document.createDocumentFragment();Qa(o,s),s.append(dt()),this.#e.set(i,{effect:o,fragment:s})}else Pe(o);this.#i.delete(i),this.#o.delete(i)};this.#s||!a?(this.#i.add(i),At(o,l,!1)):l()}}};#r=t=>{this.#t.delete(t);const r=Array.from(this.#t.values());for(const[a,n]of this.#e)r.includes(a)||(Pe(n.effect),this.#e.delete(a))};ensure(t,r){var a=oe,n=Wa();if(r&&!this.#o.has(t)&&!this.#e.has(t))if(n){var i=document.createDocumentFragment(),o=dt();i.append(o),this.#e.set(t,{effect:Re(()=>r(o)),fragment:i})}else this.#o.set(t,Re(()=>r(this.anchor)));if(this.#t.set(a,t),n){for(const[l,u]of this.#o)l===t?a.unskip_effect(u):a.skip_effect(u);for(const[l,u]of this.#e)l===t?a.unskip_effect(u.effect):a.skip_effect(u.effect);a.oncommit(this.#a),a.ondiscard(this.#r)}else this.#a()}}function le(e,t,r=!1){var a=new Qr(e),n=r?Pt:0;function i(o,l){a.ensure(o,l)}mr(()=>{var o=!1;t((l,u=0)=>{o=!0,i(u,l)}),o||i(!1,null)},n)}const Vi=Symbol("NaN");function Oi(e,t,r){var a=new Qr(e),n=!Jt();mr(()=>{var i=t();i!==i&&(i=Vi),n&&i!==null&&typeof i=="object"&&(i={}),a.ensure(i,r)})}function Xr(e,t){return t}function Mi(e,t,r){for(var a=[],n=t.length,i,o=t.length,l=0;l<n;l++){let h=t[l];At(h,()=>{if(i){if(i.pending.delete(h),i.done.add(h),i.pending.size===0){var v=e.outrogroups;Or(Sr(i.done)),v.delete(i),v.size===0&&(e.outrogroups=null)}}else o-=1},!1)}if(o===0){var u=a.length===0&&r!==null;if(u){var s=r,d=s.parentNode;vi(d),d.append(s),e.items.clear()}Or(t,!u)}else i={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(i)}function Or(e,t=!0){for(var r=0;r<e.length;r++)Pe(e[r],t)}var pa;function ea(e,t,r,a,n,i=null){var o=e,l=new Map,u=(t&Sa)!==0;if(u){var s=e;o=s.appendChild(dt())}var d=null,h=Ft(()=>{var b=r();return Ir(b)?b:b==null?[]:Sr(b)}),v,_=!0;function g(){p.fallback=d,Ii(p,v,o,t,a),d!==null&&(v.length===0?(d.f&lt)===0?Zr(d):(d.f^=lt,er(d,null,o)):At(d,()=>{d=null}))}var y=mr(()=>{v=m(h);for(var b=v.length,V=new Set,C=oe,D=Wa(),L=0;L<b;L+=1){var N=v[L],T=a(N,L),k=_?null:l.get(T);k?(k.v&&Ut(k.v,N),k.i&&Ut(k.i,L),D&&C.unskip_effect(k.e)):(k=Ri(l,_?o:pa??=dt(),N,T,L,n,t,r),_||(k.e.f|=lt),l.set(T,k)),V.add(T)}if(b===0&&i&&!d&&(_?d=Re(()=>i(o)):(d=Re(()=>i(pa??=dt())),d.f|=lt)),b>V.size&&$n(),!_)if(D){for(const[F,H]of l)V.has(F)||C.skip_effect(H.e);C.oncommit(g),C.ondiscard(()=>{})}else g();m(h)}),p={effect:y,items:l,outrogroups:null,fallback:d};_=!1}function Qt(e){for(;e!==null&&(e.f&Ye)===0;)e=e.next;return e}function Ii(e,t,r,a,n){var i=(a&On)!==0,o=t.length,l=e.items,u=Qt(e.effect.first),s,d=null,h,v=[],_=[],g,y,p,b;if(i)for(b=0;b<o;b+=1)g=t[b],y=n(g,b),p=l.get(y).e,(p.f&lt)===0&&(p.nodes?.a?.measure(),(h??=new Set).add(p));for(b=0;b<o;b+=1){if(g=t[b],y=n(g,b),p=l.get(y).e,e.outrogroups!==null)for(const H of e.outrogroups)H.pending.delete(p),H.done.delete(p);if((p.f&lt)!==0)if(p.f^=lt,p===u)er(p,null,r);else{var V=d?d.next:u;p===e.effect.last&&(e.effect.last=p.prev),p.prev&&(p.prev.next=p.next),p.next&&(p.next.prev=p.prev),mt(e,d,p),mt(e,p,V),er(p,V,r),d=p,v=[],_=[],u=Qt(d.next);continue}if((p.f&Me)!==0&&(Zr(p),i&&(p.nodes?.a?.unfix(),(h??=new Set).delete(p))),p!==u){if(s!==void 0&&s.has(p)){if(v.length<_.length){var C=_[0],D;d=C.prev;var L=v[0],N=v[v.length-1];for(D=0;D<v.length;D+=1)er(v[D],C,r);for(D=0;D<_.length;D+=1)s.delete(_[D]);mt(e,L.prev,N.next),mt(e,d,L),mt(e,N,C),u=C,d=N,b-=1,v=[],_=[]}else s.delete(p),er(p,u,r),mt(e,p.prev,p.next),mt(e,p,d===null?e.effect.first:d.next),mt(e,d,p),d=p;continue}for(v=[],_=[];u!==null&&u!==p;)(s??=new Set).add(u),_.push(u),u=Qt(u.next);if(u===null)continue}(p.f&lt)===0&&v.push(p),d=p,u=Qt(p.next)}if(e.outrogroups!==null){for(const H of e.outrogroups)H.pending.size===0&&(Or(Sr(H.done)),e.outrogroups?.delete(H));e.outrogroups.size===0&&(e.outrogroups=null)}if(u!==null||s!==void 0){var T=[];if(s!==void 0)for(p of s)(p.f&Me)===0&&T.push(p);for(;u!==null;)(u.f&Me)===0&&u!==e.fallback&&T.push(u),u=Qt(u.next);var k=T.length;if(k>0){var F=(a&Sa)!==0&&o===0?r:null;if(i){for(b=0;b<k;b+=1)T[b].nodes?.a?.measure();for(b=0;b<k;b+=1)T[b].nodes?.a?.fix()}Mi(e,T,F)}}i&&Dt(()=>{if(h!==void 0)for(p of h)p.nodes?.a?.apply()})}function Ri(e,t,r,a,n,i,o,l){var u=(o&Ln)!==0?(o&Mn)===0?zr(r,!1,!1):Lt(r):null,s=(o&Vn)!==0?Lt(n):null;return{v:u,i:s,e:Re(()=>(i(t,u??r,s??n,l),()=>{e.delete(a)}))}}function er(e,t,r){if(e.nodes)for(var a=e.nodes.start,n=e.nodes.end,i=t&&(t.f&lt)===0?t.nodes.start:r;a!==null;){var o=vr(a);if(i.before(a),a===n)return;a=o}}function mt(e,t,r){t===null?e.effect.first=r:t.next=r,r===null?e.effect.last=t:r.prev=t}function Nt(e,t,...r){var a=new Qr(e);mr(()=>{const n=t()??null;a.ensure(n,n&&(i=>n(i,...r)))},Pt)}function Fi(e,t,r){var a=e==null?"":""+e;return a===""?null:a}function Te(e,t,r,a,n,i){var o=e.__className;if(o!==r||o===void 0){var l=Fi(r);l==null?e.removeAttribute("class"):t?e.className=l:e.setAttribute("class",l),e.__className=r}return i}function ln(e,t,r=!1){if(e.multiple){if(t==null)return;if(!Ir(t))return Wn();for(var a of e.options)a.selected=t.includes(ar(a));return}for(a of e.options){var n=ar(a);if(di(n,t)){a.selected=!0;return}}(!r||t!==void 0)&&(e.selectedIndex=-1)}function ji(e){var t=new MutationObserver(()=>{ln(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Jr(()=>{t.disconnect()})}function Bi(e,t,r=t){var a=new WeakSet,n=!0;Wr(e,"change",i=>{var o=i?"[selected]":":checked",l;if(e.multiple)l=[].map.call(e.querySelectorAll(o),ar);else{var u=e.querySelector(o)??e.querySelector("option:not([disabled])");l=u&&ar(u)}r(l),oe!==null&&a.add(oe)}),_i(()=>{var i=t();if(e===document.activeElement){var o=wr??oe;if(a.has(o))return}if(ln(e,i,n),n&&i===void 0){var l=e.querySelector(":checked");l!==null&&(i=ar(l),r(i))}e.__value=i,n=!1}),ji(e)}function ar(e){return"__value"in e?e.__value:e.value}const zi=Symbol("is custom element"),Ui=Symbol("is html");function $e(e,t,r,a){var n=Wi(e);n[t]!==(n[t]=r)&&(t==="loading"&&(e[wn]=r),r==null?e.removeAttribute(t):typeof r!="string"&&Hi(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function Wi(e){return e.__attributes??={[zi]:e.nodeName.includes("-"),[Ui]:e.namespaceURI===Da}}var ha=new Map;function Hi(e){var t=e.getAttribute("is")||e.nodeName,r=ha.get(t);if(r)return r;ha.set(t,r=[]);for(var a,n=e,i=Element.prototype;i!==n;){a=_a(n);for(var o in a)a[o].set&&r.push(o);n=Rr(n)}return r}function or(e,t,r=t){var a=new WeakSet;Wr(e,"input",async n=>{var i=n?e.defaultValue:e.value;if(i=Ar(e)?kr(i):i,r(i),oe!==null&&a.add(oe),await Si(),i!==(i=t())){var o=e.selectionStart,l=e.selectionEnd,u=e.value.length;if(e.value=i??"",l!==null){var s=e.value.length;o===l&&l===u&&s>u?(e.selectionStart=s,e.selectionEnd=s):(e.selectionStart=o,e.selectionEnd=Math.min(l,s))}}}),Ot(t)==null&&e.value&&(r(Ar(e)?kr(e.value):e.value),oe!==null&&a.add(oe)),Kr(()=>{var n=t();if(e===document.activeElement){var i=wr??oe;if(a.has(i))return}Ar(e)&&n===kr(e.value)||e.type==="date"&&!n&&!e.value||n!==e.value&&(e.value=n??"")})}function yr(e,t,r=t){Wr(e,"change",a=>{var n=a?e.defaultChecked:e.checked;r(n)}),Ot(t)==null&&r(e.checked),Kr(()=>{var a=t();e.checked=!!a})}function Ar(e){var t=e.type;return t==="number"||t==="range"}function kr(e){return e===""?null:+e}function Ji(e=!1){const t=ye,r=t.l.u;if(!r)return;let a=()=>Di(t.s);if(e){let n=0,i={};const o=fr(()=>{let l=!1;const u=t.s;for(const s in u)u[s]!==i[s]&&(i[s]=u[s],l=!0);return l&&n++,n});a=()=>m(o)}r.b.length&&gi(()=>{ga(t,a),xr(r.b)}),ca(()=>{const n=Ot(()=>r.m.map(yn));return()=>{for(const i of n)typeof i=="function"&&i()}}),r.a.length&&ca(()=>{ga(t,a),xr(r.a)})}function ga(e,t){if(e.l.s)for(const r of e.l.s)m(r);t()}function ta(e,t,r){if(e==null)return t(void 0),r&&r(void 0),ut;const a=Ot(()=>e.subscribe(t,r));return a.unsubscribe?()=>a.unsubscribe():a}const Mt=[];function Ki(e,t){return{subscribe:pt(e,t).subscribe}}function pt(e,t=ut){let r=null;const a=new Set;function n(l){if(ka(e,l)&&(e=l,r)){const u=!Mt.length;for(const s of a)s[1](),Mt.push(s,e);if(u){for(let s=0;s<Mt.length;s+=2)Mt[s][0](Mt[s+1]);Mt.length=0}}}function i(l){n(l(e))}function o(l,u=ut){const s=[l,u];return a.add(s),a.size===1&&(r=t(n,i)||ut),l(e),()=>{a.delete(s),a.size===0&&r&&(r(),r=null)}}return{set:n,update:i,subscribe:o}}function Xt(e,t,r){const a=!Array.isArray(e),n=a?[e]:e;if(!n.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const i=t.length<2;return Ki(r,(o,l)=>{let u=!1;const s=[];let d=0,h=ut;const v=()=>{if(d)return;h();const g=t(a?s[0]:s,o,l);i?o(g):h=typeof g=="function"?g:ut},_=n.map((g,y)=>ta(g,p=>{s[y]=p,d&=~(1<<y),u&&v()},()=>{d|=1<<y}));return u=!0,v(),function(){xr(_),h(),u=!1}})}function st(e){let t;return ta(e,r=>t=r)(),t}let br=!1,Mr=Symbol();function Y(e,t,r){const a=r[t]??={store:null,source:zr(void 0),unsubscribe:ut};if(a.store!==e&&!(Mr in r))if(a.unsubscribe(),a.store=e??null,e==null)a.source.v=void 0,a.unsubscribe=ut;else{var n=!0;a.unsubscribe=ta(e,i=>{n?a.source.v=i:de(a.source,i)}),n=!1}return e&&Mr in r?st(e):m(a.source)}function Xe(){const e={};function t(){Jr(()=>{for(var r in e)e[r].unsubscribe();ba(e,Mr,{enumerable:!1,value:!0})})}return[e,t]}function Yi(e){var t=br;try{return br=!1,[e(),br]}finally{br=t}}function qe(e,t,r,a){var n=!dr||(r&Rn)!==0,i=(r&jn)!==0,o=(r&Bn)!==0,l=a,u=!0,s=()=>(u&&(u=!1,l=o?Ot(a):a),l),d;if(i){var h=bt in e||xn in e;d=Rt(e,t)?.set??(h&&t in e?C=>e[t]=C:void 0)}var v,_=!1;i?[v,_]=Yi(()=>e[t]):v=e[t],v===void 0&&a!==void 0&&(v=s(),d&&(n&&Cn(),d(v)));var g;if(n?g=()=>{var C=e[t];return C===void 0?s():(u=!0,C)}:g=()=>{var C=e[t];return C!==void 0&&(l=void 0),C===void 0?l:C},n&&(r&Fn)===0)return g;if(d){var y=e.$$legacy;return(function(C,D){return arguments.length>0?((!n||!D||y||_)&&d(D?g():C),C):g()})}var p=!1,b=((r&In)!==0?fr:Ft)(()=>(p=!1,g()));i&&m(b);var V=ce;return(function(C,D){if(arguments.length>0){const L=D?m(b):n&&i?ht(C):C;return de(b,L),p=!0,l!==void 0&&(l=L),C}return xt&&p||(V.f&ct)!==0?b.v:m(b)})}const Zi="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Zi);const Gi=e=>typeof e=="object"&&e!==null&&!(e instanceof Date)&&!(e instanceof Map)&&!(e instanceof Set)&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof RegExp)&&!(e instanceof Error)&&!(e instanceof Promise),Qi=(e,t)=>{const r=(n,i)=>new Proxy(n,{get(o,l){const u=o[l];if(Gi(u)){const s=Number.isInteger(Number(l))?"":String(l),d=s?i?`${i}.${s}`:s:i;return r(u,d)}return u},set(o,l,u){const s=o[l];if(s!==u){o[l]=u;const d=Number.isInteger(Number(l))?"":String(l),h=d?i?`${i}.${d}`:d:i;t(a,h,u,s)}return!0}}),a=r(e,"");return a},un=e=>Object.values(e).some(t=>typeof t=="string"?!!t:un(t)),Xi=e=>!!e&&un(e),It=e=>{if(e===null||typeof e!="object")return e;if(e instanceof Date)return new Date(e);if(Array.isArray(e))return e.map(r=>It(r));const t=Object.create(Object.getPrototypeOf(e));for(const r of Object.keys(e))t[r]=It(e[r]);return t},es=(e,t)=>{const r=t.split(".");let a=e;for(const n of r){if(a==null)return;a=a[n]}return a},ts=(e,t)=>{if(!e)return"";const r=t.split(".");let a=e;for(const n of r){if(typeof a=="string"||a[n]===void 0)return"";a=a[n]}return typeof a=="string"?a:""},rs=(e,t)=>{const r=[];for(const a of Object.keys(e))(a===t||a.startsWith(t+".")||t.startsWith(a+"."))&&r.push(a);return r},as={resetDirtyOnAction:!0,debounceValidation:0,allowConcurrentActions:!1,persistActionError:!1,debounceAsyncValidation:300,runAsyncValidationOnInit:!1,clearAsyncErrorsOnChange:!0,maxConcurrentAsyncValidations:4,maxSnapshots:50};function et(e,t,r){const a={...as,...r},{validator:n,effect:i,asyncValidator:o}=t??{},l=pt(),u=Xt(l,Xi),s=pt({}),d=Xt(s,x=>Object.keys(x).length>0),h=pt(!1),v=pt(),_=pt([{title:"Initial",data:It(e)}]),g=pt({}),y=pt(new Set),p=Xt(y,x=>[...x]),b=Xt(g,x=>Object.values(x).some(w=>!!w)),V=Xt([u,b],([x,w])=>x||w),C=new Map,D=[],L=x=>{s.update(w=>{const $={...w,[x]:!0},O=x.split(".");for(let G=1;G<O.length;G++)$[O.slice(0,G).join(".")]=!0;return $})},N=ht(e),T=(x,w=!0)=>{const $=st(_),O={title:x,data:It(N)},G=$.at(-1);let R=w&&G&&G.title===x?[...$.slice(0,-1),O]:[...$,O];if(a.maxSnapshots>0&&R.length>a.maxSnapshots){const W=R.length-a.maxSnapshots;R=[R[0],...R.slice(1+W)]}_.set(R)};let k=!1,F;const H=()=>{if(n)if(a.debounceValidation>0)clearTimeout(F),F=setTimeout(()=>{l.set(n(j))},a.debounceValidation);else{if(k)return;k=!0,queueMicrotask(()=>{l.set(n(j)),k=!1})}},X=x=>{const w=D.indexOf(x);w!==-1&&D.splice(w,1)},Z=x=>{X(x);const w=C.get(x);w&&(clearTimeout(w.timeoutId),w.controller.abort(),C.delete(x),y.update($=>($.delete(x),new Set($))))},I=()=>{D.length=0;for(const x of C.keys())Z(x);g.set({})},P=async(x,w)=>{if(!o){w();return}const $=o[x];if(!$){w();return}if(ts(st(l),x)){w();return}const G=new AbortController;C.set(x,{controller:G,timeoutId:0}),y.update(R=>new Set([...R,x]));try{const R=es(j,x),W=await $(R,j,G.signal);G.signal.aborted||g.update(pe=>({...pe,[x]:W}))}catch(R){if(R instanceof Error&&R.name!=="AbortError")throw R}finally{C.delete(x),y.update(R=>(R.delete(x),new Set(R))),w()}},E=()=>{for(;D.length>0&&!(st(y).size>=a.maxConcurrentAsyncValidations);){const w=D.shift();w&&P(w,E)}},q=x=>{if(!o||!o[x])return;Z(x),a.clearAsyncErrorsOnChange&&g.update(O=>{const G={...O};return delete G[x],G});const w=new AbortController,$=setTimeout(()=>{C.delete(x),st(y).size<a.maxConcurrentAsyncValidations?P(x,E):(X(x),D.push(x))},a.debounceAsyncValidation);C.set(x,{controller:w,timeoutId:$})},U=x=>{if(!o)return;const w=rs(o,x);for(const $ of w)q($)},j=Qi(N,(x,w,$,O)=>{if(a.persistActionError||v.set(void 0),L(w),i?.({snapshot:T,target:x,property:w,currentValue:$,oldValue:O})instanceof Promise)throw new Error("svstate: effect callback must be synchronous. Use action for async operations.");H(),U(w)});if(n&&l.set(n(j)),o&&a.runAsyncValidationOnInit)for(const x of Object.keys(o))q(x);const B=async x=>{if(!(!a.allowConcurrentActions&&st(h))){v.set(void 0),h.set(!0);try{await t?.action?.(x),a.resetDirtyOnAction&&s.set({}),_.set([{title:"Initial",data:It(N)}]),await t?.actionCompleted?.()}catch(w){await t?.actionCompleted?.(w),v.set(w instanceof Error?w:void 0)}finally{h.set(!1)}}},J=(x,w)=>{const $=w[x];$&&(I(),s.set({}),Object.assign(N,It($.data)),_.set(w.slice(0,x+1)),n&&l.set(n(j)))};return{data:j,execute:B,state:{errors:l,hasErrors:u,isDirty:d,isDirtyByField:s,actionInProgress:h,actionError:v,snapshots:_,asyncErrors:g,hasAsyncErrors:b,asyncValidating:p,hasCombinedErrors:V},rollback:(x=1)=>{const w=st(_);if(w.length<=1)return;const $=Math.max(0,w.length-1-x);J($,w)},rollbackTo:x=>{const w=st(_);if(w.length<=1)return!1;for(let $=w.length-1;$>=0;$--)if(w[$].title===x)return J($,w),!0;return!1},reset:()=>{const x=st(_);x[0]&&J(0,x)}}}const ns={trim:e=>e.trim(),normalize:e=>e.replaceAll(/\s{2,}/g," "),upper:e=>e.toUpperCase(),lower:e=>e.toLowerCase(),localeUpper:e=>e.toLocaleUpperCase(),localeLower:e=>e.toLocaleLowerCase()};function ne(e){let t="";const r=e==null;let a=e??"";const n=o=>{t||(t=o)},i={prepare(...o){return a=o.reduce((l,u)=>ns[u](l),a),i},required(){return!t&&(r||!a)&&n("Required"),i},requiredIf(o){return o&&!t&&(r||!a)&&n("Required"),i},noSpace(){return r||!t&&a.includes(" ")&&n("No space allowed"),i},notBlank(){return r||!t&&a.length>0&&a.trim().length===0&&n("Must not be blank"),i},minLength(o){return r||!t&&a.length<o&&n(`Min length ${o}`),i},maxLength(o){return r||!t&&a.length>o&&n(`Max length ${o}`),i},uppercase(){return r||!t&&a!==a.toUpperCase()&&n("Uppercase only"),i},lowercase(){return r||!t&&a!==a.toLowerCase()&&n("Lowercase only"),i},startsWith(o){if(t)return i;const l=Array.isArray(o)?o:[o];return a&&!l.some(u=>a.startsWith(u))&&n(`Must start with ${l.join(", ")}`),i},regexp(o,l){return!t&&a&&!o.test(a)&&n(l??"Not allowed chars"),i},in(o){if(t)return i;const l=Array.isArray(o)?o:Object.keys(o);return a&&!l.includes(a)&&n(`Must be one of: ${l.join(", ")}`),i},notIn(o){if(t)return i;const l=Array.isArray(o)?o:Object.keys(o);return a&&l.includes(a)&&n(`Must not be one of: ${l.join(", ")}`),i},email(){return!t&&a&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)&&n("Invalid email format"),i},website(o="optional"){if(t||!a||o==="optional")return i;const l=/^https?:\/\//.test(a);return o==="required"&&!l?n("Must start with http:// or https://"):o==="forbidden"&&l&&n("Must not start with http:// or https://"),i},endsWith(o){if(t||!a)return i;const l=Array.isArray(o)?o:[o];return l.some(u=>a.endsWith(u))||n(`Must end with ${l.join(", ")}`),i},contains(o){return!t&&a&&!a.includes(o)&&n(`Must contain "${o}"`),i},alphanumeric(){return!t&&a&&!/^[\dA-Za-z]+$/.test(a)&&n("Only letters and numbers allowed"),i},numeric(){return!t&&a&&!/^\d+$/.test(a)&&n("Only numbers allowed"),i},slug(){return!t&&a&&!/^[\da-z-]+$/.test(a)&&n("Invalid slug format"),i},identifier(){return!t&&a&&!/^[A-Z_a-z]\w*$/.test(a)&&n("Invalid identifier format"),i},getError(){return t}};return i}function lr(e){let t="";const r=e==null,a=i=>{t||(t=i)},n={required(){return!t&&(r||Number.isNaN(e))&&a("Required"),n},requiredIf(i){return i&&!t&&(r||Number.isNaN(e))&&a("Required"),n},min(i){return r||!t&&e<i&&a(`Minimum ${i}`),n},max(i){return r||!t&&e>i&&a(`Maximum ${i}`),n},between(i,o){return r||!t&&(e<i||e>o)&&a(`Must be between ${i} and ${o}`),n},integer(){return r||!t&&!Number.isInteger(e)&&a("Must be an integer"),n},positive(){return r||!t&&e<=0&&a("Must be positive"),n},negative(){return r||!t&&e>=0&&a("Must be negative"),n},nonNegative(){return r||!t&&e<0&&a("Must be non-negative"),n},notZero(){return r||!t&&e===0&&a("Must not be zero"),n},multipleOf(i){return r||!t&&e%i!==0&&a(`Must be a multiple of ${i}`),n},step(i){return r||!t&&e%i!==0&&a(`Must be a multiple of ${i}`),n},decimal(i){return r||t||Number.isNaN(e)||(String(e).split(".")[1]?.length??0)>i&&a(`Maximum ${i} decimal places`),n},percentage(){return r||!t&&(e<0||e>100)&&a("Must be between 0 and 100"),n},getError(){return t}};return n}function is(e){let t="";const r=e==null,a=e??[],n=o=>{t||(t=o)},i={required(){return!t&&(r||a.length===0)&&n("Required"),i},requiredIf(o){return o&&!t&&(r||a.length===0)&&n("Required"),i},minLength(o){return r||!t&&a.length<o&&n(`Minimum ${o} items`),i},maxLength(o){return r||!t&&a.length>o&&n(`Maximum ${o} items`),i},unique(){if(r||t)return i;const o=new Set;for(const l of a){const u=typeof l=="object"?JSON.stringify(l):String(l);if(o.has(u)){n("Items must be unique");break}o.add(u)}return i},ofLength(o){return r||!t&&a.length!==o&&n(`Must have exactly ${o} items`),i},includes(o){if(r||t)return i;const l=typeof o=="object"?JSON.stringify(o):String(o);return a.some(s=>(typeof s=="object"?JSON.stringify(s):String(s))===l)||n(`Must include ${l}`),i},includesAny(o){if(r||t)return i;const l=o.map(s=>typeof s=="object"?JSON.stringify(s):String(s));return a.some(s=>{const d=typeof s=="object"?JSON.stringify(s):String(s);return l.includes(d)})||n(`Must include at least one of: ${l.join(", ")}`),i},includesAll(o){if(r||t)return i;const l=new Set(a.map(s=>typeof s=="object"?JSON.stringify(s):String(s))),u=o.filter(s=>{const d=typeof s=="object"?JSON.stringify(s):String(s);return!l.has(d)});if(u.length>0){const s=u.map(d=>typeof d=="object"?JSON.stringify(d):String(d));n(`Missing required items: ${s.join(", ")}`)}return i},getError(){return t}};return i}var ss=A('<h6 class="mb-2 text-sm font-medium text-gray-700"> </h6>'),os=A('<div><!> <pre class="overflow-auto rounded-lg bg-gray-900 p-4 text-xs text-gray-100"> </pre></div>');function me(e,t){var r=os(),a=f(r);{var n=l=>{var u=ss(),s=f(u);te(()=>M(s,t.title)),S(l,u)};le(a,l=>{t.title&&l(n)})}var i=c(a,2),o=f(i);te(()=>M(o,t.code)),S(e,r)}var ls=A('<div class="rounded-lg border border-gray-300 bg-gray-50 p-4 shadow-inner"><h6 class="mb-2 text-sm font-medium text-gray-700">Dirty Fields</h6> <pre class="overflow-auto text-xs text-gray-600"> </pre></div>'),us=A('<div><div class="rounded-lg border border-gray-300 bg-gray-50 p-4 shadow-inner"><h6 class="mb-2 text-sm font-medium text-gray-700">State Object</h6> <pre class="overflow-auto text-xs text-gray-600"> </pre></div> <div class="rounded-lg border border-gray-300 bg-gray-50 p-4 shadow-inner"><h6 class="mb-2 text-sm font-medium text-gray-700">State Info</h6> <div class="space-y-1 text-xs text-gray-600"><div><span class="font-medium">isDirty:</span> </div> <div><span class="font-medium">hasErrors:</span> </div></div></div> <!> <div class="rounded-lg border border-gray-300 bg-gray-50 p-4 shadow-inner"><h6 class="mb-2 text-sm font-medium text-gray-700">Errors</h6> <pre class="overflow-auto text-xs text-gray-600"> </pre></div> <button class="w-full cursor-pointer rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500" type="button">Fill with Valid Data</button></div>');function tt(e,t){Le(t,!0);let r=qe(t,"width",3,"xl:w-80");var a=us(),n=f(a),i=c(f(n),2),o=f(i),l=c(n,2),u=c(f(l),2),s=f(u),d=c(f(s)),h=c(s,2),v=c(f(h)),_=c(l,2);{var g=C=>{var D=ls(),L=c(f(D),2),N=f(L);te(T=>M(N,T),[()=>JSON.stringify(t.isDirtyByField,Object.keys(t.isDirtyByField).toSorted(),2)]),S(C,D)};le(_,C=>{t.isDirtyByField&&C(g)})}var y=c(_,2),p=c(f(y),2),b=f(p),V=c(y,2);V.__click=function(...C){t.onFill?.apply(this,C)},te((C,D)=>{Te(a,1,`w-full ${r()??""} flex-shrink-0 space-y-4`),M(o,C),M(d,` ${t.isDirty??""}`),M(v,` ${t.hasErrors??""}`),M(b,D)},[()=>JSON.stringify(t.data,void 0,2),()=>JSON.stringify(t.errors,void 0,2)]),S(e,a),Ve()}Qe(["click"]);var cs=A('<p class="mt-1 text-sm text-red-600"> </p>');function nr(e,t){var r=Ct(),a=fe(r);{var n=i=>{var o=cs(),l=f(o);te(()=>M(l,t.error)),S(i,o)};le(a,i=>{t.error&&i(n)})}S(e,r)}var ds=A('<span class="ml-1 inline-block h-2 w-2 rounded-full bg-amber-400" title="Modified"></span>'),fs=A("<div><label> <!></label> <input/> <!></div>");function ie(e,t){Le(t,!0);let r=qe(t,"type",3,"text"),a=qe(t,"placeholder",3,""),n=qe(t,"value",15),i=qe(t,"error",3,""),o=qe(t,"required",3,!0),l=qe(t,"disabled",3,!1),u=qe(t,"variant",3,"default");const s=z(()=>u()==="nested"?"bg-white":"bg-gray-50");var d=fs(),h=f(d),v=f(h),_=c(v);{var g=b=>{var V=ds();S(b,V)};le(_,b=>{t.isDirty&&b(g)})}var y=c(h,2),p=c(y,2);{let b=z(()=>i()??"");nr(p,{get error(){return m(b)}})}te(()=>{Te(h,1,`mb-2 block text-sm text-gray-900 ${o()?"font-bold":""}`),$e(h,"for",t.id),M(v,`${t.label??""} `),$e(y,"id",t.id),Te(y,1,`block w-full rounded-lg border p-2.5 text-sm ${i()?"border-red-500 bg-red-50 text-red-900 placeholder-red-400 focus:border-red-500 focus:ring-red-500":`border-gray-300 ${m(s)} text-gray-900 focus:border-blue-500 focus:ring-blue-500`} ${l()?"cursor-not-allowed opacity-50":""}`),y.disabled=l(),$e(y,"max",t.max),$e(y,"min",t.min),$e(y,"placeholder",a()),$e(y,"step",t.step),$e(y,"type",r())}),or(y,n),S(e,d),Ve()}var vs=A('<p class="mb-4 text-sm text-gray-600"> </p>'),ms=A('<div class="mb-3"></div>'),ps=A('<div class="flex flex-col gap-4 xl:flex-row xl:gap-6"><div class="min-w-0 flex-1 rounded-lg border border-gray-200 bg-white p-4 shadow-sm sm:p-6"><h5 class="mb-1 text-lg font-medium text-gray-900 sm:text-xl"> </h5> <!> <!></div> <!></div> <!>',1);function rt(e,t){var r=ps(),a=fe(r),n=f(a),i=f(n),o=f(i),l=c(i,2);{var u=g=>{var y=vs(),p=f(y);te(()=>M(p,t.description)),S(g,y)},s=g=>{var y=ms();S(g,y)};le(l,g=>{t.description?g(u):g(s,!1)})}var d=c(l,2);Nt(d,()=>t.main);var h=c(n,2);Nt(h,()=>t.sidebar);var v=c(a,2);{var _=g=>{var y=Ct(),p=fe(y);Nt(p,()=>t.sourceCode),S(g,y)};le(v,g=>{t.sourceCode&&g(_)})}te(()=>M(o,t.title)),S(e,r)}var hs=A('<div class="space-y-4 p-4"><!></div>'),gs=A('<div class="mt-6 rounded-lg border border-gray-200 bg-white shadow-sm"><button type="button"><span>Source Code</span> <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M19 9l-7 7-7-7" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg></button> <!></div>');function at(e,t){let r=ge(!1);var a=gs(),n=f(a);n.__click=()=>de(r,!m(r));var i=c(f(n),2),o=c(n,2);{var l=u=>{var s=hs(),d=f(s);Nt(d,()=>t.children),S(u,s)};le(o,u=>{m(r)&&u(l)})}te(()=>{Te(n,1,`flex w-full cursor-pointer items-center justify-between px-4 py-3 text-left text-sm font-medium text-gray-900 hover:bg-gray-50 ${m(r)?"border-b border-gray-200":""}`),Te(i,0,`h-5 w-5 transform transition-transform ${m(r)?"rotate-180":""}`)}),S(e,a)}Qe(["click"]);var bs=A('<div class="mb-4 flex gap-2"><span> </span> <span> </span></div>');function nt(e,t){var r=bs(),a=f(r),n=f(a),i=c(a,2),o=f(i);te(()=>{Te(a,1,`rounded px-2.5 py-0.5 text-xs font-medium ${t.hasErrors?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`),M(n,t.hasErrors?"Has Errors":"Valid"),Te(i,1,`rounded px-2.5 py-0.5 text-xs font-medium ${t.isDirty?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`),M(o,t.isDirty?"Modified":"Clean")}),S(e,r)}const ue=()=>Math.random().toString(36).slice(2,8),Je=(e,t)=>Math.floor(Math.random()*(t-e+1))+e;var _s=A('<div class="mt-4 rounded-lg border border-red-200 bg-red-50 p-3"><div class="flex items-center gap-2"><svg class="h-5 w-5 text-red-500" fill="currentColor" viewBox="0 0 20 20"><path clip-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" fill-rule="evenodd"></path></svg> <span class="text-sm font-medium text-red-800"> </span></div></div>'),ys=A('<div class="mt-4 rounded-lg border border-green-200 bg-green-50 p-3"><div class="flex items-center gap-2"><svg class="h-5 w-5 text-green-500" fill="currentColor" viewBox="0 0 20 20"><path clip-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" fill-rule="evenodd"></path></svg> <span class="text-sm font-medium text-green-800"> </span></div></div>'),xs=A('<span class="inline-flex items-center gap-2"><svg class="h-4 w-4 animate-spin" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" fill="currentColor"></path></svg> Submitting...</span>'),ws=A('<!> <div class="mb-4 flex items-center gap-2"><span> </span></div> <div class="space-y-4"><!> <!> <div class="flex items-center gap-2"><input id="simulateError" class="h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-50" type="checkbox"/> <label class="text-sm text-gray-700" for="simulateError">Simulate server error</label></div></div> <!> <!> <div class="mt-6"><button class="w-full cursor-pointer rounded-lg bg-green-600 px-4 py-2 text-sm font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 disabled:cursor-not-allowed disabled:opacity-50" type="button"><!></button></div>',1),Es=A('<div class="w-full flex-shrink-0 space-y-4 xl:w-80"><!> <div class="rounded-lg border border-gray-300 bg-gray-50 p-4 shadow-inner"><h6 class="mb-2 text-sm font-medium text-gray-700">Action State</h6> <div class="space-y-1 text-xs text-gray-600"><div><span class="font-medium">actionInProgress:</span> </div> <div><span class="font-medium">actionError:</span> </div></div></div></div>'),$s=A("<!> <!> <!>",1);function Ss(e,t){Le(t,!0);const r=()=>Y(y,"$hasErrors",l),a=()=>Y(p,"$isDirty",l),n=()=>Y(b,"$actionInProgress",l),i=()=>Y(g,"$errors",l),o=()=>Y(V,"$actionError",l),[l,u]=Xe(),s={title:`Task ${ue()}`,description:`This is a sample task description with ID ${ue()}`};let d=ge(!1),h=ge(void 0);const{data:v,execute:_,state:{errors:g,hasErrors:y,isDirty:p,actionInProgress:b,actionError:V}}=et(s,{validator:k=>({title:ne(k.title).prepare("trim").required().minLength(3).maxLength(50).getError(),description:ne(k.description).prepare("trim").required().minLength(10).maxLength(200).getError()}),action:async()=>{const k=Je(100,1e3);if(await new Promise(F=>setTimeout(F,k)),m(d))throw new Error(`Simulated server error after ${k}ms`);de(h,`Submitted successfully in ${k}ms!`)},actionCompleted:k=>{k&&de(h,void 0)}}),C=()=>{v.title=`Task ${ue()}`,v.description=`This is a sample task description with ID ${ue()}`},D=()=>{de(h,void 0),_()},L=`const { data, execute, state: { errors, hasErrors, isDirty, actionInProgress, actionError } } =
  createSvState(sourceData, {
    validator: (source) => ({
      title: stringValidator(source.title).prepare('trim').required().minLength(3).maxLength(50).getError(),
      description: stringValidator(source.description).prepare('trim').required().minLength(10).getError()
    }),
    action: async () => {
      // Simulate API call with 100-1000ms delay
      const delay = randomInt(100, 1000);
      await new Promise((resolve) => setTimeout(resolve, delay));

      if (shouldFail) {
        throw new Error('Simulated server error');
      }
    },
    actionCompleted: (error) => {
      // Called after action completes (success or failure)
      console.log(error ? 'Action failed' : 'Action succeeded');
    }
  });`,N=`// Execute the action
<button onclick={() => execute()} disabled={$hasErrors || $actionInProgress}>
  {$actionInProgress ? 'Submitting...' : 'Submit'}
</button>

// With parameters (if action accepts them)
execute({ userId: 123 });`,T=`// Display action error
{#if $actionError}
  <div class="error">
    {$actionError.message}
  </div>
{/if}

// Check if action is in progress
{#if $actionInProgress}
  <div class="loading">Submitting...</div>
{/if}`;rt(e,{description:"Demonstrates async action execution with loading states and error handling.",title:"Action Demo",main:X=>{var Z=ws(),I=fe(Z);nt(I,{get hasErrors(){return r()},get isDirty(){return a()}});var P=c(I,2),E=f(P),q=f(E),U=c(P,2),j=f(U);{let W=z(()=>i()?.title);ie(j,{id:"title",get disabled(){return n()},get error(){return m(W)},label:"Title",placeholder:"Enter task title",get value(){return v.title},set value(pe){v.title=pe}})}var B=c(j,2);{let W=z(()=>i()?.description);ie(B,{id:"description",get disabled(){return n()},get error(){return m(W)},label:"Description",placeholder:"Enter task description (min 10 characters)",get value(){return v.description},set value(pe){v.description=pe}})}var J=c(B,2),K=f(J),ee=c(U,2);{var re=W=>{var pe=_s(),Ae=f(pe),ke=c(f(Ae),2),ze=f(ke);te(()=>M(ze,o().message)),S(W,pe)};le(ee,W=>{o()&&W(re)})}var Q=c(ee,2);{var x=W=>{var pe=ys(),Ae=f(pe),ke=c(f(Ae),2),ze=f(ke);te(()=>M(ze,m(h))),S(W,pe)};le(Q,W=>{m(h)&&W(x)})}var w=c(Q,2),$=f(w);$.__click=D;var O=f($);{var G=W=>{var pe=xs();S(W,pe)},R=W=>{var pe=Gr("Submit");S(W,pe)};le(O,W=>{n()?W(G):W(R,!1)})}te(()=>{Te(E,1,`rounded px-2.5 py-0.5 text-xs font-medium ${n()?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`),M(q,n()?"In Progress":"Idle"),K.disabled=n(),$.disabled=r()||n()}),yr(K,()=>m(d),W=>de(d,W)),S(X,Z)},sidebar:X=>{var Z=Es(),I=f(Z);tt(I,{get data(){return v},get errors(){return i()},get hasErrors(){return r()},get isDirty(){return a()},onFill:C});var P=c(I,2),E=c(f(P),2),q=f(E),U=c(f(q)),j=c(q,2),B=c(f(j));te(()=>{M(U,` ${n()??""}`),M(B,` ${o()?.message??"none"??""}`)}),S(X,Z)},sourceCode:X=>{at(X,{children:(Z,I)=>{var P=$s(),E=fe(P);me(E,{code:L,title:"State Setup with Action"});var q=c(E,2);me(q,{code:N,title:"Execute Action"});var U=c(q,2);me(U,{code:T,title:"Error & Loading States"}),S(Z,P)}})}}),Ve(),u()}Qe(["click"]);var Ds=A('<div class="rounded-lg border border-gray-200 bg-gray-50 p-4"><div class="mb-3 flex items-center justify-between"><span class="text-xs font-medium text-gray-500"> </span> <button class="cursor-pointer rounded px-2 py-1 text-xs text-red-600 hover:bg-red-50 hover:text-red-700" type="button">Remove</button></div> <!></div>');function As(e,t){let r=qe(t,"label",3,"Item");var a=Ds(),n=f(a),i=f(n),o=f(i),l=c(i,2);l.__click=function(...s){t.onRemove?.apply(this,s)};var u=c(n,2);Nt(u,()=>t.children),te(()=>M(o,`${r()??""} #${t.index+1}`)),S(e,a)}Qe(["click"]);var ks=A('<div class="rounded-lg border-2 border-dashed border-gray-300 p-6 text-center"><p class="text-sm text-gray-500"> </p></div>');function Cs(e,t){var r=ks(),a=f(r),n=f(a);te(()=>M(n,t.message)),S(e,r)}var Ns=A('<div class="mb-3"><!></div>'),qs=A('<div class="grid grid-cols-1 gap-3 sm:grid-cols-2"><div><label class="mb-1 block text-xs font-bold text-gray-700">Name</label> <input placeholder="Enter name" type="text"/> <!></div> <div><label class="mb-1 block text-xs font-bold text-gray-700">Email</label> <input placeholder="Enter email" type="email"/> <!></div></div>'),Ps=A('<div class="space-y-3"></div>'),Ts=A('<!> <div class="space-y-6"><!> <div><div class="mb-3 flex items-center justify-between border-b border-gray-200 pb-2"><h6 class="text-sm font-semibold text-gray-700">Contacts <span class="ml-2 rounded bg-gray-100 px-2 py-0.5 text-xs font-normal text-gray-600"> </span></h6> <button class="cursor-pointer rounded-lg bg-green-600 px-3 py-1.5 text-xs font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500" type="button">+ Add Contact</button></div> <!> <!></div></div>',1),Ls=A("<!> <!>",1);function Vs(e,t){Le(t,!0);const r=()=>Y(d,"$hasErrors",i),a=()=>Y(h,"$isDirty",i),n=()=>Y(s,"$errors",i),[i,o]=Xe(),l={listName:"",items:[]},{data:u,state:{errors:s,hasErrors:d,isDirty:h}}=et(l,{validator:b=>({listName:ne(b.listName).prepare("trim").required().minLength(2).getError(),items:is(b.items).required().minLength(1).getError(),...Object.fromEntries(b.items.map((V,C)=>[`item_${C}`,{name:ne(V.name).prepare("trim").required().minLength(2).getError(),email:ne(V.email).prepare("trim").required().email().getError()}]))})}),v=()=>{u.items=[...u.items,{name:"",email:""}]},_=b=>{u.items=u.items.filter((V,C)=>C!==b)},g=()=>{u.listName=`Contact List ${ue()}`,u.items=[{name:"John Doe",email:"john@example.com"},{name:"Jane Smith",email:"jane@example.com"},{name:"Bob Wilson",email:"bob@example.com"}]},y=`const sourceData = {
  listName: '',
  items: [] as { name: string; email: string }[]
};

const { data, state: { errors, hasErrors, isDirty } } = createSvState(sourceData, {
  validator: (source) => ({
    listName: stringValidator(source.listName).prepare('trim').required().minLength(2).getError(),
    items: arrayValidator(source.items).required().minLength(1).getError(),
    // Per-item validation using indexed keys
    ...Object.fromEntries(
      source.items.map((item, index) => [
        \`item_\${index}\`,
        {
          name: stringValidator(item.name).prepare('trim').required().minLength(2).getError(),
          email: stringValidator(item.email).prepare('trim').required().email().getError()
        }
      ])
    )
  })
});`,p=`// Define type for item errors
type ItemErrors = Record<string, { name?: string; email?: string }>;

{#each data.items as item, index}
  <input bind:value={item.name} />
  <ErrorText error={($errors as ItemErrors)?.[...\`item_\${index}\`]?.name ?? ''} />

  <input bind:value={item.email} />
  <ErrorText error={($errors as ItemErrors)?.[...\`item_\${index}\`]?.email ?? ''} />
{/each}`;rt(e,{description:"Shows how to validate dynamic arrays with per-item validation using indexed error keys.",title:"Array Property Demo",main:D=>{var L=Ts(),N=fe(L);nt(N,{get hasErrors(){return r()},get isDirty(){return a()}});var T=c(N,2),k=f(T);{let J=z(()=>n()?.listName);ie(k,{id:"listName",get error(){return m(J)},label:"List Name",placeholder:"Enter list name",get value(){return u.listName},set value(K){u.listName=K}})}var F=c(k,2),H=f(F),X=f(H),Z=c(f(X)),I=f(Z),P=c(X,2);P.__click=v;var E=c(H,2);{var q=J=>{var K=Ns(),ee=f(K);nr(ee,{get error(){return n().items}}),S(J,K)};le(E,J=>{n()?.items&&J(q)})}var U=c(E,2);{var j=J=>{Cs(J,{message:'No contacts yet. Click "Add Contact" to get started.'})},B=J=>{var K=Ps();ea(K,21,()=>u.items,Xr,(ee,re,Q)=>{As(ee,{index:Q,label:"Contact",onRemove:()=>_(Q),children:(x,w)=>{var $=qs(),O=f($),G=f(O);$e(G,"for",`item-name-${Q}`);var R=c(G,2);$e(R,"id",`item-name-${Q}`);var W=c(R,2);{let xe=z(()=>n()?.[`item_${Q}`]?.name??"");nr(W,{get error(){return m(xe)}})}var pe=c(O,2),Ae=f(pe);$e(Ae,"for",`item-email-${Q}`);var ke=c(Ae,2);$e(ke,"id",`item-email-${Q}`);var ze=c(ke,2);{let xe=z(()=>n()?.[`item_${Q}`]?.email??"");nr(ze,{get error(){return m(xe)}})}te(()=>{Te(R,1,`block w-full rounded-lg border p-2 text-sm ${n()?.[`item_${Q}`]?.name?"border-red-500 bg-red-50 text-red-900 placeholder-red-400":"border-gray-300 bg-white text-gray-900"}`),Te(ke,1,`block w-full rounded-lg border p-2 text-sm ${n()?.[`item_${Q}`]?.email?"border-red-500 bg-red-50 text-red-900 placeholder-red-400":"border-gray-300 bg-white text-gray-900"}`)}),or(R,()=>m(re).name,xe=>m(re).name=xe),or(ke,()=>m(re).email,xe=>m(re).email=xe),S(x,$)},$$slots:{default:!0}})}),S(J,K)};le(U,J=>{u.items.length===0?J(j):J(B,!1)})}te(()=>M(I,`${u.items.length??""} items`)),S(D,L)},sidebar:D=>{tt(D,{get data(){return u},get errors(){return n()},get hasErrors(){return r()},get isDirty(){return a()},onFill:g,width:"xl:w-96"})},sourceCode:D=>{at(D,{children:(L,N)=>{var T=Ls(),k=fe(T);me(k,{code:y,title:"State Setup with Array Item Validation"});var F=c(k,2);me(F,{code:p,title:"Array Form Binding Examples"}),S(L,T)}})}}),Ve(),o()}Qe(["click"]);Kn();var Os=A('<div class="absolute right-3 top-9"><svg class="h-5 w-5 animate-spin text-blue-500" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" fill="currentColor"></path></svg></div>'),Ms=A('<div class="absolute right-3 top-9"><svg class="h-5 w-5 animate-spin text-blue-500" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" fill="currentColor"></path></svg></div>'),Is=A('<div class="absolute right-3 top-9"><svg class="h-5 w-5 animate-spin text-blue-500" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" fill="currentColor"></path></svg></div>'),Rs=A('<span class="inline-flex items-center gap-2"><svg class="h-4 w-4 animate-spin" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" fill="currentColor"></path></svg> Validating...</span>'),Fs=A('<!> <div class="mb-4 flex flex-wrap items-center gap-2"><span> </span> <span> </span></div> <div class="space-y-4"><div class="relative"><!> <!></div> <div class="relative"><!> <!></div> <div class="relative"><!> <!></div></div> <div class="mt-4 rounded-lg border border-blue-200 bg-blue-50 p-3"><div class="text-sm text-blue-800"><span class="font-medium">Taken usernames:</span> </div> <div class="mt-1 text-sm text-blue-800"><span class="font-medium">Taken emails:</span> </div> <div class="mt-1 text-sm text-blue-800"><span class="font-medium">Taken slugs:</span> </div></div> <div class="mt-4 rounded-lg border border-amber-200 bg-amber-50 p-3"><div class="text-sm text-amber-800"><span class="font-medium">Concurrency limit:</span> maxConcurrentAsyncValidations = 2</div> <div class="mt-1 text-xs text-amber-700">Only 2 async validations run simultaneously. Try filling all 3 fields at once to see queuing in action.</div></div> <div class="mt-6 flex gap-2"><button class="flex-1 cursor-pointer rounded-lg bg-green-600 px-4 py-2 text-sm font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 disabled:cursor-not-allowed disabled:opacity-50" type="button"><!></button></div>',1),js=A('<div class="w-full flex-shrink-0 space-y-4 xl:w-80"><!> <div class="rounded-lg border border-gray-300 bg-gray-50 p-4 shadow-inner"><h6 class="mb-2 text-sm font-medium text-gray-700">Quick Fill</h6> <button class="w-full cursor-pointer rounded bg-orange-100 px-3 py-1.5 text-sm text-orange-800 hover:bg-orange-200" type="button">Fill with taken values</button></div> <div class="rounded-lg border border-gray-300 bg-gray-50 p-4 shadow-inner"><h6 class="mb-2 text-sm font-medium text-gray-700">Async Validation State</h6> <div class="space-y-1 text-xs text-gray-600"><div><span class="font-medium">asyncValidating:</span> </div> <div><span class="font-medium">hasAsyncErrors:</span> </div> <div><span class="font-medium">hasCombinedErrors:</span> </div></div></div> <div class="rounded-lg border border-gray-300 bg-gray-50 p-4 shadow-inner"><h6 class="mb-2 text-sm font-medium text-gray-700">Async Errors</h6> <pre class="overflow-auto text-xs text-gray-600"> </pre></div></div>'),Bs=A("<!> <!> <!>",1);function zs(e,t){Le(t,!1);const r=()=>Y(V,"$hasErrors",s),a=()=>Y(C,"$isDirty",s),n=()=>Y(L,"$hasAsyncErrors",s),i=()=>Y(T,"$hasCombinedErrors",s),o=()=>Y(b,"$errors",s),l=()=>Y(D,"$asyncErrors",s),u=()=>Y(N,"$asyncValidating",s),[s,d]=Xe(),h=["admin","user","test","demo","root"],v=["admin@example.com","test@example.com","user@example.com"],_=["admin","about","contact","help","support"],y=et({username:"",email:"",slug:""},{validator:I=>({username:ne(I.username).prepare("trim").required().minLength(3).maxLength(20).noSpace().getError(),email:ne(I.email).prepare("trim").required().email().getError(),slug:ne(I.slug).prepare("trim").required().minLength(2).slug().getError()}),asyncValidator:{username:async(I,P,E)=>{await new Promise((U,j)=>{const B=setTimeout(U,500);E.addEventListener("abort",()=>{clearTimeout(B),j(new DOMException("Aborted","AbortError"))})});const q=String(I).toLowerCase();return h.includes(q)?"Username is already taken":""},email:async(I,P,E)=>{await new Promise((U,j)=>{const B=setTimeout(U,400);E.addEventListener("abort",()=>{clearTimeout(B),j(new DOMException("Aborted","AbortError"))})});const q=String(I).toLowerCase();return v.includes(q)?"Email is already registered":""},slug:async(I,P,E)=>{await new Promise((U,j)=>{const B=setTimeout(U,600);E.addEventListener("abort",()=>{clearTimeout(B),j(new DOMException("Aborted","AbortError"))})});const q=String(I).toLowerCase();return _.includes(q)?"URL slug is already in use":""}}},{maxConcurrentAsyncValidations:2}),p=zr(y.data),b=y.state.errors,V=y.state.hasErrors,C=y.state.isDirty,D=y.state.asyncErrors,L=y.state.hasAsyncErrors,N=y.state.asyncValidating,T=y.state.hasCombinedErrors,k=()=>{it(p,m(p).username=`newuser${ue()}`),it(p,m(p).email=`${ue()}@example.com`),it(p,m(p).slug=`my-page-${ue()}`)},F=()=>{it(p,m(p).username="admin"),it(p,m(p).email="admin@example.com"),it(p,m(p).slug="about")},H=`const { data, state: { errors, asyncErrors, asyncValidating, hasCombinedErrors } } =
  createSvState(sourceData, {
    validator: (source) => ({
      username: stringValidator(source.username).required().minLength(3).noSpace().getError(),
      email: stringValidator(source.email).required().email().getError(),
      slug: stringValidator(source.slug).required().minLength(2).slug().getError()
    }),
    asyncValidator: {
      username: async (value, source, signal) => {
        const res = await fetch(\`/api/check-username?u=\${value}\`, { signal });
        return (await res.json()).available ? '' : 'Username already taken';
      },
      email: async (value, source, signal) => {
        const res = await fetch(\`/api/check-email?e=\${value}\`, { signal });
        return (await res.json()).available ? '' : 'Email already registered';
      },
      slug: async (value, source, signal) => {
        const res = await fetch(\`/api/check-slug?s=\${value}\`, { signal });
        return (await res.json()).available ? '' : 'URL slug already in use';
      }
    }
  },
  { maxConcurrentAsyncValidations: 2 } // Only 2 async validations run at a time
);`,X=`<!-- Show loading spinner when validating -->
{#if $asyncValidating.includes('username')}
  <span class="animate-spin">...</span>
{/if}

<!-- Show async error -->
{#if $asyncErrors.username}
  <span class="text-red-500">{$asyncErrors.username}</span>
{/if}

<!-- Disable submit when any errors -->
<button disabled={$hasCombinedErrors}>Submit</button>`,Z=`// Available stores for async validation:
$errors          // Sync validation errors (nested object)
$hasErrors       // true if any sync errors

$asyncErrors     // Async validation errors (flat map by path)
$hasAsyncErrors  // true if any async errors

$asyncValidating // Array of paths currently being validated
$hasCombinedErrors // hasErrors || hasAsyncErrors`;Ji(),rt(e,{description:"Demonstrates async validation with simulated API calls for username and email uniqueness checks.",title:"Async Validation Demo",main:q=>{var U=Fs(),j=fe(U);nt(j,{get hasErrors(){return r()},get isDirty(){return a()}});var B=c(j,2),J=f(B),K=f(J),ee=c(J,2),re=f(ee),Q=c(B,2),x=f(Q),w=f(x);{let ve=Ft(()=>o()?.username||l().username);ie(w,{id:"username",get error(){return m(ve)},label:"Username",placeholder:"Enter username (try 'admin', 'user', 'test')",get value(){return m(p).username},set value(we){it(p,m(p).username=we)},$$legacy:!0})}var $=c(w,2);{var O=ve=>{var we=Os();S(ve,we)},G=z(()=>u().includes("username"));le($,ve=>{m(G)&&ve(O)})}var R=c(x,2),W=f(R);{let ve=Ft(()=>o()?.email||l().email);ie(W,{id:"email",get error(){return m(ve)},label:"Email",placeholder:"Enter email (try 'admin@example.com')",type:"email",get value(){return m(p).email},set value(we){it(p,m(p).email=we)},$$legacy:!0})}var pe=c(W,2);{var Ae=ve=>{var we=Ms();S(ve,we)},ke=z(()=>u().includes("email"));le(pe,ve=>{m(ke)&&ve(Ae)})}var ze=c(R,2),xe=f(ze);{let ve=Ft(()=>o()?.slug||l().slug);ie(xe,{id:"slug",get error(){return m(ve)},label:"URL Slug",placeholder:"Enter slug (try 'admin', 'about', 'contact')",get value(){return m(p).slug},set value(we){it(p,m(p).slug=we)},$$legacy:!0})}var Kt=c(xe,2);{var Yt=ve=>{var we=Is();S(ve,we)},Zt=z(()=>u().includes("slug"));le(Kt,ve=>{m(Zt)&&ve(Yt)})}var se=c(Q,2),be=f(se),wt=c(f(be)),vt=c(be,2),Gt=c(f(vt)),cn=c(vt,2),dn=c(f(cn)),fn=c(se,4),aa=f(fn),vn=f(aa);{var mn=ve=>{var we=Rs();S(ve,we)},pn=ve=>{var we=Gr("Submit");S(ve,we)};le(vn,ve=>{u().length>0?ve(mn):ve(pn,!1)})}te((ve,we,hn)=>{Te(J,1,`rounded px-2.5 py-0.5 text-xs font-medium ${n()?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`),M(K,`Async Errors: ${n()?"Yes":"No"}`),Te(ee,1,`rounded px-2.5 py-0.5 text-xs font-medium ${i()?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`),M(re,`Combined: ${i()?"Has Errors":"Valid"}`),M(wt,` ${ve??""}`),M(Gt,` ${we??""}`),M(dn,` ${hn??""}`),aa.disabled=i()||u().length>0},[()=>h.join(", "),()=>v.join(", "),()=>_.join(", ")]),S(q,U)},sidebar:q=>{var U=js(),j=f(U);tt(j,{get data(){return m(p)},get errors(){return o()},get hasErrors(){return r()},get isDirty(){return a()},onFill:k});var B=c(j,2),J=c(f(B),2);J.__click=F;var K=c(B,2),ee=c(f(K),2),re=f(ee),Q=c(f(re)),x=c(re,2),w=c(f(x)),$=c(x,2),O=c(f($)),G=c(K,2),R=c(f(G),2),W=f(R);te((pe,Ae)=>{M(Q,` [${pe??""}]`),M(w,` ${n()??""}`),M(O,` ${i()??""}`),M(W,Ae)},[()=>u().join(", "),()=>JSON.stringify(l(),void 0,2)]),S(q,U)},sourceCode:q=>{at(q,{children:(U,j)=>{var B=Bs(),J=fe(B);me(J,{code:H,title:"State Setup with Async Validators"});var K=c(J,2);me(K,{code:X,title:"Template Usage"});var ee=c(K,2);me(ee,{code:Z,title:"Available Stores"}),S(U,B)}})}}),Ve(),d()}Qe(["click"]);var Us=A('<span class="ml-1 inline-block h-2 w-2 rounded-full bg-amber-400" title="Modified"></span>'),Ws=A("<div><label> <!></label> <textarea></textarea> <!></div>");function ra(e,t){Le(t,!0);let r=qe(t,"placeholder",3,""),a=qe(t,"value",15),n=qe(t,"error",3,""),i=qe(t,"required",3,!1),o=qe(t,"rows",3,3);var l=Ws(),u=f(l),s=f(u),d=c(s);{var h=g=>{var y=Us();S(g,y)};le(d,g=>{t.isDirty&&g(h)})}var v=c(u,2),_=c(v,2);{let g=z(()=>n()??"");nr(_,{get error(){return m(g)}})}te(()=>{Te(u,1,`mb-2 block text-sm text-gray-900 ${i()?"font-bold":""}`),$e(u,"for",t.id),M(s,`${t.label??""} `),$e(v,"id",t.id),Te(v,1,`block w-full rounded-lg border p-2.5 text-sm ${n()?"border-red-500 bg-red-50 text-red-900 placeholder-red-400 focus:border-red-500 focus:ring-red-500":"border-gray-300 bg-gray-50 text-gray-900 focus:border-blue-500 focus:ring-blue-500"}`),$e(v,"placeholder",r()),$e(v,"rows",o())}),or(v,a),S(e,l),Ve()}var Hs=A('<!> <div class="space-y-4"><!> <!> <!> <!> <!></div>',1),Js=A("<!> <!>",1);function Ks(e,t){Le(t,!0);const r=()=>Y(h,"$hasErrors",o),a=()=>Y(v,"$isDirty",o),n=()=>Y(d,"$errors",o),i=()=>Y(_,"$isDirtyByField",o),[o,l]=Xe(),u={username:"",email:"",age:0,bio:"",website:""},{data:s,state:{errors:d,hasErrors:h,isDirty:v,isDirtyByField:_}}=et(u,{validator:b=>({username:ne(b.username).prepare("trim").required().minLength(3).maxLength(20).noSpace().getError(),email:ne(b.email).prepare("trim").required().email().getError(),age:lr(b.age).required().min(18).max(120).integer().getError(),bio:ne(b.bio).maxLength(200).getError(),website:ne(b.website).prepare("trim").website("required").getError()})}),g=()=>{s.username=`user${ue()}`,s.email=`${ue()}@example.com`,s.age=Je(18,65),s.bio="Hello, I am a demo user!",s.website=`https://${ue()}.com`},y=`const sourceData = {
  username: '',
  email: '',
  age: 0,
  bio: '',
  website: ''
};

const { data, state: { errors, hasErrors, isDirty, isDirtyByField } } = createSvState(sourceData, {
  validator: (source) => ({
    username: stringValidator(source.username).prepare('trim').required().minLength(3).maxLength(20).noSpace().getError(),
    email: stringValidator(source.email).prepare('trim').required().email().getError(),
    age: numberValidator(source.age).required().min(18).max(120).integer().getError(),
    bio: stringValidator(source.bio).maxLength(200).getError(),
    website: stringValidator(source.website).prepare('trim').website('required').getError()
  })
});`,p=`<input
  id="username"
  type="text"
  placeholder="Enter username"
  class="... {$errors?.username ? 'error-styles' : 'normal-styles'}"
  bind:value={data.username}
/>
<ErrorText error={$errors?.username ?? ''} />`;rt(e,{description:"Demonstrates form validation with string, number, and email validators using the fluent API.",title:"Basic Validation Demo",main:D=>{var L=Hs(),N=fe(L);nt(N,{get hasErrors(){return r()},get isDirty(){return a()}});var T=c(N,2),k=f(T);{let I=z(()=>n()?.username);ie(k,{id:"username",get error(){return m(I)},get isDirty(){return i().username},label:"Username",placeholder:"Enter username",get value(){return s.username},set value(P){s.username=P}})}var F=c(k,2);{let I=z(()=>n()?.email);ie(F,{id:"email",get error(){return m(I)},get isDirty(){return i().email},label:"Email",placeholder:"Enter email",type:"email",get value(){return s.email},set value(P){s.email=P}})}var H=c(F,2);{let I=z(()=>n()?.age);ie(H,{id:"age",get error(){return m(I)},get isDirty(){return i().age},label:"Age",placeholder:"Enter age",type:"number",get value(){return s.age},set value(P){s.age=P}})}var X=c(H,2);{let I=z(()=>n()?.bio);ra(X,{id:"bio",get error(){return m(I)},get isDirty(){return i().bio},label:"Bio",placeholder:"Tell us about yourself",get value(){return s.bio},set value(P){s.bio=P}})}var Z=c(X,2);{let I=z(()=>n()?.website);ie(Z,{id:"website",get error(){return m(I)},get isDirty(){return i().website},label:"Website",placeholder:"https://example.com",required:!1,get value(){return s.website},set value(P){s.website=P}})}S(D,L)},sidebar:D=>{tt(D,{get data(){return s},get errors(){return n()},get hasErrors(){return r()},get isDirty(){return a()},get isDirtyByField(){return i()},onFill:g})},sourceCode:D=>{at(D,{children:(L,N)=>{var T=Js(),k=fe(T);me(k,{code:y,title:"State Setup"});var F=c(k,2);me(F,{code:p,title:"Form Binding Example"}),S(L,T)}})}}),Ve(),l()}var Ys=A('<span class="font-normal text-gray-500"> </span>'),Zs=A('<h6 class="mb-3 border-b border-gray-200 pb-2 text-sm font-semibold text-gray-700"> <!> <!></h6>');function qt(e,t){var r=Zs(),a=f(r),n=c(a);{var i=u=>{var s=Ys(),d=f(s);te(()=>M(d,`(${t.subtitle??""})`)),S(u,s)};le(n,u=>{t.subtitle&&u(i)})}var o=c(n,2);{var l=u=>{var s=Ct(),d=fe(s);Nt(d,()=>t.children),S(u,s)};le(o,u=>{t.children&&u(l)})}te(()=>M(a,`${t.title??""} `)),S(e,r)}var Gs=A('<!> <div class="space-y-6"><!> <div><!> <div class="grid grid-cols-1 gap-4 sm:grid-cols-2"><!> <!></div></div> <div><!> <div class="rounded-lg border border-purple-200 bg-purple-50 p-4"><div class="space-y-2"><div class="flex justify-between text-sm"><span class="text-gray-600">Subtotal:</span> <span class="font-medium text-gray-900"> </span></div> <div class="flex justify-between text-sm"><span class="text-gray-600">Tax (8%):</span> <span class="font-medium text-gray-900"> </span></div> <div class="flex justify-between border-t border-purple-200 pt-2 text-base"><span class="font-semibold text-gray-700">Total:</span> <span class="font-bold text-purple-600"> </span></div></div></div> <p class="mt-2 text-xs text-gray-500">Values formatted using methods on state: <code class="rounded bg-gray-100 px-1">data.formatCurrency()</code> and <code class="rounded bg-gray-100 px-1">data.formatTotal()</code></p></div></div>',1),Qs=A("<!> <!> <!>",1);function Xs(e,t){Le(t,!0);const r=()=>Y(h,"$hasErrors",i),a=()=>Y(v,"$isDirty",i),n=()=>Y(d,"$errors",i),[i,o]=Xe(),l=.08,u=()=>({productName:`Widget ${ue()}`,item:{unitPrice:0,quantity:1},subtotal:0,tax:0,total:0,formatTotal(){return`$${this.total.toFixed(2)}`},formatCurrency(b){return`$${b.toFixed(2)}`},calculateTotals(b=l){this.subtotal=this.item.unitPrice*this.item.quantity,this.tax=this.subtotal*b,this.total=this.subtotal+this.tax}}),{data:s,state:{errors:d,hasErrors:h,isDirty:v}}=et(u(),{validator:b=>({productName:ne(b.productName).prepare("trim").required().minLength(2).getError(),item:{unitPrice:lr(b.item.unitPrice).required().positive().getError(),quantity:lr(b.item.quantity).required().integer().min(1).max(100).getError()}}),effect:({property:b})=>{(b==="item.unitPrice"||b==="item.quantity")&&s.calculateTotals()}}),_=()=>{s.productName=`Widget ${ue()}`,s.item.unitPrice=Je(10,100),s.item.quantity=Je(1,10)},g=`// Define state type with methods
type SourceData = {
  productName: string;
  item: { unitPrice: number; quantity: number };
  subtotal: number;
  tax: number;
  total: number;
  formatTotal: () => string;
  formatCurrency: (value: number) => string;
  calculateTotals: (taxRate?: number) => void;
};

// Create initial state as object with methods
const createSourceData = (): SourceData => ({
  productName: '',
  item: { unitPrice: 0, quantity: 1 },
  subtotal: 0,
  tax: 0,
  total: 0,
  formatTotal() {
    return \`$\${this.total.toFixed(2)}\`;
  },
  formatCurrency(value: number) {
    return \`$\${value.toFixed(2)}\`;
  },
  calculateTotals(taxRate: number = 0.08) {
    this.subtotal = this.item.unitPrice * this.item.quantity;
    this.tax = this.subtotal * taxRate;
    this.total = this.subtotal + this.tax;
  }
});`,y=`const { data, state: { errors, hasErrors, isDirty } } = createSvState(createSourceData(), {
  validator: (source) => ({
    productName: stringValidator(source.productName).prepare('trim').required().minLength(2).getError(),
    item: {
      unitPrice: numberValidator(source.item.unitPrice).required().positive().getError(),
      quantity: numberValidator(source.item.quantity).required().integer().min(1).max(100).getError()
    }
  }),
  effect: ({ property }) => {
    if (property === 'item.unitPrice' || property === 'item.quantity') {
      data.calculateTotals();  // Call method on state object!
    }
  }
});`,p=`<!-- Use class methods for formatting -->
<span>{data.formatCurrency(data.subtotal)}</span>
<span>{data.formatTotal()}</span>`;rt(e,{description:"Demonstrates using objects with methods as state. The effect callback can call methods directly on the state object.",title:"State with Methods Demo",main:D=>{var L=Gs(),N=fe(L);nt(N,{get hasErrors(){return r()},get isDirty(){return a()}});var T=c(N,2),k=f(T);{let $=z(()=>n()?.productName);ie(k,{id:"productName",get error(){return m($)},label:"Product Name",placeholder:"Enter product name",get value(){return s.productName},set value(O){s.productName=O}})}var F=c(k,2),H=f(F);qt(H,{subtitle:"nested object",title:"Item Details"});var X=c(H,2),Z=f(X);{let $=z(()=>n()?.item?.unitPrice);ie(Z,{id:"unitPrice",get error(){return m($)},label:"Unit Price ($)",min:0,placeholder:"0.00",step:.01,type:"number",get value(){return s.item.unitPrice},set value(O){s.item.unitPrice=O}})}var I=c(Z,2);{let $=z(()=>n()?.item?.quantity);ie(I,{id:"quantity",get error(){return m($)},label:"Quantity",max:100,min:1,placeholder:"1",type:"number",get value(){return s.item.quantity},set value(O){s.item.quantity=O}})}var P=c(F,2),E=f(P);qt(E,{subtitle:"computed by method",title:"Calculated Totals"});var q=c(E,2),U=f(q),j=f(U),B=c(f(j),2),J=f(B),K=c(j,2),ee=c(f(K),2),re=f(ee),Q=c(K,2),x=c(f(Q),2),w=f(x);te(($,O,G)=>{M(J,$),M(re,O),M(w,G)},[()=>s.formatCurrency(s.subtotal),()=>s.formatCurrency(s.tax),()=>s.formatTotal()]),S(D,L)},sidebar:D=>{tt(D,{get data(){return s},get errors(){return n()},get hasErrors(){return r()},get isDirty(){return a()},onFill:_})},sourceCode:D=>{at(D,{children:(L,N)=>{var T=Qs(),k=fe(T);me(k,{code:g,title:"Class Definition"});var F=c(k,2);me(F,{code:y,title:"State Setup with Class Instance"});var H=c(F,2);me(H,{code:p,title:"Template Usage"}),S(L,T)}})}}),Ve(),o()}var eo=A('<!> <div class="space-y-6"><!> <div><!> <div class="grid grid-cols-1 gap-4 sm:grid-cols-2"><!> <!></div></div> <div><!> <div class="rounded-lg border border-blue-200 bg-blue-50 p-4"><div class="space-y-2"><div class="flex justify-between text-sm"><span class="text-gray-600">Subtotal:</span> <span class="font-medium text-gray-900"> </span></div> <div class="flex justify-between text-sm"><span class="text-gray-600">Tax (8%):</span> <span class="font-medium text-gray-900"> </span></div> <div class="flex justify-between border-t border-blue-200 pt-2 text-base"><span class="font-semibold text-gray-700">Total:</span> <span class="font-bold text-blue-600"> </span></div></div></div></div></div>',1),to=A("<!> <!>",1);function ro(e,t){Le(t,!0);const r=()=>Y(h,"$hasErrors",i),a=()=>Y(v,"$isDirty",i),n=()=>Y(d,"$errors",i),[i,o]=Xe(),l=.08,u={productName:`Widget ${ue()}`,item:{unitPrice:0,quantity:1},subtotal:0,tax:0,total:0},{data:s,state:{errors:d,hasErrors:h,isDirty:v}}=et(u,{validator:b=>({productName:ne(b.productName).prepare("trim").required().minLength(2).getError(),item:{unitPrice:lr(b.item.unitPrice).required().positive().getError(),quantity:lr(b.item.quantity).required().integer().min(1).max(100).getError()}}),effect:({property:b})=>{(b==="item.unitPrice"||b==="item.quantity")&&(s.subtotal=s.item.unitPrice*s.item.quantity,s.tax=s.subtotal*l,s.total=s.subtotal+s.tax)}}),_=()=>{s.productName=`Widget ${ue()}`,s.item.unitPrice=Je(10,100),s.item.quantity=Je(1,10)},g=b=>`$${b.toFixed(2)}`,y=`const sourceData = {
  productName: '',
  item: { unitPrice: 0, quantity: 1 },
  subtotal: 0, tax: 0, total: 0  // Calculated fields (set by effect)
};

const TAX_RATE = 0.08;

const { data, state: { errors, hasErrors, isDirty } } = createSvState(sourceData, {
  validator: (source) => ({
    productName: stringValidator(source.productName).prepare('trim').required().minLength(2).getError(),
    item: {
      unitPrice: numberValidator(source.item.unitPrice).required().positive().getError(),
      quantity: numberValidator(source.item.quantity).required().integer().min(1).max(100).getError()
    }
  }),
  effect: ({ property }) => {
    if (property === 'item.unitPrice' || property === 'item.quantity') {
      data.subtotal = data.item.unitPrice * data.item.quantity;
      data.tax = data.subtotal * TAX_RATE;
      data.total = data.subtotal + data.tax;
    }
  }
});`,p=`effect: ({ property }) => {
  if (property === 'item.unitPrice' || property === 'item.quantity') {
    data.subtotal = data.item.unitPrice * data.item.quantity;
    data.tax = data.subtotal * TAX_RATE;
    data.total = data.subtotal + data.tax;
  }
}`;rt(e,{description:"Uses the effect callback to automatically compute derived values like subtotals, taxes, and totals.",title:"Calculated Fields Demo",main:D=>{var L=eo(),N=fe(L);nt(N,{get hasErrors(){return r()},get isDirty(){return a()}});var T=c(N,2),k=f(T);{let $=z(()=>n()?.productName);ie(k,{id:"productName",get error(){return m($)},label:"Product Name",placeholder:"Enter product name",get value(){return s.productName},set value(O){s.productName=O}})}var F=c(k,2),H=f(F);qt(H,{subtitle:"nested object",title:"Item Details"});var X=c(H,2),Z=f(X);{let $=z(()=>n()?.item?.unitPrice);ie(Z,{id:"unitPrice",get error(){return m($)},label:"Unit Price ($)",min:0,placeholder:"0.00",step:.01,type:"number",get value(){return s.item.unitPrice},set value(O){s.item.unitPrice=O}})}var I=c(Z,2);{let $=z(()=>n()?.item?.quantity);ie(I,{id:"quantity",get error(){return m($)},label:"Quantity",max:100,min:1,placeholder:"1",type:"number",get value(){return s.item.quantity},set value(O){s.item.quantity=O}})}var P=c(F,2),E=f(P);qt(E,{subtitle:"computed by effect",title:"Calculated Totals"});var q=c(E,2),U=f(q),j=f(U),B=c(f(j),2),J=f(B),K=c(j,2),ee=c(f(K),2),re=f(ee),Q=c(K,2),x=c(f(Q),2),w=f(x);te(($,O,G)=>{M(J,$),M(re,O),M(w,G)},[()=>g(s.subtotal),()=>g(s.tax),()=>g(s.total)]),S(D,L)},sidebar:D=>{tt(D,{get data(){return s},get errors(){return n()},get hasErrors(){return r()},get isDirty(){return a()},onFill:_})},sourceCode:D=>{at(D,{children:(L,N)=>{var T=to(),k=fe(T);me(k,{code:y,title:"State Setup with Effect"});var F=c(k,2);me(F,{code:p,title:"Effect Function"}),S(L,T)}})}}),Ve(),o()}var ao=A('<span class="font-normal normal-case"> </span>'),no=A('<span class="ml-1.5 inline-block h-2 w-2 rounded-full bg-amber-400" title="Modified"></span>'),io=A('<div class="rounded-lg border border-gray-200 bg-gray-50 p-4"><h6 class="mb-3 text-xs font-semibold uppercase tracking-wide text-gray-500"> <!> <!></h6> <!></div>');function so(e,t){var r=io(),a=f(r),n=f(a),i=c(n);{var o=d=>{var h=ao(),v=f(h);te(()=>M(v,`(${t.subtitle??""})`)),S(d,h)};le(i,d=>{t.subtitle&&d(o)})}var l=c(i,2);{var u=d=>{var h=no();S(d,h)};le(l,d=>{t.isDirty&&d(u)})}var s=c(a,2);Nt(s,()=>t.children),te(()=>M(n,`${t.title??""} `)),S(e,r)}var oo=A('<span class="ml-1.5 inline-block h-2 w-2 rounded-full bg-amber-400" title="Modified"></span>'),lo=A('<span class="ml-1.5 inline-block h-2 w-2 rounded-full bg-amber-400" title="Modified"></span>'),uo=A('<span class="ml-1.5 inline-block h-2 w-2 rounded-full bg-amber-400" title="Modified"></span>'),co=A('<div class="space-y-4"><!> <!></div>'),fo=A('<!> <div class="space-y-6"><div><!> <!></div> <div><!> <div class="space-y-4"><!> <div class="grid grid-cols-1 gap-4 sm:grid-cols-2"><!> <!></div></div></div> <div><!> <div class="space-y-4"><div class="grid grid-cols-1 gap-4 sm:grid-cols-2"><!> <!></div> <!></div></div></div>',1),vo=A("<!> <!>",1);function mo(e,t){Le(t,!0);const r=()=>Y(h,"$hasErrors",o),a=()=>Y(v,"$isDirty",o),n=()=>Y(_,"$isDirtyByField",o),i=()=>Y(d,"$errors",o),[o,l]=Xe(),u={name:"",address:{street:"",city:"",zip:""},company:{name:"",department:"",contact:{phone:"",email:""}}},{data:s,state:{errors:d,hasErrors:h,isDirty:v,isDirtyByField:_}}=et(u,{validator:b=>({name:ne(b.name).prepare("trim").required().minLength(2).maxLength(50).getError(),address:{street:ne(b.address.street).prepare("trim").required().minLength(5).getError(),city:ne(b.address.city).prepare("trim").required().minLength(2).getError(),zip:ne(b.address.zip).prepare("trim").required().minLength(5).maxLength(10).getError()},company:{name:ne(b.company.name).prepare("trim").required().minLength(2).getError(),department:ne(b.company.department).prepare("trim").maxLength(50).getError(),contact:{phone:ne(b.company.contact.phone).prepare("trim").required().minLength(10).getError(),email:ne(b.company.contact.email).prepare("trim").required().email().getError()}}})}),g=()=>{s.name=`John ${ue()}`,s.address.street=`${Je(100,9999)} Main Street`,s.address.city="New York",s.address.zip=`${Je(1e4,99999)}`,s.company.name=`Acme ${ue()} Inc`,s.company.department="Engineering",s.company.contact.phone=`555-${Je(100,999)}-${Je(1e3,9999)}`,s.company.contact.email=`contact@${ue()}.com`},y=`const sourceData = {
  name: '',
  address: { street: '', city: '', zip: '' },       // 2-level nested
  company: {                                         // 3-level nested
    name: '',
    department: '',
    contact: { phone: '', email: '' }
  }
};

const { data, state: { errors, hasErrors, isDirty, isDirtyByField } } = createSvState(sourceData, {
  validator: (source) => ({
    name: stringValidator(source.name).prepare('trim').required().minLength(2).maxLength(50).getError(),
    address: {
      street: stringValidator(source.address.street).prepare('trim').required().minLength(5).getError(),
      city: stringValidator(source.address.city).prepare('trim').required().minLength(2).getError(),
      zip: stringValidator(source.address.zip).prepare('trim').required().minLength(5).maxLength(10).getError()
    },
    company: {
      name: stringValidator(source.company.name).prepare('trim').required().minLength(2).getError(),
      department: stringValidator(source.company.department).prepare('trim').maxLength(50).getError(),
      contact: {
        phone: stringValidator(source.company.contact.phone).prepare('trim').required().minLength(10).getError(),
        email: stringValidator(source.company.contact.email).prepare('trim').required().email().getError()
      }
    }
  })
});`,p=`<!-- 2-level nested binding -->
<input bind:value={data.address.street} />
<ErrorText error={$errors?.address?.street ?? ''} />

<!-- 3-level nested binding -->
<input bind:value={data.company.contact.phone} />
<ErrorText error={$errors?.company?.contact?.phone ?? ''} />`;rt(e,{description:"Illustrates validating deeply nested object structures with multi-level property paths.",title:"Nested Objects Demo",main:D=>{var L=fo(),N=fe(L);nt(N,{get hasErrors(){return r()},get isDirty(){return a()}});var T=c(N,2),k=f(T),F=f(k);qt(F,{title:"Personal Info",children:(x,w)=>{var $=Ct(),O=fe($);{var G=R=>{var W=oo();S(R,W)};le(O,R=>{n().name&&R(G)})}S(x,$)}});var H=c(F,2);{let x=z(()=>i()?.name);ie(H,{id:"name",get error(){return m(x)},label:"Full Name",placeholder:"Enter your full name",get value(){return s.name},set value(w){s.name=w}})}var X=c(k,2),Z=f(X);qt(Z,{subtitle:"2-level nested",title:"Address",children:(x,w)=>{var $=Ct(),O=fe($);{var G=R=>{var W=lo();S(R,W)};le(O,R=>{n().address&&R(G)})}S(x,$)}});var I=c(Z,2),P=f(I);{let x=z(()=>i()?.address?.street);ie(P,{id:"street",get error(){return m(x)},label:"Street",placeholder:"Enter street address",get value(){return s.address.street},set value(w){s.address.street=w}})}var E=c(P,2),q=f(E);{let x=z(()=>i()?.address?.city);ie(q,{id:"city",get error(){return m(x)},label:"City",placeholder:"Enter city",get value(){return s.address.city},set value(w){s.address.city=w}})}var U=c(q,2);{let x=z(()=>i()?.address?.zip);ie(U,{id:"zip",get error(){return m(x)},label:"ZIP Code",placeholder:"Enter ZIP",get value(){return s.address.zip},set value(w){s.address.zip=w}})}var j=c(X,2),B=f(j);qt(B,{subtitle:"3-level nested",title:"Company",children:(x,w)=>{var $=Ct(),O=fe($);{var G=R=>{var W=uo();S(R,W)};le(O,R=>{n().company&&R(G)})}S(x,$)}});var J=c(B,2),K=f(J),ee=f(K);{let x=z(()=>i()?.company?.name);ie(ee,{id:"company-name",get error(){return m(x)},label:"Company Name",placeholder:"Enter company name",get value(){return s.company.name},set value(w){s.company.name=w}})}var re=c(ee,2);{let x=z(()=>i()?.company?.department);ie(re,{id:"department",get error(){return m(x)},label:"Department",placeholder:"Enter department",required:!1,get value(){return s.company.department},set value(w){s.company.department=w}})}var Q=c(K,2);so(Q,{get isDirty(){return n()["company.contact"]},subtitle:"3rd level",title:"Contact Info",children:(x,w)=>{var $=co(),O=f($);{let R=z(()=>i()?.company?.contact?.phone);ie(O,{id:"contact-phone",get error(){return m(R)},label:"Phone",placeholder:"Enter phone number",variant:"nested",get value(){return s.company.contact.phone},set value(W){s.company.contact.phone=W}})}var G=c(O,2);{let R=z(()=>i()?.company?.contact?.email);ie(G,{id:"contact-email",get error(){return m(R)},label:"Email",placeholder:"Enter email address",type:"email",variant:"nested",get value(){return s.company.contact.email},set value(W){s.company.contact.email=W}})}S(x,$)}}),S(D,L)},sidebar:D=>{tt(D,{get data(){return s},get errors(){return i()},get hasErrors(){return r()},get isDirty(){return a()},get isDirtyByField(){return n()},onFill:g,width:"xl:w-96"})},sourceCode:D=>{at(D,{children:(L,N)=>{var T=vo(),k=fe(T);me(k,{code:y,title:"State Setup with Nested Validation"});var F=c(k,2);me(F,{code:p,title:"Nested Form Binding Examples"}),S(L,T)}})}}),Ve(),l()}var po=A('<div class="mb-4 rounded-lg border border-purple-200 bg-purple-50 p-3"><span class="text-sm text-purple-800"><span class="font-medium">Effect triggered:</span> </span></div>'),ho=A('<div class="mt-4 rounded-lg border border-red-200 bg-red-50 p-3"><div class="flex items-center gap-2"><svg class="h-5 w-5 text-red-500" fill="currentColor" viewBox="0 0 20 20"><path clip-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" fill-rule="evenodd"></path></svg> <span class="text-sm font-medium text-red-800"> </span></div></div>'),go=A('<div class="mt-4 rounded-lg border border-green-200 bg-green-50 p-3"><div class="flex items-center gap-2"><svg class="h-5 w-5 text-green-500" fill="currentColor" viewBox="0 0 20 20"><path clip-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" fill-rule="evenodd"></path></svg> <span class="text-sm font-medium text-green-800"> </span></div></div>'),bo=A('<span class="inline-flex items-center gap-2"><svg class="h-4 w-4 animate-spin" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" fill="currentColor"></path></svg> Submitting...</span>'),_o=A('<!> <!> <div class="space-y-4"><!> <!> <div class="flex items-center gap-2"><input id="simulateError" class="h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-50" type="checkbox"/> <label class="text-sm text-gray-700" for="simulateError">Simulate server error</label></div></div> <!> <!> <div class="mt-6"><button class="w-full cursor-pointer rounded-lg bg-green-600 px-4 py-2 text-sm font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 disabled:cursor-not-allowed disabled:opacity-50" type="button"><!></button></div>',1),yo=A('<div class="w-full flex-shrink-0 space-y-4 xl:w-80"><!> <div class="rounded-lg border border-blue-200 bg-blue-50 p-4"><h6 class="mb-3 text-sm font-semibold text-blue-900">Options</h6> <div class="space-y-4"><div><div class="flex items-center gap-2"><input id="resetDirtyOnAction" class="h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500" type="checkbox"/> <label class="text-sm font-medium text-gray-800" for="resetDirtyOnAction">resetDirtyOnAction</label></div> <p class="mt-1 text-xs text-gray-600">Reset isDirty after successful action</p></div> <div><label class="block text-sm font-medium text-gray-800" for="debounceValidation">debounceValidation (ms)</label> <input id="debounceValidation" class="mt-1 block w-full rounded border border-gray-300 px-2 py-1 text-sm focus:border-blue-500 focus:ring-blue-500" min="0" placeholder="0" step="100" type="number"/> <p class="mt-1 text-xs text-gray-600">Try 500ms and type quickly</p></div> <div><div class="flex items-center gap-2"><input id="persistActionError" class="h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500" type="checkbox"/> <label class="text-sm font-medium text-gray-800" for="persistActionError">persistActionError</label></div> <p class="mt-1 text-xs text-gray-600">Keep errors until next action</p></div> <button class="w-full cursor-pointer rounded bg-blue-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-blue-700" type="button">Apply Options</button></div></div> <div class="rounded-lg border border-gray-300 bg-gray-50 p-4 shadow-inner"><h6 class="mb-2 text-sm font-medium text-gray-700">Current Options</h6> <div class="space-y-1 font-mono text-xs text-gray-600"><div> </div> <div> </div> <div> </div></div></div></div>'),xo=A("<!> <!> <!> <!>",1);function wo(e,t){Le(t,!0);const r=()=>Y(m(L),"$hasErrors",l),a=()=>Y(m(N),"$isDirty",l),n=()=>Y(m(T),"$actionInProgress",l),i=()=>Y(m(D),"$errors",l),o=()=>Y(m(k),"$actionError",l),[l,u]=Xe();let s=ge(!0),d=ge(0),h=ge(!1),v=ge(0),_=ge(!1),g=ge(void 0),y=ge(void 0);const p=()=>({name:`User ${ue()}`,email:`${ue()}@example.com`}),b=E=>et(p(),{validator:q=>({name:ne(q.name).prepare("trim").required().minLength(2).maxLength(50).getError(),email:ne(q.email).prepare("trim").required().email().getError()}),effect:({property:q})=>{de(y,q,!0)},action:async()=>{const q=Je(100,800);if(await new Promise(U=>setTimeout(U,q)),m(_))throw new Error(`Simulated error after ${q}ms`);de(g,`Submitted successfully in ${q}ms!`)},actionCompleted:q=>{q&&de(g,void 0)}},E);let V=ge(ht(b({resetDirtyOnAction:!0,debounceValidation:0,persistActionError:!1})));const C=()=>{de(y,void 0),de(g,void 0),de(V,b({resetDirtyOnAction:m(s),debounceValidation:m(d),persistActionError:m(h)}),!0),ci(v)},D=z(()=>m(V).state.errors),L=z(()=>m(V).state.hasErrors),N=z(()=>m(V).state.isDirty),T=z(()=>m(V).state.actionInProgress),k=z(()=>m(V).state.actionError),F=()=>{m(V).data.name=`User ${ue()}`,m(V).data.email=`${ue()}@example.com`},H=()=>{de(g,void 0),m(V).execute()},X=`const { data, execute, state } = createSvState(
  sourceData,
  { validator, effect, action },
  {
    // Reset isDirty to false after successful action
    resetDirtyOnAction: true,    // default: true

    // Debounce validation by N milliseconds
    debounceValidation: 0,       // default: 0 (uses queueMicrotask)

    // Keep action errors until next action (not cleared on data change)
    persistActionError: false    // default: false
  }
);`,Z=`// With resetDirtyOnAction: true (default)
await execute();
// isDirty is now false

// With resetDirtyOnAction: false
await execute();
// isDirty remains true`,I=`// With debounceValidation: 0 (default)
// Validation runs via queueMicrotask after each change

// With debounceValidation: 500
// Validation runs 500ms after the last change
// Useful for expensive validators or rapid typing`,P=`// With persistActionError: false (default)
data.name = 'new value';
// actionError is cleared immediately

// With persistActionError: true
data.name = 'new value';
// actionError remains until next execute() call`;rt(e,{description:"Interactive playground for configuring createSvState options like debouncing and error persistence.",title:"Options Demo",main:j=>{var B=Ct(),J=fe(B);Oi(J,()=>m(v),K=>{var ee=_o(),re=fe(ee);nt(re,{get hasErrors(){return r()},get isDirty(){return a()}});var Q=c(re,2);{var x=se=>{var be=po(),wt=f(be),vt=c(f(wt));te(()=>M(vt,` property "${m(y)??""}" changed`)),S(se,be)};le(Q,se=>{m(y)&&se(x)})}var w=c(Q,2),$=f(w);{let se=z(()=>i()?.name);ie($,{id:"name",get disabled(){return n()},get error(){return m(se)},label:"Name",placeholder:"Enter name",get value(){return m(V).data.name},set value(be){m(V).data.name=be}})}var O=c($,2);{let se=z(()=>i()?.email);ie(O,{id:"email",get disabled(){return n()},get error(){return m(se)},label:"Email",placeholder:"Enter email",type:"email",get value(){return m(V).data.email},set value(be){m(V).data.email=be}})}var G=c(O,2),R=f(G),W=c(w,2);{var pe=se=>{var be=ho(),wt=f(be),vt=c(f(wt),2),Gt=f(vt);te(()=>M(Gt,o().message)),S(se,be)};le(W,se=>{o()&&se(pe)})}var Ae=c(W,2);{var ke=se=>{var be=go(),wt=f(be),vt=c(f(wt),2),Gt=f(vt);te(()=>M(Gt,m(g))),S(se,be)};le(Ae,se=>{m(g)&&se(ke)})}var ze=c(Ae,2),xe=f(ze);xe.__click=H;var Kt=f(xe);{var Yt=se=>{var be=bo();S(se,be)},Zt=se=>{var be=Gr("Submit");S(se,be)};le(Kt,se=>{n()?se(Yt):se(Zt,!1)})}te(()=>{R.disabled=n(),xe.disabled=r()||n()}),yr(R,()=>m(_),se=>de(_,se)),S(K,ee)}),S(j,B)},sidebar:j=>{var B=yo(),J=f(B);tt(J,{get data(){return m(V).data},get errors(){return i()},get hasErrors(){return r()},get isDirty(){return a()},onFill:F});var K=c(J,2),ee=c(f(K),2),re=f(ee),Q=f(re),x=f(Q),w=c(re,2),$=c(f(w),2),O=c(w,2),G=f(O),R=f(G),W=c(O,2);W.__click=C;var pe=c(K,2),Ae=c(f(pe),2),ke=f(Ae),ze=f(ke),xe=c(ke,2),Kt=f(xe),Yt=c(xe,2),Zt=f(Yt);te(()=>{M(ze,`resetDirtyOnAction: ${m(s)??""}`),M(Kt,`debounceValidation: ${m(d)??""}`),M(Zt,`persistActionError: ${m(h)??""}`)}),yr(x,()=>m(s),se=>de(s,se)),or($,()=>m(d),se=>de(d,se)),yr(R,()=>m(h),se=>de(h,se)),S(j,B)},sourceCode:j=>{at(j,{children:(B,J)=>{var K=xo(),ee=fe(K);me(ee,{code:X,title:"Options Overview"});var re=c(ee,2);me(re,{code:Z,title:"resetDirtyOnAction"});var Q=c(re,2);me(Q,{code:I,title:"debounceValidation"});var x=c(Q,2);me(x,{code:P,title:"persistActionError"}),S(B,K)}})}}),Ve(),u()}Qe(["click"]);var Eo=A('<div class="mt-6"><button class="w-full cursor-pointer rounded-lg bg-orange-600 px-4 py-2 text-sm font-medium text-white hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-orange-500" type="button">Reset to Initial Values</button></div>'),$o=A('<!> <div class="space-y-4"><!> <!> <!> <!> <!></div> <!>',1),So=A("<!> <!>",1);function Do(e,t){Le(t,!0);const r=()=>Y(h,"$hasErrors",i),a=()=>Y(v,"$isDirty",i),n=()=>Y(d,"$errors",i),[i,o]=Xe(),l={firstName:"Alice",lastName:"Smith",email:"alice.smith@example.com",phone:"",bio:""},{data:u,reset:s,state:{errors:d,hasErrors:h,isDirty:v}}=et(l,{validator:p=>({firstName:ne(p.firstName).prepare("trim").required().minLength(2).maxLength(30).getError(),lastName:ne(p.lastName).prepare("trim").required().minLength(2).maxLength(30).getError(),email:ne(p.email).prepare("trim").required().email().getError(),phone:ne(p.phone).prepare("trim").required().minLength(10).getError(),bio:ne(p.bio).maxLength(200).getError()})}),_=()=>{u.firstName="John",u.lastName=`Doe${ue()}`,u.email=`john.doe.${ue()}@example.com`,u.phone=`555-${ue().slice(0,3)}-${ue().slice(0,4)}`,u.bio="Software developer with a passion for clean code."},g=`const sourceData = {
  firstName: 'Alice',
  lastName: 'Smith',
  email: 'alice.smith@example.com',
  phone: '',
  bio: ''
};

const { data, reset, state: { errors, hasErrors, isDirty } } = createSvState(sourceData, {
  validator: (source) => ({
    firstName: stringValidator(source.firstName).prepare('trim').required().minLength(2).maxLength(30).getError(),
    lastName: stringValidator(source.lastName).prepare('trim').required().minLength(2).maxLength(30).getError(),
    email: stringValidator(source.email).prepare('trim').required().email().getError(),
    phone: stringValidator(source.phone).prepare('trim').required().minLength(10).getError(),
    bio: stringValidator(source.bio).maxLength(200).getError()
  })
});`,y=`<!-- Reset button only appears when form is dirty -->
{#if $isDirty}
  <button onclick={reset} type="button">
    Reset to Initial Values
  </button>
{/if}

<!-- isDirty becomes true on any change -->
<!-- reset() restores to initial snapshot and clears history -->`;rt(e,{description:"Demonstrates the reset() function to restore state back to its initial values.",title:"Reset Demo",main:C=>{var D=$o(),L=fe(D);nt(L,{get hasErrors(){return r()},get isDirty(){return a()}});var N=c(L,2),T=f(N);{let P=z(()=>n()?.firstName);ie(T,{id:"firstName",get error(){return m(P)},label:"First Name",placeholder:"Enter first name",get value(){return u.firstName},set value(E){u.firstName=E}})}var k=c(T,2);{let P=z(()=>n()?.lastName);ie(k,{id:"lastName",get error(){return m(P)},label:"Last Name",placeholder:"Enter last name",get value(){return u.lastName},set value(E){u.lastName=E}})}var F=c(k,2);{let P=z(()=>n()?.email);ie(F,{id:"email",get error(){return m(P)},label:"Email",placeholder:"Enter email",type:"email",get value(){return u.email},set value(E){u.email=E}})}var H=c(F,2);{let P=z(()=>n()?.phone);ie(H,{id:"phone",get error(){return m(P)},label:"Phone",placeholder:"555-123-4567",get value(){return u.phone},set value(E){u.phone=E}})}var X=c(H,2);{let P=z(()=>n()?.bio);ra(X,{id:"bio",get error(){return m(P)},label:"Bio",placeholder:"Tell us about yourself",required:!1,get value(){return u.bio},set value(E){u.bio=E}})}var Z=c(N,2);{var I=P=>{var E=Eo(),q=f(E);q.__click=s,S(P,E)};le(Z,P=>{a()&&P(I)})}S(C,D)},sidebar:C=>{tt(C,{get data(){return u},get errors(){return n()},get hasErrors(){return r()},get isDirty(){return a()},onFill:_})},sourceCode:C=>{at(C,{children:(D,L)=>{var N=So(),T=fe(N);me(T,{code:g,title:"State Setup with Reset"});var k=c(T,2);me(k,{code:y,title:"Conditional Reset Button"}),S(D,N)}})}}),Ve(),o()}Qe(["click"]);var Ao=A('<button class="flex-1 cursor-pointer rounded-lg bg-orange-600 px-4 py-2 text-sm font-medium text-white hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-orange-500" type="button">Reset All</button>'),ko=A('<!> <div class="mb-4 flex items-center gap-2"><span class="rounded bg-purple-100 px-2.5 py-0.5 text-xs font-medium text-purple-800"> </span> <span class="rounded bg-indigo-100 px-2.5 py-0.5 text-xs font-medium text-indigo-800">Max: 5</span></div> <div class="space-y-4"><!> <!> <!> <!> <!></div> <div class="mt-6 flex flex-wrap gap-3"><button class="flex-1 cursor-pointer rounded-lg bg-amber-600 px-4 py-2 text-sm font-medium text-white hover:bg-amber-700 focus:outline-none focus:ring-2 focus:ring-amber-500 disabled:cursor-not-allowed disabled:opacity-50" type="button">Undo Last Change</button> <button class="flex-1 cursor-pointer rounded-lg bg-purple-600 px-4 py-2 text-sm font-medium text-white hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 disabled:cursor-not-allowed disabled:opacity-50" type="button">Rollback To Initial</button> <!></div>',1),Co=A('<p class="text-xs text-gray-500">No snapshots yet</p>'),No=A('<li class="flex items-center gap-2 text-xs text-gray-600"><span class="flex h-5 w-5 flex-shrink-0 items-center justify-center rounded-full bg-purple-200 text-xs font-medium text-purple-800"></span> <button class="cursor-pointer truncate hover:text-purple-700 hover:underline disabled:cursor-default disabled:no-underline disabled:hover:text-gray-600" type="button"> </button></li>'),qo=A('<ul class="max-h-48 space-y-1 overflow-y-auto"></ul>'),Po=A('<div class="w-full flex-shrink-0 space-y-4 xl:w-96"><!> <div class="rounded-lg border border-gray-300 bg-gray-50 p-4 shadow-inner"><h6 class="mb-2 text-sm font-medium text-gray-700">Snapshot History</h6> <!></div></div>'),To=A("<!> <!> <!>",1);function Lo(e,t){Le(t,!0);const r=()=>Y(y,"$hasErrors",o),a=()=>Y(p,"$isDirty",o),n=()=>Y(b,"$snapshots",o),i=()=>Y(g,"$errors",o),[o,l]=Xe(),u={firstName:"Alice",lastName:"Smith",email:"alice.smith@example.com",phone:"",bio:""},s=N=>N.charAt(0).toUpperCase()+N.slice(1).replaceAll(/([A-Z])/g," $1"),{data:d,reset:h,rollback:v,rollbackTo:_,state:{errors:g,hasErrors:y,isDirty:p,snapshots:b}}=et(u,{validator:N=>({firstName:ne(N.firstName).prepare("trim").required().minLength(2).maxLength(30).getError(),lastName:ne(N.lastName).prepare("trim").required().minLength(2).maxLength(30).getError(),email:ne(N.email).prepare("trim").required().email().getError(),phone:ne(N.phone).prepare("trim").required().minLength(10).getError(),bio:ne(N.bio).maxLength(200).getError()}),effect:({snapshot:N,property:T})=>{N(`Changed ${s(T)}`)}},{maxSnapshots:5}),V=()=>{d.firstName="John",d.lastName=`Doe${ue()}`,d.email=`john.doe.${ue()}@example.com`,d.phone=`555-${ue().slice(0,3)}-${ue().slice(0,4)}`,d.bio="Software developer with a passion for clean code."},C=`const sourceData = {
  firstName: 'Alice', lastName: 'Smith', email: 'alice.smith@example.com', phone: '', bio: ''
};

const { data, reset, rollback, rollbackTo, state: { errors, hasErrors, isDirty, snapshots } } =
  createSvState(sourceData, {
    validator: (source) => ({ /* validation rules */ }),
    effect: ({ snapshot, property }) => {
      snapshot(\`Changed \${formatFieldName(property)}\`);
    }
  }, { maxSnapshots: 5 });`,D=`// Effect callback creates snapshots on each change
effect: ({ snapshot, property }) => {
  snapshot(\`Changed \${property}\`);  // Creates undo point
  // If same title, replaces last snapshot (debouncing)
  // Use snapshot(title, false) to always create new
}`,L=`// Undo last change
rollback();

// Undo 3 changes at once
rollback(3);

// Roll back to a named snapshot (returns true if found)
rollbackTo('Changed First Name');

// Roll back to initial state
rollbackTo('Initial');

// Reset to initial state (clears all snapshots)
reset();`;rt(e,{description:"Shows snapshot creation for undo functionality with rollback(), rollbackTo(), and maxSnapshots support.",title:"Snapshot & Rollback Demo",main:F=>{var H=ko(),X=fe(H);nt(X,{get hasErrors(){return r()},get isDirty(){return a()}});var Z=c(X,2),I=f(Z),P=f(I),E=c(Z,2),q=f(E);{let w=z(()=>i()?.firstName);ie(q,{id:"firstName",get error(){return m(w)},label:"First Name",placeholder:"Enter first name",get value(){return d.firstName},set value($){d.firstName=$}})}var U=c(q,2);{let w=z(()=>i()?.lastName);ie(U,{id:"lastName",get error(){return m(w)},label:"Last Name",placeholder:"Enter last name",get value(){return d.lastName},set value($){d.lastName=$}})}var j=c(U,2);{let w=z(()=>i()?.email);ie(j,{id:"email",get error(){return m(w)},label:"Email",placeholder:"Enter email",type:"email",get value(){return d.email},set value($){d.email=$}})}var B=c(j,2);{let w=z(()=>i()?.phone);ie(B,{id:"phone",get error(){return m(w)},label:"Phone",placeholder:"555-123-4567",get value(){return d.phone},set value($){d.phone=$}})}var J=c(B,2);{let w=z(()=>i()?.bio);ra(J,{id:"bio",get error(){return m(w)},label:"Bio",placeholder:"Tell us about yourself",required:!1,get value(){return d.bio},set value($){d.bio=$}})}var K=c(E,2),ee=f(K);ee.__click=()=>v();var re=c(ee,2);re.__click=()=>_("Initial");var Q=c(re,2);{var x=w=>{var $=Ao();$.__click=h,S(w,$)};le(Q,w=>{a()&&w(x)})}te(()=>{M(P,`${n().length??""} Snapshot${n().length===1?"":"s"}`),ee.disabled=n().length<=1,re.disabled=n().length<=1}),S(F,H)},sidebar:F=>{var H=Po(),X=f(H);tt(X,{get data(){return d},get errors(){return i()},get hasErrors(){return r()},get isDirty(){return a()},onFill:V,width:"xl:w-96"});var Z=c(X,2),I=c(f(Z),2);{var P=q=>{var U=Co();S(q,U)},E=q=>{var U=qo();ea(U,5,n,Xr,(j,B,J)=>{var K=No(),ee=f(K);ee.textContent=J+1;var re=c(ee,2);re.__click=()=>_(m(B).title);var Q=f(re);te(()=>{re.disabled=n().length<=1,M(Q,m(B).title)}),S(j,K)}),S(q,U)};le(I,q=>{n().length===0?q(P):q(E,!1)})}S(F,H)},sourceCode:F=>{at(F,{children:(H,X)=>{var Z=To(),I=fe(Z);me(I,{code:C,title:"State Setup with Snapshots & maxSnapshots"});var P=c(I,2);me(P,{code:D,title:"Effect with Snapshot Creation"});var E=c(P,2);me(E,{code:L,title:"Rollback, RollbackTo & Reset Usage"}),S(H,Z)}})}}),Ve(),l()}Qe(["click"]);var Vo=A("<option> </option>"),Oo=A(`<div class="min-h-screen bg-gray-100 p-4 md:p-8"><header class="mb-6 flex flex-col items-center gap-4 text-center sm:mb-8 sm:flex-row sm:text-left"><img class="h-20 w-20 sm:h-32 sm:w-32" alt="svstate logo"/> <div class="flex-1"><h1 class="text-2xl font-bold text-gray-900 sm:text-4xl"><a class="ml-1 inline-flex items-center text-gray-500 transition-colors hover:text-gray-900" href="https://github.com/BCsabaEngine/svstate" rel="noopener noreferrer" target="_blank" title="View on GitHub"><svg class="h-4 w-4 sm:h-5 sm:w-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"></path></svg></a> svstate <span class="ml-2 text-base font-normal text-gray-500 sm:text-xl"> </span></h1> <p class="mt-2 text-sm text-gray-600 sm:text-base">A Svelte 5 library that provides a supercharged $state() with deep reactive proxies, validation, snapshot/undo,
				and side effects  built for complex, real-world applications.</p> <div class="mt-2 inline-flex items-center gap-1.5 rounded-md bg-gray-900 px-3 py-1.5 font-mono text-xs text-white"><span class="text-green-400">$</span> <span>npm i svstate</span> <button class="ml-1 cursor-pointer rounded p-0.5 text-gray-400 transition-colors hover:bg-gray-700 hover:text-white" title="Copy to clipboard" type="button"><svg class="h-3.5 w-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg></button></div> <a class="hidden items-center px-2 py-2 font-mono text-xs text-gray-700 transition-colors hover:bg-gray-300 sm:inline-flex" title="AI-readable documentation">llms.txt</a></div></header> <div class="flex flex-col gap-4 lg:flex-row lg:gap-6"><aside class="w-full lg:w-64 lg:flex-shrink-0"><div class="rounded-lg border border-gray-200 bg-white p-4 shadow-sm"><label class="mb-2 block text-sm font-medium text-gray-900" for="demo-select">Demo Mode</label> <select id="demo-select" class="block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500"></select></div></aside> <main class="min-w-0 flex-1"><!></main></div></div>`);function Mo(e){const t=[{value:"basic-validation",name:"Basic Validation"},{value:"nested-objects",name:"Nested Objects"},{value:"array-property",name:"Array Property"},{value:"calculated-fields",name:"Calculated Fields"},{value:"calculated-class",name:"State with Methods"},{value:"reset-demo",name:"Reset"},{value:"snapshot-demo",name:"Snapshot & Rollback"},{value:"action-demo",name:"Action & Error"},{value:"async-validation",name:"Async Validation"},{value:"options-demo",name:"Options"}];let r=ge("basic-validation");const a="1.4.1",n="/svstate";var i=Oo(),o=f(i),l=f(o),u=c(l,2),s=f(u),d=c(f(s),2),h=f(d),v=c(s,4),_=c(f(v),4);_.__click=()=>navigator.clipboard.writeText(`npm i svstate@${a}`);var g=c(v,2),y=c(o,2),p=f(y),b=f(p),V=c(f(b),2);ea(V,21,()=>t,Xr,(E,q)=>{var U=Vo(),j=f(U),B={};te(()=>{M(j,m(q).name),B!==(B=m(q).value)&&(U.value=(U.__value=m(q).value)??"")}),S(E,U)});var C=c(p,2),D=f(C);{var L=E=>{Ks(E,{})},N=E=>{mo(E,{})},T=E=>{Vs(E,{})},k=E=>{ro(E,{})},F=E=>{Xs(E,{})},H=E=>{Do(E,{})},X=E=>{Lo(E,{})},Z=E=>{Ss(E,{})},I=E=>{zs(E,{})},P=E=>{wo(E,{})};le(D,E=>{m(r)==="basic-validation"?E(L):m(r)==="nested-objects"?E(N,1):m(r)==="array-property"?E(T,2):m(r)==="calculated-fields"?E(k,3):m(r)==="calculated-class"?E(F,4):m(r)==="reset-demo"?E(H,5):m(r)==="snapshot-demo"?E(X,6):m(r)==="action-demo"?E(Z,7):m(r)==="async-validation"?E(I,8):m(r)==="options-demo"&&E(P,9)})}te(()=>{$e(l,"src",`${n}/favicon.png`),M(h,`v${a}`),$e(g,"href",`${n}/llms.txt`)}),Bi(V,()=>m(r),E=>de(r,E)),S(e,i)}Qe(["click"]);Pi(Mo,{target:document.querySelector("#app")});
