(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();const xt=!1;var Tt=Array.isArray,kn=Array.prototype.indexOf,dt=Array.from,fr=Object.defineProperty,ze=Object.getOwnPropertyDescriptor,An=Object.prototype,Mn=Array.prototype,Cn=Object.getPrototypeOf,er=Object.isExtensible;const de=()=>{};function cr(e){for(var t=0;t<e.length;t++)e[t]()}function dr(){var e,t,r=new Promise((s,n)=>{e=s,t=n});return{promise:r,resolve:e,reject:t}}const $=2,ot=4,vt=8,vr=1<<24,ie=16,ge=32,Ae=64,Ot=128,H=512,D=1024,F=2048,ae=4096,U=8192,ve=16384,hr=32768,Re=65536,tr=1<<17,_r=1<<18,Le=1<<19,Nn=1<<20,ce=1<<25,Se=32768,Et=1<<21,$t=1<<22,he=1<<23,He=Symbol("$state"),Oe=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function Tn(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function On(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function $n(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Dn(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Rn(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Fn(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Pn=1,qn=2,In=16,Ln=1,Vn=2,O=Symbol();function Un(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function Wn(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function pr(e){return e===this.v}function gr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function mr(e){return!gr(e,this.v)}let Bn=!1,Z=null;function Fe(e){Z=e}function br(e,t=!1,r){Z={p:Z,i:!1,c:null,e:null,s:e,x:null,l:null}}function yr(e){var t=Z,r=t.e;if(r!==null){t.e=null;for(var s of r)us(s)}return t.i=!0,Z=t.p,{}}function wr(){return!0}let ye=[];function xr(){var e=ye;ye=[],cr(e)}function Dt(e){if(ye.length===0&&!Ke){var t=ye;queueMicrotask(()=>{t===ye&&xr()})}ye.push(e)}function jn(){for(;ye.length>0;)xr()}function Er(e){var t=M;if(t===null)return b.f|=he,e;if((t.f&hr)===0){if((t.f&Ot)===0)throw e;t.b.error(e)}else Pe(e,t)}function Pe(e,t){for(;t!==null;){if((t.f&Ot)!==0)try{t.b.error(e);return}catch(r){e=r}t=t.parent}throw e}const zn=-7169;function N(e,t){e.f=e.f&zn|t}function Rt(e){(e.f&H)!==0||e.deps===null?N(e,D):N(e,ae)}function Sr(e){if(e!==null)for(const t of e)(t.f&$)===0||(t.f&Se)===0||(t.f^=Se,Sr(t.deps))}function kr(e,t,r){(e.f&F)!==0?t.add(e):(e.f&ae)!==0&&r.add(e),Sr(e.deps),N(e,D)}const nt=new Set;let x=null,Ye=null,G=null,j=[],ht=null,St=!1,Ke=!1;class ee{committed=!1;current=new Map;previous=new Map;#t=new Set;#a=new Set;#e=0;#s=0;#i=null;#n=new Set;#r=new Set;skipped_effects=new Set;is_fork=!1;is_deferred(){return this.is_fork||this.#s>0}process(t){j=[],Ye=null,this.apply();var r=[],s=[];for(const n of t)this.#o(n,r,s);this.is_fork||this.#u(),this.is_deferred()?(this.#l(s),this.#l(r)):(Ye=this,x=null,rr(s),rr(r),Ye=null,this.#i?.resolve()),G=null}#o(t,r,s){t.f^=D;for(var n=t.first,i=null;n!==null;){var o=n.f,a=(o&(ge|Ae))!==0,u=a&&(o&D)!==0,l=u||(o&U)!==0||this.skipped_effects.has(n);if(!l&&n.fn!==null){a?n.f^=D:i!==null&&(o&(ot|vt|vr))!==0?i.b.defer_effect(n):(o&ot)!==0?r.push(n):tt(n)&&((o&ie)!==0&&this.#n.add(n),Qe(n));var c=n.first;if(c!==null){n=c;continue}}var f=n.parent;for(n=n.next;n===null&&f!==null;)f===i&&(i=null),n=f.next,f=f.parent}}#l(t){for(var r=0;r<t.length;r+=1)kr(t[r],this.#n,this.#r)}capture(t,r){r!==O&&!this.previous.has(t)&&this.previous.set(t,r),(t.f&he)===0&&(this.current.set(t,t.v),G?.set(t,t.v))}activate(){x=this,this.apply()}deactivate(){x===this&&(x=null,G=null)}flush(){if(this.activate(),j.length>0){if(Ar(),x!==null&&x!==this)return}else this.#e===0&&this.process([]);this.deactivate()}discard(){for(const t of this.#a)t(this);this.#a.clear()}#u(){if(this.#s===0){for(const t of this.#t)t();this.#t.clear()}this.#e===0&&this.#f()}#f(){if(nt.size>1){this.previous.clear();var t=G,r=!0;for(const n of nt){if(n===this){r=!1;continue}const i=[];for(const[a,u]of this.current){if(n.current.has(a))if(r&&u!==n.current.get(a))n.current.set(a,u);else continue;i.push(a)}if(i.length===0)continue;const o=[...n.current.keys()].filter(a=>!this.current.has(a));if(o.length>0){var s=j;j=[];const a=new Set,u=new Map;for(const l of i)Mr(l,o,a,u);if(j.length>0){x=n,n.apply();for(const l of j)n.#o(l,[],[]);n.deactivate()}j=s}}x=null,G=t}this.committed=!0,nt.delete(this)}increment(t){this.#e+=1,t&&(this.#s+=1)}decrement(t){this.#e-=1,t&&(this.#s-=1),this.revive()}revive(){for(const t of this.#n)this.#r.delete(t),N(t,F),se(t);for(const t of this.#r)N(t,ae),se(t);this.flush()}oncommit(t){this.#t.add(t)}ondiscard(t){this.#a.add(t)}settled(){return(this.#i??=dr()).promise}static ensure(){if(x===null){const t=x=new ee;nt.add(x),Ke||ee.enqueue(()=>{x===t&&t.flush()})}return x}static enqueue(t){Dt(t)}apply(){}}function Hn(e){var t=Ke;Ke=!0;try{for(var r;;){if(jn(),j.length===0&&(x?.flush(),j.length===0))return ht=null,r;Ar()}}finally{Ke=t}}function Ar(){var e=xe;St=!0;var t=null;try{var r=0;for(ft(!0);j.length>0;){var s=ee.ensure();if(r++>1e3){var n,i;Yn()}s.process(j),_e.clear()}}finally{St=!1,ft(e),ht=null}}function Yn(){try{On()}catch(e){Pe(e,ht)}}let re=null;function rr(e){var t=e.length;if(t!==0){for(var r=0;r<t;){var s=e[r++];if((s.f&(ve|U))===0&&tt(s)&&(re=new Set,Qe(s),s.deps===null&&s.first===null&&s.nodes===null&&(s.teardown===null&&s.ac===null?Wr(s):s.fn=null),re?.size>0)){_e.clear();for(const n of re){if((n.f&(ve|U))!==0)continue;const i=[n];let o=n.parent;for(;o!==null;)re.has(o)&&(re.delete(o),i.push(o)),o=o.parent;for(let a=i.length-1;a>=0;a--){const u=i[a];(u.f&(ve|U))===0&&Qe(u)}}re.clear()}}re=null}}function Mr(e,t,r,s){if(!r.has(e)&&(r.add(e),e.reactions!==null))for(const n of e.reactions){const i=n.f;(i&$)!==0?Mr(n,t,r,s):(i&($t|ie))!==0&&(i&F)===0&&Cr(n,t,s)&&(N(n,F),se(n))}}function Cr(e,t,r){const s=r.get(e);if(s!==void 0)return s;if(e.deps!==null)for(const n of e.deps){if(t.includes(n))return!0;if((n.f&$)!==0&&Cr(n,t,r))return r.set(n,!0),!0}return r.set(e,!1),!1}function se(e){for(var t=ht=e;t.parent!==null;){t=t.parent;var r=t.f;if(St&&t===M&&(r&ie)!==0&&(r&_r)===0)return;if((r&(Ae|ge))!==0){if((r&D)===0)return;t.f^=D}}j.push(t)}function Kn(e){let t=0,r=ke(0),s;return()=>{It()&&(S(r),Lr(()=>(t===0&&(s=Bt(()=>e(()=>Ge(r)))),t+=1,()=>{Dt(()=>{t-=1,t===0&&(s?.(),s=void 0,Ge(r))})})))}}var Gn=Re|Le|Ot;function Jn(e,t,r){new Zn(e,t,r)}class Zn{parent;is_pending=!1;#t;#a=null;#e;#s;#i;#n=null;#r=null;#o=null;#l=null;#u=null;#f=0;#c=0;#v=!1;#h=new Set;#_=new Set;#d=null;#y=Kn(()=>(this.#d=ke(this.#f),()=>{this.#d=null}));constructor(t,r,s){this.#t=t,this.#e=r,this.#s=s,this.parent=M.b,this.is_pending=!!this.#e.pending,this.#i=Ut(()=>{M.b=this;{var n=this.#m();try{this.#n=z(()=>s(n))}catch(i){this.error(i)}this.#c>0?this.#g():this.is_pending=!1}return()=>{this.#u?.remove()}},Gn)}#w(){try{this.#n=z(()=>this.#s(this.#t))}catch(t){this.error(t)}}#x(){const t=this.#e.pending;t&&(this.#r=z(()=>t(this.#t)),ee.enqueue(()=>{var r=this.#m();this.#n=this.#p(()=>(ee.ensure(),z(()=>this.#s(r)))),this.#c>0?this.#g():(we(this.#r,()=>{this.#r=null}),this.is_pending=!1)}))}#m(){var t=this.#t;return this.is_pending&&(this.#u=pe(),this.#t.before(this.#u),t=this.#u),t}defer_effect(t){kr(t,this.#h,this.#_)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#e.pending}#p(t){var r=M,s=b,n=Z;te(this.#i),q(this.#i),Fe(this.#i.ctx);try{return t()}catch(i){return Er(i),null}finally{te(r),q(s),Fe(n)}}#g(){const t=this.#e.pending;this.#n!==null&&(this.#l=document.createDocumentFragment(),this.#l.append(this.#u),zr(this.#n,this.#l)),this.#r===null&&(this.#r=z(()=>t(this.#t)))}#b(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#b(t);return}if(this.#c+=t,this.#c===0){this.is_pending=!1;for(const r of this.#h)N(r,F),se(r);for(const r of this.#_)N(r,ae),se(r);this.#h.clear(),this.#_.clear(),this.#r&&we(this.#r,()=>{this.#r=null}),this.#l&&(this.#t.before(this.#l),this.#l=null)}}update_pending_count(t){this.#b(t),this.#f+=t,this.#d&&qe(this.#d,this.#f)}get_effect_pending(){return this.#y(),S(this.#d)}error(t){var r=this.#e.onerror;let s=this.#e.failed;if(this.#v||!r&&!s)throw t;this.#n&&(I(this.#n),this.#n=null),this.#r&&(I(this.#r),this.#r=null),this.#o&&(I(this.#o),this.#o=null);var n=!1,i=!1;const o=()=>{if(n){Wn();return}n=!0,i&&Fn(),ee.ensure(),this.#f=0,this.#o!==null&&we(this.#o,()=>{this.#o=null}),this.is_pending=this.has_pending_snippet(),this.#n=this.#p(()=>(this.#v=!1,z(()=>this.#s(this.#t)))),this.#c>0?this.#g():this.is_pending=!1};var a=b;try{q(null),i=!0,r?.(t,o),i=!1}catch(u){Pe(u,this.#i&&this.#i.parent)}finally{q(a)}s&&Dt(()=>{this.#o=this.#p(()=>{ee.ensure(),this.#v=!0;try{return z(()=>{s(this.#t,()=>t,()=>o)})}catch(u){return Pe(u,this.#i.parent),null}finally{this.#v=!1}})})}}function Xn(e,t,r,s){const n=Ft;if(r.length===0&&e.length===0){s(t.map(n));return}var i=x,o=M,a=Qn();function u(){Promise.all(r.map(l=>es(l))).then(l=>{a();try{s([...t.map(n),...l])}catch(c){(o.f&ve)===0&&Pe(c,o)}i?.deactivate(),lt()}).catch(l=>{Pe(l,o)})}e.length>0?Promise.all(e).then(()=>{a();try{return u()}finally{i?.deactivate(),lt()}}):u()}function Qn(){var e=M,t=b,r=Z,s=x;return function(i=!0){te(e),q(t),Fe(r),i&&s?.activate()}}function lt(){te(null),q(null),Fe(null)}function Ft(e){var t=$|F,r=b!==null&&(b.f&$)!==0?b:null;return M!==null&&(M.f|=Le),{ctx:Z,deps:null,effects:null,equals:pr,f:t,fn:e,reactions:null,rv:0,v:O,wv:0,parent:r??M,ac:null}}function es(e,t,r){let s=M;s===null&&Tn();var n=s.b,i=void 0,o=ke(O),a=!b,u=new Map;return ds(()=>{var l=dr();i=l.promise;try{Promise.resolve(e()).then(l.resolve,l.reject).then(()=>{c===x&&c.committed&&c.deactivate(),lt()})}catch(h){l.reject(h),lt()}var c=x;if(a){var f=n.is_rendered();n.update_pending_count(1),c.increment(f),u.get(c)?.reject(Oe),u.delete(c),u.set(c,l)}const d=(h,v=void 0)=>{if(c.activate(),v)v!==Oe&&(o.f|=he,qe(o,v));else{(o.f&he)!==0&&(o.f^=he),qe(o,h);for(const[m,y]of u){if(u.delete(m),m===c)break;y.reject(Oe)}}a&&(n.update_pending_count(-1),c.decrement(f))};l.promise.then(d,h=>d(null,h||"unknown"))}),Lt(()=>{for(const l of u.values())l.reject(Oe)}),new Promise(l=>{function c(f){function d(){f===i?l(o):c(i)}f.then(d,d)}c(i)})}function Ve(e){const t=Ft(e);return Hr(t),t}function ts(e){const t=Ft(e);return t.equals=mr,t}function Nr(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)I(t[r])}}function rs(e){for(var t=e.parent;t!==null;){if((t.f&$)===0)return(t.f&ve)===0?t:null;t=t.parent}return null}function Pt(e){var t,r=M;te(rs(e));try{e.f&=~Se,Nr(e),t=Jr(e)}finally{te(r)}return t}function Tr(e){var t=Pt(e);if(!e.equals(t)&&(e.wv=Kr(),(!x?.is_fork||e.deps===null)&&(e.v=t,e.deps===null))){N(e,D);return}Ie||(G!==null?(It()||x?.is_fork)&&G.set(e,t):Rt(e))}let kt=new Set;const _e=new Map;let Or=!1;function ke(e,t){var r={f:0,v:e,reactions:null,equals:pr,rv:0,wv:0};return r}function X(e,t){const r=ke(e);return Hr(r),r}function $r(e,t=!1,r=!0){const s=ke(e);return t||(s.equals=mr),s}function Q(e,t,r=!1){b!==null&&(!J||(b.f&tr)!==0)&&wr()&&(b.f&($|ie|$t|tr))!==0&&!ne?.includes(e)&&Rn();let s=r?$e(t):t;return qe(e,s)}function qe(e,t){if(!e.equals(t)){var r=e.v;Ie?_e.set(e,t):_e.set(e,r),e.v=t;var s=ee.ensure();if(s.capture(e,r),(e.f&$)!==0){const n=e;(e.f&F)!==0&&Pt(n),Rt(n)}e.wv=Kr(),Dr(e,F),M!==null&&(M.f&D)!==0&&(M.f&(ge|Ae))===0&&(W===null?_s([e]):W.push(e)),!s.is_fork&&kt.size>0&&!Or&&ns()}return t}function ns(){Or=!1;var e=xe;ft(!0);const t=Array.from(kt);try{for(const r of t)(r.f&D)!==0&&N(r,ae),tt(r)&&Qe(r)}finally{ft(e)}kt.clear()}function Ge(e){Q(e,e.v+1)}function Dr(e,t){var r=e.reactions;if(r!==null)for(var s=r.length,n=0;n<s;n++){var i=r[n],o=i.f,a=(o&F)===0;if(a&&N(i,t),(o&$)!==0){var u=i;G?.delete(u),(o&Se)===0&&(o&H&&(i.f|=Se),Dr(u,ae))}else a&&((o&ie)!==0&&re!==null&&re.add(i),se(i))}}function $e(e){if(typeof e!="object"||e===null||He in e)return e;const t=Cn(e);if(t!==An&&t!==Mn)return e;var r=new Map,s=Tt(e),n=X(0),i=Ee,o=a=>{if(Ee===i)return a();var u=b,l=Ee;q(null),or(i);var c=a();return q(u),or(l),c};return s&&r.set("length",X(e.length)),new Proxy(e,{defineProperty(a,u,l){(!("value"in l)||l.configurable===!1||l.enumerable===!1||l.writable===!1)&&$n();var c=r.get(u);return c===void 0?c=o(()=>{var f=X(l.value);return r.set(u,f),f}):Q(c,l.value,!0),!0},deleteProperty(a,u){var l=r.get(u);if(l===void 0){if(u in a){const c=o(()=>X(O));r.set(u,c),Ge(n)}}else Q(l,O),Ge(n);return!0},get(a,u,l){if(u===He)return e;var c=r.get(u),f=u in a;if(c===void 0&&(!f||ze(a,u)?.writable)&&(c=o(()=>{var h=$e(f?a[u]:O),v=X(h);return v}),r.set(u,c)),c!==void 0){var d=S(c);return d===O?void 0:d}return Reflect.get(a,u,l)},getOwnPropertyDescriptor(a,u){var l=Reflect.getOwnPropertyDescriptor(a,u);if(l&&"value"in l){var c=r.get(u);c&&(l.value=S(c))}else if(l===void 0){var f=r.get(u),d=f?.v;if(f!==void 0&&d!==O)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return l},has(a,u){if(u===He)return!0;var l=r.get(u),c=l!==void 0&&l.v!==O||Reflect.has(a,u);if(l!==void 0||M!==null&&(!c||ze(a,u)?.writable)){l===void 0&&(l=o(()=>{var d=c?$e(a[u]):O,h=X(d);return h}),r.set(u,l));var f=S(l);if(f===O)return!1}return c},set(a,u,l,c){var f=r.get(u),d=u in a;if(s&&u==="length")for(var h=l;h<f.v;h+=1){var v=r.get(h+"");v!==void 0?Q(v,O):h in a&&(v=o(()=>X(O)),r.set(h+"",v))}if(f===void 0)(!d||ze(a,u)?.writable)&&(f=o(()=>X(void 0)),Q(f,$e(l)),r.set(u,f));else{d=f.v!==O;var m=o(()=>$e(l));Q(f,m)}var y=Reflect.getOwnPropertyDescriptor(a,u);if(y?.set&&y.set.call(c,l),!d){if(s&&typeof u=="string"){var E=r.get("length"),k=Number(u);Number.isInteger(k)&&k>=E.v&&Q(E,k+1)}Ge(n)}return!0},ownKeys(a){S(n);var u=Reflect.ownKeys(a).filter(f=>{var d=r.get(f);return d===void 0||d.v!==O});for(var[l,c]of r)c.v!==O&&!(l in a)&&u.push(l);return u},setPrototypeOf(){Dn()}})}function nr(e){try{if(e!==null&&typeof e=="object"&&He in e)return e[He]}catch{}return e}function ss(e,t){return Object.is(nr(e),nr(t))}var sr,Rr,Fr,Pr;function is(){if(sr===void 0){sr=window,Rr=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;Fr=ze(t,"firstChild").get,Pr=ze(t,"nextSibling").get,er(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),er(r)&&(r.__t=void 0)}}function pe(e=""){return document.createTextNode(e)}function ut(e){return Fr.call(e)}function et(e){return Pr.call(e)}function w(e,t){return ut(e)}function Je(e,t=!1){{var r=ut(e);return r instanceof Comment&&r.data===""?et(r):r}}function _(e,t=1,r=!1){let s=e;for(;t--;)s=et(s);return s}function as(e){e.textContent=""}function qr(){return!1}let ir=!1;function os(){ir||(ir=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function qt(e){var t=b,r=M;q(null),te(null);try{return e()}finally{q(t),te(r)}}function Ir(e,t,r,s=r){e.addEventListener(t,()=>qt(r));const n=e.__on_r;n?e.__on_r=()=>{n(),s(!0)}:e.__on_r=()=>s(!0),os()}function ls(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function oe(e,t,r){var s=M;s!==null&&(s.f&U)!==0&&(e|=U);var n={ctx:Z,deps:null,nodes:null,f:e|F|H,first:null,fn:t,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,wv:0,ac:null};if(r)try{Qe(n),n.f|=hr}catch(a){throw I(n),a}else t!==null&&se(n);var i=n;if(r&&i.deps===null&&i.teardown===null&&i.nodes===null&&i.first===i.last&&(i.f&Le)===0&&(i=i.first,(e&ie)!==0&&(e&Re)!==0&&i!==null&&(i.f|=Re)),i!==null&&(i.parent=s,s!==null&&ls(i,s),b!==null&&(b.f&$)!==0&&(e&Ae)===0)){var o=b;(o.effects??=[]).push(i)}return n}function It(){return b!==null&&!J}function Lt(e){const t=oe(vt,null,!1);return N(t,D),t.teardown=e,t}function us(e){return oe(ot|Nn,e,!1)}function fs(e){ee.ensure();const t=oe(Ae|Le,e,!0);return(r={})=>new Promise(s=>{r.outro?we(t,()=>{I(t),s(void 0)}):(I(t),s(void 0))})}function cs(e){return oe(ot,e,!1)}function ds(e){return oe($t|Le,e,!0)}function Lr(e,t=0){return oe(vt|t,e,!0)}function Vt(e,t=[],r=[],s=[]){Xn(s,t,r,n=>{oe(vt,()=>e(...n.map(S)),!0)})}function Ut(e,t=0){var r=oe(ie|t,e,!0);return r}function z(e){return oe(ge|Le,e,!0)}function Vr(e){var t=e.teardown;if(t!==null){const r=Ie,s=b;ar(!0),q(null);try{t.call(null)}finally{ar(r),q(s)}}}function Ur(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){const n=r.ac;n!==null&&qt(()=>{n.abort(Oe)});var s=r.next;(r.f&Ae)!==0?r.parent=null:I(r,t),r=s}}function vs(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&ge)===0&&I(t),t=r}}function I(e,t=!0){var r=!1;(t||(e.f&_r)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(hs(e.nodes.start,e.nodes.end),r=!0),Ur(e,t&&!r),ct(e,0),N(e,ve);var s=e.nodes&&e.nodes.t;if(s!==null)for(const i of s)i.stop();Vr(e);var n=e.parent;n!==null&&n.first!==null&&Wr(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function hs(e,t){for(;e!==null;){var r=e===t?null:et(e);e.remove(),e=r}}function Wr(e){var t=e.parent,r=e.prev,s=e.next;r!==null&&(r.next=s),s!==null&&(s.prev=r),t!==null&&(t.first===e&&(t.first=s),t.last===e&&(t.last=r))}function we(e,t,r=!0){var s=[];Br(e,s,!0);var n=()=>{r&&I(e),t&&t()},i=s.length;if(i>0){var o=()=>--i||n();for(var a of s)a.out(o)}else n()}function Br(e,t,r){if((e.f&U)===0){e.f^=U;var s=e.nodes&&e.nodes.t;if(s!==null)for(const a of s)(a.is_global||r)&&t.push(a);for(var n=e.first;n!==null;){var i=n.next,o=(n.f&Re)!==0||(n.f&ge)!==0&&(e.f&ie)!==0;Br(n,t,o?r:!1),n=i}}}function Wt(e){jr(e,!0)}function jr(e,t){if((e.f&U)!==0){e.f^=U,(e.f&D)===0&&(N(e,F),se(e));for(var r=e.first;r!==null;){var s=r.next,n=(r.f&Re)!==0||(r.f&ge)!==0;jr(r,n?t:!1),r=s}var i=e.nodes&&e.nodes.t;if(i!==null)for(const o of i)(o.is_global||t)&&o.in()}}function zr(e,t){if(e.nodes)for(var r=e.nodes.start,s=e.nodes.end;r!==null;){var n=r===s?null:et(r);t.append(r),r=n}}let xe=!1;function ft(e){xe=e}let Ie=!1;function ar(e){Ie=e}let b=null,J=!1;function q(e){b=e}let M=null;function te(e){M=e}let ne=null;function Hr(e){b!==null&&(ne===null?ne=[e]:ne.push(e))}let R=null,V=0,W=null;function _s(e){W=e}let Yr=1,Xe=0,Ee=Xe;function or(e){Ee=e}function Kr(){return++Yr}function tt(e){var t=e.f;if((t&F)!==0)return!0;if(t&$&&(e.f&=~Se),(t&ae)!==0){for(var r=e.deps,s=r.length,n=0;n<s;n++){var i=r[n];if(tt(i)&&Tr(i),i.wv>e.wv)return!0}(t&H)!==0&&G===null&&N(e,D)}return!1}function Gr(e,t,r=!0){var s=e.reactions;if(s!==null&&!ne?.includes(e))for(var n=0;n<s.length;n++){var i=s[n];(i.f&$)!==0?Gr(i,t,!1):t===i&&(r?N(i,F):(i.f&D)!==0&&N(i,ae),se(i))}}function Jr(e){var t=R,r=V,s=W,n=b,i=ne,o=Z,a=J,u=Ee,l=e.f;R=null,V=0,W=null,b=(l&(ge|Ae))===0?e:null,ne=null,Fe(e.ctx),J=!1,Ee=++Xe,e.ac!==null&&(qt(()=>{e.ac.abort(Oe)}),e.ac=null);try{e.f|=Et;var c=e.fn,f=c(),d=e.deps;if(R!==null){var h;if(ct(e,V),d!==null&&V>0)for(d.length=V+R.length,h=0;h<R.length;h++)d[V+h]=R[h];else e.deps=d=R;if(It()&&(e.f&H)!==0)for(h=V;h<d.length;h++)(d[h].reactions??=[]).push(e)}else d!==null&&V<d.length&&(ct(e,V),d.length=V);if(wr()&&W!==null&&!J&&d!==null&&(e.f&($|ae|F))===0)for(h=0;h<W.length;h++)Gr(W[h],e);return n!==null&&n!==e&&(Xe++,W!==null&&(s===null?s=W:s.push(...W))),(e.f&he)!==0&&(e.f^=he),f}catch(v){return Er(v)}finally{e.f^=Et,R=t,V=r,W=s,b=n,ne=i,Fe(o),J=a,Ee=u}}function ps(e,t){let r=t.reactions;if(r!==null){var s=kn.call(r,e);if(s!==-1){var n=r.length-1;n===0?r=t.reactions=null:(r[s]=r[n],r.pop())}}if(r===null&&(t.f&$)!==0&&(R===null||!R.includes(t))){var i=t;(i.f&H)!==0&&(i.f^=H,i.f&=~Se),Rt(i),Nr(i),ct(i,0)}}function ct(e,t){var r=e.deps;if(r!==null)for(var s=t;s<r.length;s++)ps(e,r[s])}function Qe(e){var t=e.f;if((t&ve)===0){N(e,D);var r=M,s=xe;M=e,xe=!0;try{(t&(ie|vr))!==0?vs(e):Ur(e),Vr(e);var n=Jr(e);e.teardown=typeof n=="function"?n:null,e.wv=Yr;var i;xt&&Bn&&(e.f&F)!==0&&e.deps}finally{xe=s,M=r}}}async function gs(){await Promise.resolve(),Hn()}function S(e){var t=e.f,r=(t&$)!==0;if(b!==null&&!J){var s=M!==null&&(M.f&ve)!==0;if(!s&&!ne?.includes(e)){var n=b.deps;if((b.f&Et)!==0)e.rv<Xe&&(e.rv=Xe,R===null&&n!==null&&n[V]===e?V++:R===null?R=[e]:R.includes(e)||R.push(e));else{(b.deps??=[]).push(e);var i=e.reactions;i===null?e.reactions=[b]:i.includes(b)||i.push(b)}}}if(Ie&&_e.has(e))return _e.get(e);if(r){var o=e;if(Ie){var a=o.v;return((o.f&D)===0&&o.reactions!==null||Xr(o))&&(a=Pt(o)),_e.set(o,a),a}var u=(o.f&H)===0&&!J&&b!==null&&(xe||(b.f&H)!==0),l=o.deps===null;tt(o)&&(u&&(o.f|=H),Tr(o)),u&&!l&&Zr(o)}if(G?.has(e))return G.get(e);if((e.f&he)!==0)throw e.v;return e.v}function Zr(e){if(e.deps!==null){e.f|=H;for(const t of e.deps)(t.reactions??=[]).push(e),(t.f&$)!==0&&(t.f&H)===0&&Zr(t)}}function Xr(e){if(e.v===O)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(_e.has(t)||(t.f&$)!==0&&Xr(t))return!0;return!1}function Bt(e){var t=J;try{return J=!0,e()}finally{J=t}}const ms=["touchstart","touchmove"];function bs(e){return ms.includes(e)}const Qr=new Set,At=new Set;function ys(e){for(var t=0;t<e.length;t++)Qr.add(e[t]);for(var r of At)r(e)}let lr=null;function st(e){var t=this,r=t.ownerDocument,s=e.type,n=e.composedPath?.()||[],i=n[0]||e.target;lr=e;var o=0,a=lr===e&&e.__root;if(a){var u=n.indexOf(a);if(u!==-1&&(t===document||t===window)){e.__root=t;return}var l=n.indexOf(t);if(l===-1)return;u<=l&&(o=u)}if(i=n[o]||e.target,i!==t){fr(e,"currentTarget",{configurable:!0,get(){return i||r}});var c=b,f=M;q(null),te(null);try{for(var d,h=[];i!==null;){var v=i.assignedSlot||i.parentNode||i.host||null;try{var m=i["__"+s];m!=null&&(!i.disabled||e.target===i)&&m.call(i,e)}catch(y){d?h.push(y):d=y}if(e.cancelBubble||v===t||v===null)break;i=v}if(d){for(let y of h)queueMicrotask(()=>{throw y});throw d}}finally{e.__root=t,delete e.currentTarget,q(c),te(f)}}}function ws(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Mt(e,t){var r=M;r.nodes===null&&(r.nodes={start:e,end:t,a:null,t:null})}function me(e,t){var r=(t&Ln)!==0,s=(t&Vn)!==0,n,i=!e.startsWith("<!>");return()=>{n===void 0&&(n=ws(i?e:"<!>"+e),r||(n=ut(n)));var o=s||Rr?document.importNode(n,!0):n.cloneNode(!0);if(r){var a=ut(o),u=o.lastChild;Mt(a,u)}else Mt(o,o);return o}}function at(){var e=document.createDocumentFragment(),t=document.createComment(""),r=pe();return e.append(t,r),Mt(t,r),e}function B(e,t){e!==null&&e.before(t)}function fe(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??=e.nodeValue)&&(e.__t=r,e.nodeValue=r+"")}function xs(e,t){return Es(e,t)}const Ce=new Map;function Es(e,{target:t,anchor:r,props:s={},events:n,context:i,intro:o=!0}){is();var a=new Set,u=f=>{for(var d=0;d<f.length;d++){var h=f[d];if(!a.has(h)){a.add(h);var v=bs(h);t.addEventListener(h,st,{passive:v});var m=Ce.get(h);m===void 0?(document.addEventListener(h,st,{passive:v}),Ce.set(h,1)):Ce.set(h,m+1)}}};u(dt(Qr)),At.add(u);var l=void 0,c=fs(()=>{var f=r??t.appendChild(pe());return Jn(f,{pending:()=>{}},d=>{if(i){br({});var h=Z;h.c=i}n&&(s.$$events=n),l=e(d,s)||{},i&&yr()}),()=>{for(var d of a){t.removeEventListener(d,st);var h=Ce.get(d);--h===0?(document.removeEventListener(d,st),Ce.delete(d)):Ce.set(d,h)}At.delete(u),f!==r&&f.parentNode?.removeChild(f)}});return Ss.set(l,c),l}let Ss=new WeakMap;class ks{anchor;#t=new Map;#a=new Map;#e=new Map;#s=new Set;#i=!0;constructor(t,r=!0){this.anchor=t,this.#i=r}#n=()=>{var t=x;if(this.#t.has(t)){var r=this.#t.get(t),s=this.#a.get(r);if(s)Wt(s),this.#s.delete(r);else{var n=this.#e.get(r);n&&(this.#a.set(r,n.effect),this.#e.delete(r),n.fragment.lastChild.remove(),this.anchor.before(n.fragment),s=n.effect)}for(const[i,o]of this.#t){if(this.#t.delete(i),i===t)break;const a=this.#e.get(o);a&&(I(a.effect),this.#e.delete(o))}for(const[i,o]of this.#a){if(i===r||this.#s.has(i))continue;const a=()=>{if(Array.from(this.#t.values()).includes(i)){var l=document.createDocumentFragment();zr(o,l),l.append(pe()),this.#e.set(i,{effect:o,fragment:l})}else I(o);this.#s.delete(i),this.#a.delete(i)};this.#i||!s?(this.#s.add(i),we(o,a,!1)):a()}}};#r=t=>{this.#t.delete(t);const r=Array.from(this.#t.values());for(const[s,n]of this.#e)r.includes(s)||(I(n.effect),this.#e.delete(s))};ensure(t,r){var s=x,n=qr();if(r&&!this.#a.has(t)&&!this.#e.has(t))if(n){var i=document.createDocumentFragment(),o=pe();i.append(o),this.#e.set(t,{effect:z(()=>r(o)),fragment:i})}else this.#a.set(t,z(()=>r(this.anchor)));if(this.#t.set(s,t),n){for(const[a,u]of this.#a)a===t?s.skipped_effects.delete(u):s.skipped_effects.add(u);for(const[a,u]of this.#e)a===t?s.skipped_effects.delete(u.effect):s.skipped_effects.add(u.effect);s.oncommit(this.#n),s.ondiscard(this.#r)}else this.#n()}}function De(e,t,r=!1){var s=new ks(e),n=r?Re:0;function i(o,a){s.ensure(o,a)}Ut(()=>{var o=!1;t((a,u=!0)=>{o=!0,i(u,a)}),o||i(!1,null)},n)}function As(e,t){return t}function Ms(e,t,r){for(var s=[],n=t.length,i,o=t.length,a=0;a<n;a++){let f=t[a];we(f,()=>{if(i){if(i.pending.delete(f),i.done.add(f),i.pending.size===0){var d=e.outrogroups;Ct(dt(i.done)),d.delete(i),d.size===0&&(e.outrogroups=null)}}else o-=1},!1)}if(o===0){var u=s.length===0&&r!==null;if(u){var l=r,c=l.parentNode;as(c),c.append(l),e.items.clear()}Ct(t,!u)}else i={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(i)}function Ct(e,t=!0){for(var r=0;r<e.length;r++)I(e[r],t)}var ur;function Cs(e,t,r,s,n,i=null){var o=e,a=new Map;{var u=e;o=u.appendChild(pe())}var l=null,c=ts(()=>{var y=r();return Tt(y)?y:y==null?[]:dt(y)}),f,d=!0;function h(){m.fallback=l,Ns(m,f,o,t,s),l!==null&&(f.length===0?(l.f&ce)===0?Wt(l):(l.f^=ce,Be(l,null,o)):we(l,()=>{l=null}))}var v=Ut(()=>{f=S(c);for(var y=f.length,E=new Set,k=x,Y=qr(),T=0;T<y;T+=1){var L=f[T],A=s(L,T),p=d?null:a.get(A);p?(p.v&&qe(p.v,L),p.i&&qe(p.i,T),Y&&k.skipped_effects.delete(p.e)):(p=Ts(a,d?o:ur??=pe(),L,A,T,n,t,r),d||(p.e.f|=ce),a.set(A,p)),E.add(A)}if(y===0&&i&&!l&&(d?l=z(()=>i(o)):(l=z(()=>i(ur??=pe())),l.f|=ce)),!d)if(Y){for(const[C,P]of a)E.has(C)||k.skipped_effects.add(P.e);k.oncommit(h),k.ondiscard(()=>{})}else h();S(c)}),m={effect:v,items:a,outrogroups:null,fallback:l};d=!1}function Ns(e,t,r,s,n){var i=t.length,o=e.items,a=e.effect.first,u,l=null,c=[],f=[],d,h,v,m;for(m=0;m<i;m+=1){if(d=t[m],h=n(d,m),v=o.get(h).e,e.outrogroups!==null)for(const C of e.outrogroups)C.pending.delete(v),C.done.delete(v);if((v.f&ce)!==0)if(v.f^=ce,v===a)Be(v,null,r);else{var y=l?l.next:a;v===e.effect.last&&(e.effect.last=v.prev),v.prev&&(v.prev.next=v.next),v.next&&(v.next.prev=v.prev),le(e,l,v),le(e,v,y),Be(v,y,r),l=v,c=[],f=[],a=l.next;continue}if((v.f&U)!==0&&Wt(v),v!==a){if(u!==void 0&&u.has(v)){if(c.length<f.length){var E=f[0],k;l=E.prev;var Y=c[0],T=c[c.length-1];for(k=0;k<c.length;k+=1)Be(c[k],E,r);for(k=0;k<f.length;k+=1)u.delete(f[k]);le(e,Y.prev,T.next),le(e,l,Y),le(e,T,E),a=E,l=T,m-=1,c=[],f=[]}else u.delete(v),Be(v,a,r),le(e,v.prev,v.next),le(e,v,l===null?e.effect.first:l.next),le(e,l,v),l=v;continue}for(c=[],f=[];a!==null&&a!==v;)(u??=new Set).add(a),f.push(a),a=a.next;if(a===null)continue}(v.f&ce)===0&&c.push(v),l=v,a=v.next}if(e.outrogroups!==null){for(const C of e.outrogroups)C.pending.size===0&&(Ct(dt(C.done)),e.outrogroups?.delete(C));e.outrogroups.size===0&&(e.outrogroups=null)}if(a!==null||u!==void 0){var L=[];if(u!==void 0)for(v of u)(v.f&U)===0&&L.push(v);for(;a!==null;)(a.f&U)===0&&a!==e.fallback&&L.push(a),a=a.next;var A=L.length;if(A>0){var p=i===0?r:null;Ms(e,L,p)}}}function Ts(e,t,r,s,n,i,o,a){var u=(o&Pn)!==0?(o&In)===0?$r(r,!1,!1):ke(r):null,l=(o&qn)!==0?ke(n):null;return{v:u,i:l,e:z(()=>(i(t,u??r,l??n,a),()=>{e.delete(s)}))}}function Be(e,t,r){if(e.nodes)for(var s=e.nodes.start,n=e.nodes.end,i=t&&(t.f&ce)===0?t.nodes.start:r;s!==null;){var o=et(s);if(i.before(s),s===n)return;s=o}}function le(e,t,r){t===null?e.effect.first=r:t.next=r,r===null?e.effect.last=t:r.prev=t}function Os(e,t,r){var s=e==null?"":""+e;return s===""?null:s}function ue(e,t,r,s,n,i){var o=e.__className;if(o!==r||o===void 0){var a=Os(r);a==null?e.removeAttribute("class"):t?e.className=a:e.setAttribute("class",a),e.__className=r}return i}function en(e,t,r=!1){if(e.multiple){if(t==null)return;if(!Tt(t))return Un();for(var s of e.options)s.selected=t.includes(Ze(s));return}for(s of e.options){var n=Ze(s);if(ss(n,t)){s.selected=!0;return}}(!r||t!==void 0)&&(e.selectedIndex=-1)}function $s(e){var t=new MutationObserver(()=>{en(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Lt(()=>{t.disconnect()})}function Ds(e,t,r=t){var s=new WeakSet,n=!0;Ir(e,"change",i=>{var o=i?"[selected]":":checked",a;if(e.multiple)a=[].map.call(e.querySelectorAll(o),Ze);else{var u=e.querySelector(o)??e.querySelector("option:not([disabled])");a=u&&Ze(u)}r(a),x!==null&&s.add(x)}),cs(()=>{var i=t();if(e===document.activeElement){var o=Ye??x;if(s.has(o))return}if(en(e,i,n),n&&i===void 0){var a=e.querySelector(":checked");a!==null&&(i=Ze(a),r(i))}e.__value=i,n=!1}),$s(e)}function Ze(e){return"__value"in e?e.__value:e.value}function Ue(e,t,r=t){var s=new WeakSet;Ir(e,"input",async n=>{var i=n?e.defaultValue:e.value;if(i=bt(e)?yt(i):i,r(i),x!==null&&s.add(x),await gs(),i!==(i=t())){var o=e.selectionStart,a=e.selectionEnd,u=e.value.length;if(e.value=i??"",a!==null){var l=e.value.length;o===a&&a===u&&l>u?(e.selectionStart=l,e.selectionEnd=l):(e.selectionStart=o,e.selectionEnd=Math.min(a,l))}}}),Bt(t)==null&&e.value&&(r(bt(e)?yt(e.value):e.value),x!==null&&s.add(x)),Lr(()=>{var n=t();if(e===document.activeElement){var i=Ye??x;if(s.has(i))return}bt(e)&&n===yt(e.value)||e.type==="date"&&!n&&!e.value||n!==e.value&&(e.value=n??"")})}function bt(e){var t=e.type;return t==="number"||t==="range"}function yt(e){return e===""?null:+e}function jt(e,t,r){if(e==null)return t(void 0),r&&r(void 0),de;const s=Bt(()=>e.subscribe(t,r));return s.unsubscribe?()=>s.unsubscribe():s}const Ne=[];function Rs(e,t){return{subscribe:Te(e,t).subscribe}}function Te(e,t=de){let r=null;const s=new Set;function n(a){if(gr(e,a)&&(e=a,r)){const u=!Ne.length;for(const l of s)l[1](),Ne.push(l,e);if(u){for(let l=0;l<Ne.length;l+=2)Ne[l][0](Ne[l+1]);Ne.length=0}}}function i(a){n(a(e))}function o(a,u=de){const l=[a,u];return s.add(l),s.size===1&&(r=t(n,i)||de),a(e),()=>{s.delete(l),s.size===0&&r&&(r(),r=null)}}return{set:n,update:i,subscribe:o}}function Fs(e,t,r){const s=!Array.isArray(e),n=s?[e]:e;if(!n.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const i=t.length<2;return Rs(r,(o,a)=>{let u=!1;const l=[];let c=0,f=de;const d=()=>{if(c)return;f();const v=t(s?l[0]:l,o,a);i?o(v):f=typeof v=="function"?v:de},h=n.map((v,m)=>jt(v,y=>{l[m]=y,c&=~(1<<m),u&&d()},()=>{c|=1<<m}));return u=!0,d(),function(){cr(h),f(),u=!1}})}function je(e){let t;return jt(e,r=>t=r)(),t}let Nt=Symbol();function wt(e,t,r){const s=r[t]??={store:null,source:$r(void 0),unsubscribe:de};if(s.store!==e&&!(Nt in r))if(s.unsubscribe(),s.store=e??null,e==null)s.source.v=void 0,s.unsubscribe=de;else{var n=!0;s.unsubscribe=jt(e,i=>{n?s.source.v=i:Q(s.source,i)}),n=!1}return e&&Nt in r?je(e):S(s.source)}function Ps(){const e={};function t(){Lt(()=>{for(var r in e)e[r].unsubscribe();fr(e,Nt,{enumerable:!1,value:!0})})}return[e,t]}const qs="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(qs);const Is=e=>typeof e=="object"&&e!==null&&!(e instanceof Date)&&!(e instanceof Map)&&!(e instanceof Set)&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof RegExp)&&!(e instanceof Error)&&!(e instanceof Promise),Ls=(e,t)=>{const r=(n,i)=>new Proxy(n,{get(o,a,u){const l=Reflect.get(o,a,u);if(Is(l)){const c=Number.isInteger(Number(a))?"":String(a),f=c?i?`${i}.${c}`:c:i;return r(l,f)}return l},set(o,a,u,l){const c=Reflect.get(o,a,l);if(c!==u){Reflect.set(o,a,u,l);const f=Number.isInteger(Number(a))?"":String(a),d=f?i?`${i}.${f}`:f:i;t(s,d,u,c)}return!0}}),s=r(e,"");return s},tn=e=>Object.values(e).some(t=>typeof t=="string"?!!t:tn(t)),Vs=e=>!!e&&tn(e),be=e=>{if(e===null||typeof e!="object")return e;if(e instanceof Date)return new Date(e);if(Array.isArray(e))return e.map(r=>be(r));const t={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=be(e[r]));return t},Us={resetDirtyOnAction:!0,debounceValidation:0,allowConcurrentActions:!1,persistActionError:!1};function Ws(e,t,r){const s={...Us,...r},{validator:n,effect:i}=t??{},o=Te(),a=Fs(o,Vs),u=Te(!1),l=Te(!1),c=Te(),f=Te([{title:"Initial",data:be(e)}]),d=$e(e),h=(A,p=!0)=>{const C=je(f),P={title:A,data:be(d)},K=C.at(-1);p&&K&&K.title===A?f.set([...C.slice(0,-1),P]):f.set([...C,P])};let v=!1,m;const y=()=>{if(n)if(s.debounceValidation>0)clearTimeout(m),m=setTimeout(()=>{o.set(n(E))},s.debounceValidation);else{if(v)return;v=!0,queueMicrotask(()=>{o.set(n(E)),v=!1})}},E=Ls(d,(A,p,C,P)=>{if(s.persistActionError||c.set(void 0),u.set(!0),i?.({snapshot:h,target:A,property:p,currentValue:C,oldValue:P})instanceof Promise)throw new Error("svstate: effect callback must be synchronous. Use action for async operations.");y()});return n&&o.set(n(E)),{data:E,execute:async A=>{if(!(!s.allowConcurrentActions&&je(l))){c.set(void 0),l.set(!0);try{await t?.action?.(A),s.resetDirtyOnAction&&u.set(!1),f.set([{title:"Initial",data:be(d)}]),await t?.actionCompleted?.()}catch(p){await t?.actionCompleted?.(p),c.set(p instanceof Error?p:void 0)}finally{l.set(!1)}}},state:{errors:o,hasErrors:a,isDirty:u,actionInProgress:l,actionError:c,snapshots:f},rollback:(A=1)=>{const p=je(f);if(p.length<=1)return;const C=Math.max(0,p.length-1-A),P=p[C];P&&(Object.assign(d,be(P.data)),f.set(p.slice(0,C+1)),n&&o.set(n(E)))},reset:()=>{const p=je(f)[0];p&&(Object.assign(d,be(p.data)),f.set([p]),n&&o.set(n(E)))}}}const Bs={trim:e=>e.trim(),normalize:e=>e.replaceAll(/\s{2,}/g," "),upper:e=>e.toLocaleUpperCase(),lower:e=>e.toLocaleLowerCase()};function it(e,...t){let r="";const s=o=>{r||(r=o)},n=t.reduce((o,a)=>Bs[a](o),e),i={required(){return!r&&!n&&s("Required"),i},noSpace(){return!r&&n.includes(" ")&&s("No space allowed"),i},minLength(o){return!r&&n.length<o&&s(`Min length ${o}`),i},maxLength(o){return!r&&n.length>o&&s(`Max length ${o}`),i},uppercase(){return!r&&n!==n.toLocaleUpperCase()&&s("Uppercase only"),i},lowercase(){return!r&&n!==n.toLocaleLowerCase()&&s("Lowercase only"),i},startsWith(o){if(r)return i;const a=Array.isArray(o)?o:[o];return n&&!a.some(u=>n.startsWith(u))&&s(`Must start with ${a.join(", ")}`),i},regexp(o,a){return!r&&n&&!o.test(n)&&s(a??"Not allowed chars"),i},inArray(o){if(r)return i;const a=Array.isArray(o)?o:Object.keys(o);return n&&!a.includes(n)&&s(`Must be one of: ${a.join(", ")}`),i},email(){return!r&&n&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)&&s("Invalid email format"),i},website(o="optional"){if(r||!n||o==="optional")return i;const a=/^https?:\/\//.test(n);return o==="required"&&!a?s("Must start with http:// or https://"):o==="forbidden"&&a&&s("Must not start with http:// or https://"),i},endsWith(o){if(r||!n)return i;const a=Array.isArray(o)?o:[o];return a.some(u=>n.endsWith(u))||s(`Must end with ${a.join(", ")}`),i},contains(o){return!r&&n&&!n.includes(o)&&s(`Must contain "${o}"`),i},alphanumeric(){return!r&&n&&!/^[\dA-Za-z]+$/.test(n)&&s("Only letters and numbers allowed"),i},numeric(){return!r&&n&&!/^\d+$/.test(n)&&s("Only numbers allowed"),i},getError(){return r}};return i}function js(e){let t="";const r=n=>{t||(t=n)},s={required(){return!t&&Number.isNaN(e)&&r("Required"),s},min(n){return!t&&e<n&&r(`Minimum ${n}`),s},max(n){return!t&&e>n&&r(`Maximum ${n}`),s},between(n,i){return!t&&(e<n||e>i)&&r(`Must be between ${n} and ${i}`),s},integer(){return!t&&!Number.isInteger(e)&&r("Must be an integer"),s},positive(){return!t&&e<=0&&r("Must be positive"),s},negative(){return!t&&e>=0&&r("Must be negative"),s},nonNegative(){return!t&&e<0&&r("Must be non-negative"),s},multipleOf(n){return!t&&e%n!==0&&r(`Must be a multiple of ${n}`),s},decimal(n){return t||Number.isNaN(e)||(String(e).split(".")[1]?.length??0)>n&&r(`Maximum ${n} decimal places`),s},percentage(){return!t&&(e<0||e>100)&&r("Must be between 0 and 100"),s},getError(){return t}};return s}var zs=me('<p class="mt-1 text-sm text-red-600"> </p>');function We(e,t){var r=at(),s=Je(r);{var n=i=>{var o=zs(),a=w(o);Vt(()=>fe(a,t.error)),B(i,o)};De(s,i=>{t.error&&i(n)})}B(e,r)}var Hs=me('<div class="space-y-4 p-4"><div><h6 class="mb-2 text-sm font-medium text-gray-700">State Setup</h6> <pre class="overflow-auto rounded-lg bg-gray-900 p-4 text-xs text-gray-100"></pre></div> <div><h6 class="mb-2 text-sm font-medium text-gray-700">Form Binding Example</h6> <pre class="overflow-auto rounded-lg bg-gray-900 p-4 text-xs text-gray-100"></pre></div></div>'),Ys=me('<div class="flex gap-6"><div class="max-w-xl flex-1 rounded-lg border border-gray-200 bg-white p-6 shadow-sm"><h5 class="mb-4 text-xl font-medium text-gray-900">Basic Validation Demo</h5> <div class="mb-4 flex gap-2"><span> </span> <span> </span></div> <div class="space-y-4"><div><label for="username" class="mb-2 block text-sm font-medium text-gray-900">Username *</label> <input id="username" type="text" placeholder="Enter username"/> <!></div> <div><label for="email" class="mb-2 block text-sm font-medium text-gray-900">Email *</label> <input id="email" type="email" placeholder="Enter email"/> <!></div> <div><label for="age" class="mb-2 block text-sm font-medium text-gray-900">Age *</label> <input id="age" type="number" placeholder="Enter age"/> <!></div> <div><label for="bio" class="mb-2 block text-sm font-medium text-gray-900">Bio (optional)</label> <textarea id="bio" placeholder="Tell us about yourself" rows="3" class="block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500"></textarea> <!></div> <div><label for="website" class="mb-2 block text-sm font-medium text-gray-900">Website (optional)</label> <input id="website" type="text" placeholder="https://example.com"/> <!></div></div></div> <div class="w-80 flex-shrink-0 space-y-4"><div class="rounded-lg border border-gray-300 bg-gray-50 p-4 shadow-inner"><h6 class="mb-2 text-sm font-medium text-gray-700">State Object</h6> <pre class="overflow-auto text-sm text-gray-600"> </pre></div> <div class="rounded-lg border border-gray-300 bg-gray-50 p-4 shadow-inner"><h6 class="mb-2 text-sm font-medium text-gray-700">State Info</h6> <div class="space-y-1 text-xs text-gray-600"><div><span class="font-medium">isDirty:</span> </div> <div><span class="font-medium">hasErrors:</span> </div></div></div> <div class="rounded-lg border border-gray-300 bg-gray-50 p-4 shadow-inner"><h6 class="mb-2 text-sm font-medium text-gray-700">Errors</h6> <pre class="overflow-auto text-xs text-gray-600"> </pre></div> <button type="button" class="w-full rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500">Fill with Valid Data</button></div></div> <div class="mt-6 rounded-lg border border-gray-200 bg-white shadow-sm"><button type="button"><span>Source Code</span> <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button> <!></div>',1);function Ks(e,t){br(t,!0);const r=()=>wt(h,"$hasErrors",i),s=()=>wt(v,"$isDirty",i),n=()=>wt(d,"$errors",i),[i,o]=Ps();let a=X(!1);const u={username:"",email:"",age:0,bio:"",website:""},l=()=>Math.random().toString(36).slice(2,8),c=(g,Me)=>Math.floor(Math.random()*(Me-g+1))+g,{data:f,state:{errors:d,hasErrors:h,isDirty:v}}=Ws(u,{validator:g=>({username:it(g.username,"trim").required().minLength(3).maxLength(20).noSpace().getError(),email:it(g.email,"trim").required().email().getError(),age:js(g.age).required().min(18).max(120).integer().getError(),bio:it(g.bio).maxLength(200).getError(),website:it(g.website,"trim").website("required").getError()})}),m=()=>{f.username=`user${l()}`,f.email=`${l()}@example.com`,f.age=c(18,65),f.bio="Hello, I am a demo user!",f.website=`https://${l()}.com`};var y=Ys(),E=Je(y),k=w(E),Y=_(w(k),2),T=w(Y),L=w(T),A=_(T,2),p=w(A),C=_(Y,2),P=w(C),K=_(w(P),2),_t=_(K,2);{let g=Ve(()=>n()?.username??"");We(_t,{get error(){return S(g)}})}var zt=_(P,2),pt=_(w(zt),2),rn=_(pt,2);{let g=Ve(()=>n()?.email??"");We(rn,{get error(){return S(g)}})}var Ht=_(zt,2),gt=_(w(Ht),2),nn=_(gt,2);{let g=Ve(()=>n()?.age??"");We(nn,{get error(){return S(g)}})}var Yt=_(Ht,2),Kt=_(w(Yt),2),sn=_(Kt,2);{let g=Ve(()=>n()?.bio??"");We(sn,{get error(){return S(g)}})}var an=_(Yt,2),mt=_(w(an),2),on=_(mt,2);{let g=Ve(()=>n()?.website??"");We(on,{get error(){return S(g)}})}var ln=_(k,2),Gt=w(ln),un=_(w(Gt),2),fn=w(un),Jt=_(Gt,2),cn=_(w(Jt),2),Zt=w(cn),dn=_(w(Zt)),vn=_(Zt,2),hn=_(w(vn)),Xt=_(Jt,2),_n=_(w(Xt),2),pn=w(_n),gn=_(Xt,2);gn.__click=m;var mn=_(E,2),rt=w(mn);rt.__click=()=>Q(a,!S(a));var bn=_(w(rt),2),yn=_(rt,2);{var wn=g=>{var Me=Hs(),Qt=w(Me),xn=_(w(Qt),2);xn.textContent=`const sourceData = {
  username: '',
  email: '',
  age: 0,
  bio: '',
  website: ''
};

const {
  data,
  state: { errors, hasErrors, isDirty }
} = createSvState(sourceData, {
  validator: (source) => ({
    username: stringValidator(source.username, 'trim')
      .required()
      .minLength(3)
      .maxLength(20)
      .noSpace()
      .getError(),
    email: stringValidator(source.email, 'trim')
      .required()
      .email()
      .getError(),
    age: numberValidator(source.age)
      .required()
      .min(18)
      .max(120)
      .integer()
      .getError(),
    bio: stringValidator(source.bio)
      .maxLength(200)
      .getError(),
    website: stringValidator(source.website, 'trim')
      .website('required')
      .getError()
  })
});`;var En=_(Qt,2),Sn=_(w(En),2);Sn.textContent=`<input
  id="username"
  type="text"
  placeholder="Enter username"
  class="... {$errors?.username ? 'error-styles' : 'normal-styles'}"
  bind:value={data.username}
/>
<ErrorText error={$errors?.username ?? ''} />`,B(g,Me)};De(yn,g=>{S(a)&&g(wn)})}Vt((g,Me)=>{ue(T,1,`rounded px-2.5 py-0.5 text-xs font-medium ${r()?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`),fe(L,r()?"Has Errors":"Valid"),ue(A,1,`rounded px-2.5 py-0.5 text-xs font-medium ${s()?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`),fe(p,s()?"Modified":"Clean"),ue(K,1,`block w-full rounded-lg border p-2.5 text-sm ${n()?.username?"border-red-500 bg-red-50 text-red-900 placeholder-red-400 focus:border-red-500 focus:ring-red-500":"border-gray-300 bg-gray-50 text-gray-900 focus:border-blue-500 focus:ring-blue-500"}`),ue(pt,1,`block w-full rounded-lg border p-2.5 text-sm ${n()?.email?"border-red-500 bg-red-50 text-red-900 placeholder-red-400 focus:border-red-500 focus:ring-red-500":"border-gray-300 bg-gray-50 text-gray-900 focus:border-blue-500 focus:ring-blue-500"}`),ue(gt,1,`block w-full rounded-lg border p-2.5 text-sm ${n()?.age?"border-red-500 bg-red-50 text-red-900 placeholder-red-400 focus:border-red-500 focus:ring-red-500":"border-gray-300 bg-gray-50 text-gray-900 focus:border-blue-500 focus:ring-blue-500"}`),ue(mt,1,`block w-full rounded-lg border p-2.5 text-sm ${n()?.website?"border-red-500 bg-red-50 text-red-900 placeholder-red-400 focus:border-red-500 focus:ring-red-500":"border-gray-300 bg-gray-50 text-gray-900 focus:border-blue-500 focus:ring-blue-500"}`),fe(fn,g),fe(dn,` ${s()??""}`),fe(hn,` ${r()??""}`),fe(pn,Me),ue(rt,1,`flex w-full items-center justify-between px-4 py-3 text-left text-sm font-medium text-gray-900 hover:bg-gray-50 ${S(a)?"border-b border-gray-200":""}`),ue(bn,0,`h-5 w-5 transform transition-transform ${S(a)?"rotate-180":""}`)},[()=>JSON.stringify(f,null,2),()=>JSON.stringify(n(),null,2)]),Ue(K,()=>f.username,g=>f.username=g),Ue(pt,()=>f.email,g=>f.email=g),Ue(gt,()=>f.age,g=>f.age=g),Ue(Kt,()=>f.bio,g=>f.bio=g),Ue(mt,()=>f.website,g=>f.website=g),B(e,y),yr(),o()}ys(["click"]);var Gs=me("<option> </option>"),Js=me('<div class="max-w-xl rounded-lg border border-gray-200 bg-white p-6 shadow-sm"><h5 class="text-xl font-medium text-gray-500">With Effects</h5> <p class="mt-2 text-gray-400">Coming soon...</p></div>'),Zs=me('<div class="max-w-xl rounded-lg border border-gray-200 bg-white p-6 shadow-sm"><h5 class="text-xl font-medium text-gray-500">With Actions</h5> <p class="mt-2 text-gray-400">Coming soon...</p></div>'),Xs=me('<div class="max-w-xl rounded-lg border border-gray-200 bg-white p-6 shadow-sm"><h5 class="text-xl font-medium text-gray-500">Snapshot/Undo</h5> <p class="mt-2 text-gray-400">Coming soon...</p></div>'),Qs=me(`<div class="min-h-screen bg-gray-100 p-8"><header class="mb-8 flex items-center gap-6"><img src="/favicon.png" alt="svstate logo" class="h-32 w-32"/> <div><h1 class="text-4xl font-bold text-gray-900">svstate</h1> <p class="mt-2 max-w-2xl text-gray-600">A Svelte 5 library that provides a supercharged $state() with deep reactive proxies,
				validation, snapshot/undo, and side effects.</p></div></header> <div class="flex gap-6"><aside class="w-64 flex-shrink-0"><div class="rounded-lg border border-gray-200 bg-white p-4 shadow-sm"><label for="demo-select" class="mb-2 block text-sm font-medium text-gray-900">Demo Mode</label> <select id="demo-select" class="block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500"></select></div></aside> <main class="flex-1"><!></main></div></div>`);function ei(e){const t=[{value:"basic-validation",name:"Basic Validation"},{value:"effects",name:"With Effects (Coming Soon)"},{value:"actions",name:"With Actions (Coming Soon)"},{value:"snapshots",name:"Snapshot/Undo (Coming Soon)"}];let r=X("basic-validation");var s=Qs(),n=_(w(s),2),i=w(n),o=w(i),a=_(w(o),2);Cs(a,21,()=>t,As,(d,h)=>{var v=Gs(),m=w(v),y={};Vt(()=>{fe(m,S(h).name),y!==(y=S(h).value)&&(v.value=(v.__value=S(h).value)??"")}),B(d,v)});var u=_(i,2),l=w(u);{var c=d=>{Ks(d,{})},f=d=>{var h=at(),v=Je(h);{var m=E=>{var k=Js();B(E,k)},y=E=>{var k=at(),Y=Je(k);{var T=A=>{var p=Zs();B(A,p)},L=A=>{var p=at(),C=Je(p);{var P=K=>{var _t=Xs();B(K,_t)};De(C,K=>{S(r)==="snapshots"&&K(P)},!0)}B(A,p)};De(Y,A=>{S(r)==="actions"?A(T):A(L,!1)},!0)}B(E,k)};De(v,E=>{S(r)==="effects"?E(m):E(y,!1)},!0)}B(d,h)};De(l,d=>{S(r)==="basic-validation"?d(c):d(f,!1)})}Ds(a,()=>S(r),d=>Q(r,d)),B(e,s)}xs(ei,{target:document.querySelector("#app")});
