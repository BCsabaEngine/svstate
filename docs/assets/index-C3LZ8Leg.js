(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();const vn=!1;var zn=Array.isArray,ui=Array.prototype.indexOf,ir=Array.prototype.includes,nn=Array.from,Io=Object.defineProperty,nr=Object.getOwnPropertyDescriptor,Zo=Object.getOwnPropertyDescriptors,di=Object.prototype,fi=Array.prototype,An=Object.getPrototypeOf,Xn=Object.isExtensible;const wt=()=>{};function pi(e){return e()}function Hr(e){for(var t=0;t<e.length;t++)e[t]()}function jo(){var e,t,r=new Promise((n,o)=>{e=n,t=o});return{promise:r,resolve:e,reject:t}}const Ce=2,zr=4,Pr=8,Ro=1<<24,$t=16,st=32,Yt=64,Lo=128,Xe=512,Se=1024,Pe=2048,it=4096,Ke=8192,xt=16384,Tr=32768,Jt=65536,Qn=1<<17,Mo=1<<18,fr=1<<19,Fo=1<<20,yt=1<<25,Wt=65536,hn=1<<21,Dn=1<<22,Dt=1<<23,Nt=Symbol("$state"),mi=Symbol("legacy props"),vi=Symbol(""),jt=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function hi(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function gi(e,t,r){throw new Error("https://svelte.dev/e/each_key_duplicate")}function _i(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function bi(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function yi(e){throw new Error("https://svelte.dev/e/effect_orphan")}function wi(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function xi(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Ei(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function $i(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function ki(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Si(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const zi=1,Ai=2,Vo=4,Di=8,Ni=16,Oi=1,Ci=2,Pi=4,Ti=8,Ii=16,Zi=1,ji=2,Ne=Symbol(),qo="http://www.w3.org/1999/xhtml";function Ri(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function Li(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function Uo(e){return e===this.v}function Bo(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Jo(e){return!Bo(e,this.v)}let Ir=!1,Mi=!1;function Fi(){Ir=!0}let ze=null;function sr(e){ze=e}function Re(e,t=!1,r){ze={p:ze,i:!1,c:null,e:null,s:e,x:null,l:Ir&&!t?{s:null,u:null,$:[]}:null}}function Le(e){var t=ze,r=t.e;if(r!==null){t.e=null;for(var n of r)ua(n)}return t.i=!0,ze=t.p,{}}function pr(){return!Ir||ze!==null&&ze.l===null}let Rt=[];function Wo(){var e=Rt;Rt=[],Hr(e)}function Mt(e){if(Rt.length===0&&!Er){var t=Rt;queueMicrotask(()=>{t===Rt&&Wo()})}Rt.push(e)}function Vi(){for(;Rt.length>0;)Wo()}function Ko(e){var t=pe;if(t===null)return ie.f|=Dt,e;if((t.f&Tr)===0&&(t.f&zr)===0)throw e;lr(e,t)}function lr(e,t){for(;t!==null;){if((t.f&Lo)!==0){if((t.f&Tr)===0)throw e;try{t.b.error(e);return}catch(r){e=r}}t=t.parent}throw e}const qi=-7169;function we(e,t){e.f=e.f&qi|t}function Nn(e){(e.f&Xe)!==0||e.deps===null?we(e,Se):we(e,it)}function Ho(e){if(e!==null)for(const t of e)(t.f&Ce)===0||(t.f&Wt)===0||(t.f^=Wt,Ho(t.deps))}function Go(e,t,r){(e.f&Pe)!==0?t.add(e):(e.f&it)!==0&&r.add(e),Ho(e.deps),we(e,Se)}const Mr=new Set;let ue=null,Gr=null,nt=null,Me=[],on=null,gn=!1,Er=!1;class Ot{committed=!1;current=new Map;previous=new Map;#t=new Set;#s=new Set;#e=0;#a=0;#i=null;#n=new Set;#r=new Set;#o=new Map;is_fork=!1;#l=!1;is_deferred(){return this.is_fork||this.#a>0}skip_effect(t){this.#o.has(t)||this.#o.set(t,{d:[],m:[]})}unskip_effect(t){var r=this.#o.get(t);if(r){this.#o.delete(t);for(var n of r.d)we(n,Pe),ot(n);for(n of r.m)we(n,it),ot(n)}}process(t){Me=[],this.apply();var r=[],n=[];for(const o of t)this.#c(o,r,n);if(this.is_deferred()){this.#u(n),this.#u(r);for(const[o,a]of this.#o)ea(o,a)}else{for(const o of this.#t)o();this.#t.clear(),this.#e===0&&this.#d(),Gr=this,ue=null,eo(n),eo(r),Gr=null,this.#i?.resolve()}nt=null}#c(t,r,n){t.f^=Se;for(var o=t.first,a=null;o!==null;){var i=o.f,s=(i&(st|Yt))!==0,c=s&&(i&Se)!==0,l=c||(i&Ke)!==0||this.#o.has(o);if(!l&&o.fn!==null){s?o.f^=Se:a!==null&&(i&(zr|Pr|Ro))!==0?a.b.defer_effect(o):(i&zr)!==0?r.push(o):Lr(o)&&((i&$t)!==0&&this.#r.add(o),ur(o));var u=o.first;if(u!==null){o=u;continue}}var m=o.parent;for(o=o.next;o===null&&m!==null;)m===a&&(a=null),o=m.next,m=m.parent}}#u(t){for(var r=0;r<t.length;r+=1)Go(t[r],this.#n,this.#r)}capture(t,r){r!==Ne&&!this.previous.has(t)&&this.previous.set(t,r),(t.f&Dt)===0&&(this.current.set(t,t.v),nt?.set(t,t.v))}activate(){ue=this,this.apply()}deactivate(){ue===this&&(ue=null,nt=null)}flush(){if(this.activate(),Me.length>0){if(Yo(),ue!==null&&ue!==this)return}else this.#e===0&&this.process([]);this.deactivate()}discard(){for(const t of this.#s)t(this);this.#s.clear()}#d(){if(Mr.size>1){this.previous.clear();var t=nt,r=!0;for(const o of Mr){if(o===this){r=!1;continue}const a=[];for(const[s,c]of this.current){if(o.current.has(s))if(r&&c!==o.current.get(s))o.current.set(s,c);else continue;a.push(s)}if(a.length===0)continue;const i=[...o.current.keys()].filter(s=>!this.current.has(s));if(i.length>0){var n=Me;Me=[];const s=new Set,c=new Map;for(const l of a)Xo(l,i,s,c);if(Me.length>0){ue=o,o.apply();for(const l of Me)o.#c(l,[],[]);o.deactivate()}Me=n}}ue=null,nt=t}this.committed=!0,Mr.delete(this)}increment(t){this.#e+=1,t&&(this.#a+=1)}decrement(t){this.#e-=1,t&&(this.#a-=1),!this.#l&&(this.#l=!0,Mt(()=>{this.#l=!1,this.is_deferred()?Me.length>0&&this.flush():this.revive()}))}revive(){for(const t of this.#n)this.#r.delete(t),we(t,Pe),ot(t);for(const t of this.#r)we(t,it),ot(t);this.flush()}oncommit(t){this.#t.add(t)}ondiscard(t){this.#s.add(t)}settled(){return(this.#i??=jo()).promise}static ensure(){if(ue===null){const t=ue=new Ot;Mr.add(ue),Er||Mt(()=>{ue===t&&t.flush()})}return ue}apply(){}}function Ui(e){var t=Er;Er=!0;try{for(var r;;){if(Vi(),Me.length===0&&(ue?.flush(),Me.length===0))return on=null,r;Yo()}}finally{Er=t}}function Yo(){gn=!0;var e=null;try{for(var t=0;Me.length>0;){var r=Ot.ensure();if(t++>1e3){var n,o;Bi()}r.process(Me),Ct.clear()}}finally{Me=[],gn=!1,on=null}}function Bi(){try{wi()}catch(e){lr(e,on)}}let bt=null;function eo(e){var t=e.length;if(t!==0){for(var r=0;r<t;){var n=e[r++];if((n.f&(xt|Ke))===0&&Lr(n)&&(bt=new Set,ur(n),n.deps===null&&n.first===null&&n.nodes===null&&n.teardown===null&&n.ac===null&&fa(n),bt?.size>0)){Ct.clear();for(const o of bt){if((o.f&(xt|Ke))!==0)continue;const a=[o];let i=o.parent;for(;i!==null;)bt.has(i)&&(bt.delete(i),a.push(i)),i=i.parent;for(let s=a.length-1;s>=0;s--){const c=a[s];(c.f&(xt|Ke))===0&&ur(c)}}bt.clear()}}bt=null}}function Xo(e,t,r,n){if(!r.has(e)&&(r.add(e),e.reactions!==null))for(const o of e.reactions){const a=o.f;(a&Ce)!==0?Xo(o,t,r,n):(a&(Dn|$t))!==0&&(a&Pe)===0&&Qo(o,t,n)&&(we(o,Pe),ot(o))}}function Qo(e,t,r){const n=r.get(e);if(n!==void 0)return n;if(e.deps!==null)for(const o of e.deps){if(ir.call(t,o))return!0;if((o.f&Ce)!==0&&Qo(o,t,r))return r.set(o,!0),!0}return r.set(e,!1),!1}function ot(e){for(var t=on=e;t.parent!==null;){t=t.parent;var r=t.f;if(gn&&t===pe&&(r&$t)!==0&&(r&Mo)===0)return;if((r&(Yt|st))!==0){if((r&Se)===0)return;t.f^=Se}}Me.push(t)}function ea(e,t){if(!((e.f&st)!==0&&(e.f&Se)!==0)){(e.f&Pe)!==0?t.d.push(e):(e.f&it)!==0&&t.m.push(e),we(e,Se);for(var r=e.first;r!==null;)ea(r,t),r=r.next}}function Ji(e){let t=0,r=Kt(0),n;return()=>{In()&&(h(r),jn(()=>(t===0&&(n=Xt(()=>e(()=>$r(r)))),t+=1,()=>{Mt(()=>{t-=1,t===0&&(n?.(),n=void 0,$r(r))})})))}}var Wi=Jt|fr|Lo;function Ki(e,t,r){new Hi(e,t,r)}class Hi{parent;is_pending=!1;#t;#s=null;#e;#a;#i;#n=null;#r=null;#o=null;#l=null;#c=null;#u=0;#d=0;#m=!1;#p=!1;#v=new Set;#h=new Set;#f=null;#w=Ji(()=>(this.#f=Kt(this.#u),()=>{this.#f=null}));constructor(t,r,n){this.#t=t,this.#e=r,this.#a=n,this.parent=pe.b,this.is_pending=!!this.#e.pending,this.#i=Rr(()=>{pe.b=this;{var o=this.#b();try{this.#n=Ge(()=>n(o))}catch(a){this.error(a)}this.#d>0?this.#_():this.is_pending=!1}return()=>{this.#c?.remove()}},Wi)}#x(){try{this.#n=Ge(()=>this.#a(this.#t))}catch(t){this.error(t)}}#E(){const t=this.#e.pending;t&&(this.#r=Ge(()=>t(this.#t)),Mt(()=>{var r=this.#b();this.#n=this.#g(()=>(Ot.ensure(),Ge(()=>this.#a(r)))),this.#d>0?this.#_():(Ft(this.#r,()=>{this.#r=null}),this.is_pending=!1)}))}#b(){var t=this.#t;return this.is_pending&&(this.#c=Et(),this.#t.before(this.#c),t=this.#c),t}defer_effect(t){Go(t,this.#v,this.#h)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#e.pending}#g(t){var r=pe,n=ie,o=ze;mt(this.#i),et(this.#i),sr(this.#i.ctx);try{return t()}catch(a){return Ko(a),null}finally{mt(r),et(n),sr(o)}}#_(){const t=this.#e.pending;this.#n!==null&&(this.#l=document.createDocumentFragment(),this.#l.append(this.#c),va(this.#n,this.#l)),this.#r===null&&(this.#r=Ge(()=>t(this.#t)))}#y(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#y(t);return}if(this.#d+=t,this.#d===0){this.is_pending=!1;for(const r of this.#v)we(r,Pe),ot(r);for(const r of this.#h)we(r,it),ot(r);this.#v.clear(),this.#h.clear(),this.#r&&Ft(this.#r,()=>{this.#r=null}),this.#l&&(this.#t.before(this.#l),this.#l=null)}}update_pending_count(t){this.#y(t),this.#u+=t,!(!this.#f||this.#m)&&(this.#m=!0,Mt(()=>{this.#m=!1,this.#f&&cr(this.#f,this.#u)}))}get_effect_pending(){return this.#w(),h(this.#f)}error(t){var r=this.#e.onerror;let n=this.#e.failed;if(this.#p||!r&&!n)throw t;this.#n&&(Ue(this.#n),this.#n=null),this.#r&&(Ue(this.#r),this.#r=null),this.#o&&(Ue(this.#o),this.#o=null);var o=!1,a=!1;const i=()=>{if(o){Li();return}o=!0,a&&Si(),Ot.ensure(),this.#u=0,this.#o!==null&&Ft(this.#o,()=>{this.#o=null}),this.is_pending=this.has_pending_snippet(),this.#n=this.#g(()=>(this.#p=!1,Ge(()=>this.#a(this.#t)))),this.#d>0?this.#_():this.is_pending=!1};Mt(()=>{try{a=!0,r?.(t,i),a=!1}catch(s){lr(s,this.#i&&this.#i.parent)}n&&(this.#o=this.#g(()=>{Ot.ensure(),this.#p=!0;try{return Ge(()=>{n(this.#t,()=>t,()=>i)})}catch(s){return lr(s,this.#i.parent),null}finally{this.#p=!1}}))})}}function Gi(e,t,r,n){const o=pr()?Zr:or;var a=e.filter(d=>!d.settled);if(r.length===0&&a.length===0){n(t.map(o));return}var i=ue,s=pe,c=Yi(),l=a.length===1?a[0].promise:a.length>1?Promise.all(a.map(d=>d.promise)):null;function u(d){c();try{n(d)}catch(v){(s.f&xt)===0&&lr(v,s)}i?.deactivate(),_n()}if(r.length===0){l.then(()=>u(t.map(o)));return}function m(){c(),Promise.all(r.map(d=>Xi(d))).then(d=>u([...t.map(o),...d])).catch(d=>lr(d,s))}l?l.then(m):m()}function Yi(){var e=pe,t=ie,r=ze,n=ue;return function(a=!0){mt(e),et(t),sr(r),a&&n?.activate()}}function _n(){mt(null),et(null),sr(null)}function Zr(e){var t=Ce|Pe,r=ie!==null&&(ie.f&Ce)!==0?ie:null;return pe!==null&&(pe.f|=fr),{ctx:ze,deps:null,effects:null,equals:Uo,f:t,fn:e,reactions:null,rv:0,v:Ne,wv:0,parent:r??pe,ac:null}}function Xi(e,t,r){let n=pe;n===null&&hi();var o=n.b,a=void 0,i=Kt(Ne),s=!ie,c=new Map;return ps(()=>{var l=jo();a=l.promise;try{Promise.resolve(e()).then(l.resolve,l.reject).then(()=>{u===ue&&u.committed&&u.deactivate(),_n()})}catch(v){l.reject(v),_n()}var u=ue;if(s){var m=o.is_rendered();o.update_pending_count(1),u.increment(m),c.get(u)?.reject(jt),c.delete(u),c.set(u,l)}const d=(v,b=void 0)=>{if(u.activate(),b)b!==jt&&(i.f|=Dt,cr(i,b));else{(i.f&Dt)!==0&&(i.f^=Dt),cr(i,v);for(const[_,g]of c){if(c.delete(_),_===u)break;g.reject(jt)}}s&&(o.update_pending_count(-1),u.decrement(m))};l.promise.then(d,v=>d(null,v||"unknown"))}),Zn(()=>{for(const l of c.values())l.reject(jt)}),new Promise(l=>{function u(m){function d(){m===a?l(i):u(a)}m.then(d,d)}u(a)})}function U(e){const t=Zr(e);return ha(t),t}function or(e){const t=Zr(e);return t.equals=Jo,t}function Qi(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)Ue(t[r])}}function es(e){for(var t=e.parent;t!==null;){if((t.f&Ce)===0)return(t.f&xt)===0?t:null;t=t.parent}return null}function On(e){var t,r=pe;mt(es(e));try{e.f&=~Wt,Qi(e),t=ya(e)}finally{mt(r)}return t}function ta(e){var t=On(e);if(!e.equals(t)&&(e.wv=_a(),(!ue?.is_fork||e.deps===null)&&(e.v=t,e.deps===null))){we(e,Se);return}Pt||(nt!==null?(In()||ue?.is_fork)&&nt.set(e,t):Nn(e))}function ts(e){if(e.effects!==null)for(const t of e.effects)(t.teardown||t.ac)&&(t.teardown?.(),t.ac?.abort(jt),t.teardown=wt,t.ac=null,Ar(t,0),Rn(t))}function ra(e){if(e.effects!==null)for(const t of e.effects)t.teardown&&ur(t)}let bn=new Set;const Ct=new Map;let na=!1;function Kt(e,t){var r={f:0,v:e,reactions:null,equals:Uo,rv:0,wv:0};return r}function $e(e,t){const r=Kt(e);return ha(r),r}function Cn(e,t=!1,r=!0){const n=Kt(e);return t||(n.equals=Jo),Ir&&r&&ze!==null&&ze.l!==null&&(ze.l.s??=[]).push(n),n}function gt(e,t){return he(e,Xt(()=>h(e))),t}function he(e,t,r=!1){ie!==null&&(!at||(ie.f&Qn)!==0)&&pr()&&(ie.f&(Ce|$t|Dn|Qn))!==0&&(Qe===null||!ir.call(Qe,e))&&ki();let n=r?At(t):t;return cr(e,n)}function cr(e,t){if(!e.equals(t)){var r=e.v;Pt?Ct.set(e,t):Ct.set(e,r),e.v=t;var n=Ot.ensure();if(n.capture(e,r),(e.f&Ce)!==0){const o=e;(e.f&Pe)!==0&&On(o),Nn(o)}e.wv=_a(),oa(e,Pe),pr()&&pe!==null&&(pe.f&Se)!==0&&(pe.f&(st|Yt))===0&&(He===null?hs([e]):He.push(e)),!n.is_fork&&bn.size>0&&!na&&rs()}return t}function rs(){na=!1;for(const e of bn)(e.f&Se)!==0&&we(e,it),Lr(e)&&ur(e);bn.clear()}function ns(e,t=1){var r=h(e),n=t===1?r++:r--;return he(e,r),n}function $r(e){he(e,e.v+1)}function oa(e,t){var r=e.reactions;if(r!==null)for(var n=pr(),o=r.length,a=0;a<o;a++){var i=r[a],s=i.f;if(!(!n&&i===pe)){var c=(s&Pe)===0;if(c&&we(i,t),(s&Ce)!==0){var l=i;nt?.delete(l),(s&Wt)===0&&(s&Xe&&(i.f|=Wt),oa(l,it))}else c&&((s&$t)!==0&&bt!==null&&bt.add(i),ot(i))}}}function At(e){if(typeof e!="object"||e===null||Nt in e)return e;const t=An(e);if(t!==di&&t!==fi)return e;var r=new Map,n=zn(e),o=$e(0),a=Vt,i=s=>{if(Vt===a)return s();var c=ie,l=Vt;et(null),io(a);var u=s();return et(c),io(l),u};return n&&r.set("length",$e(e.length)),new Proxy(e,{defineProperty(s,c,l){(!("value"in l)||l.configurable===!1||l.enumerable===!1||l.writable===!1)&&Ei();var u=r.get(c);return u===void 0?i(()=>{var m=$e(l.value);return r.set(c,m),m}):he(u,l.value,!0),!0},deleteProperty(s,c){var l=r.get(c);if(l===void 0){if(c in s){const u=i(()=>$e(Ne));r.set(c,u),$r(o)}}else he(l,Ne),$r(o);return!0},get(s,c,l){if(c===Nt)return e;var u=r.get(c),m=c in s;if(u===void 0&&(!m||nr(s,c)?.writable)&&(u=i(()=>{var v=At(m?s[c]:Ne),b=$e(v);return b}),r.set(c,u)),u!==void 0){var d=h(u);return d===Ne?void 0:d}return Reflect.get(s,c,l)},getOwnPropertyDescriptor(s,c){var l=Reflect.getOwnPropertyDescriptor(s,c);if(l&&"value"in l){var u=r.get(c);u&&(l.value=h(u))}else if(l===void 0){var m=r.get(c),d=m?.v;if(m!==void 0&&d!==Ne)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return l},has(s,c){if(c===Nt)return!0;var l=r.get(c),u=l!==void 0&&l.v!==Ne||Reflect.has(s,c);if(l!==void 0||pe!==null&&(!u||nr(s,c)?.writable)){l===void 0&&(l=i(()=>{var d=u?At(s[c]):Ne,v=$e(d);return v}),r.set(c,l));var m=h(l);if(m===Ne)return!1}return u},set(s,c,l,u){var m=r.get(c),d=c in s;if(n&&c==="length")for(var v=l;v<m.v;v+=1){var b=r.get(v+"");b!==void 0?he(b,Ne):v in s&&(b=i(()=>$e(Ne)),r.set(v+"",b))}if(m===void 0)(!d||nr(s,c)?.writable)&&(m=i(()=>$e(void 0)),he(m,At(l)),r.set(c,m));else{d=m.v!==Ne;var _=i(()=>At(l));he(m,_)}var g=Reflect.getOwnPropertyDescriptor(s,c);if(g?.set&&g.set.call(u,l),!d){if(n&&typeof c=="string"){var w=r.get("length"),R=Number(c);Number.isInteger(R)&&R>=w.v&&he(w,R+1)}$r(o)}return!0},ownKeys(s){h(o);var c=Reflect.ownKeys(s).filter(m=>{var d=r.get(m);return d===void 0||d.v!==Ne});for(var[l,u]of r)u.v!==Ne&&!(l in s)&&c.push(l);return c},setPrototypeOf(){$i()}})}function to(e){try{if(e!==null&&typeof e=="object"&&Nt in e)return e[Nt]}catch{}return e}function os(e,t){return Object.is(to(e),to(t))}var ro,aa,ia,sa;function as(){if(ro===void 0){ro=window,aa=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;ia=nr(t,"firstChild").get,sa=nr(t,"nextSibling").get,Xn(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Xn(r)&&(r.__t=void 0)}}function Et(e=""){return document.createTextNode(e)}function Yr(e){return ia.call(e)}function jr(e){return sa.call(e)}function p(e,t){return Yr(e)}function fe(e,t=!1){{var r=Yr(e);return r instanceof Comment&&r.data===""?jr(r):r}}function f(e,t=1,r=!1){let n=e;for(;t--;)n=jr(n);return n}function is(e){e.textContent=""}function la(){return!1}function ss(e,t,r){return document.createElementNS(qo,e,void 0)}let no=!1;function ls(){no||(no=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function Pn(e){var t=ie,r=pe;et(null),mt(null);try{return e()}finally{et(t),mt(r)}}function Tn(e,t,r,n=r){e.addEventListener(t,()=>Pn(r));const o=e.__on_r;o?e.__on_r=()=>{o(),n(!0)}:e.__on_r=()=>n(!0),ls()}function ca(e){pe===null&&(ie===null&&yi(),bi()),Pt&&_i()}function cs(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function vt(e,t,r){var n=pe;n!==null&&(n.f&Ke)!==0&&(e|=Ke);var o={ctx:ze,deps:null,nodes:null,f:e|Pe|Xe,first:null,fn:t,last:null,next:null,parent:n,b:n&&n.b,prev:null,teardown:null,wv:0,ac:null};if(r)try{ur(o)}catch(s){throw Ue(o),s}else t!==null&&ot(o);var a=o;if(r&&a.deps===null&&a.teardown===null&&a.nodes===null&&a.first===a.last&&(a.f&fr)===0&&(a=a.first,(e&$t)!==0&&(e&Jt)!==0&&a!==null&&(a.f|=Jt)),a!==null&&(a.parent=n,n!==null&&cs(a,n),ie!==null&&(ie.f&Ce)!==0&&(e&Yt)===0)){var i=ie;(i.effects??=[]).push(a)}return o}function In(){return ie!==null&&!at}function Zn(e){const t=vt(Pr,null,!1);return we(t,Se),t.teardown=e,t}function oo(e){ca();var t=pe.f,r=!ie&&(t&st)!==0&&(t&Tr)===0;if(r){var n=ze;(n.e??=[]).push(e)}else return ua(e)}function ua(e){return vt(zr|Fo,e,!1)}function us(e){return ca(),vt(Pr|Fo,e,!0)}function ds(e){Ot.ensure();const t=vt(Yt|fr,e,!0);return(r={})=>new Promise(n=>{r.outro?Ft(t,()=>{Ue(t),n(void 0)}):(Ue(t),n(void 0))})}function fs(e){return vt(zr,e,!1)}function ps(e){return vt(Dn|fr,e,!0)}function jn(e,t=0){return vt(Pr|t,e,!0)}function ne(e,t=[],r=[],n=[]){Gi(n,t,r,o=>{vt(Pr,()=>e(...o.map(h)),!0)})}function Rr(e,t=0){var r=vt($t|t,e,!0);return r}function Ge(e){return vt(st|fr,e,!0)}function da(e){var t=e.teardown;if(t!==null){const r=Pt,n=ie;ao(!0),et(null);try{t.call(null)}finally{ao(r),et(n)}}}function Rn(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){const o=r.ac;o!==null&&Pn(()=>{o.abort(jt)});var n=r.next;(r.f&Yt)!==0?r.parent=null:Ue(r,t),r=n}}function ms(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&st)===0&&Ue(t),t=r}}function Ue(e,t=!0){var r=!1;(t||(e.f&Mo)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(vs(e.nodes.start,e.nodes.end),r=!0),Rn(e,t&&!r),Ar(e,0),we(e,xt);var n=e.nodes&&e.nodes.t;if(n!==null)for(const a of n)a.stop();da(e);var o=e.parent;o!==null&&o.first!==null&&fa(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function vs(e,t){for(;e!==null;){var r=e===t?null:jr(e);e.remove(),e=r}}function fa(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function Ft(e,t,r=!0){var n=[];pa(e,n,!0);var o=()=>{r&&Ue(e),t&&t()},a=n.length;if(a>0){var i=()=>--a||o();for(var s of n)s.out(i)}else o()}function pa(e,t,r){if((e.f&Ke)===0){e.f^=Ke;var n=e.nodes&&e.nodes.t;if(n!==null)for(const s of n)(s.is_global||r)&&t.push(s);for(var o=e.first;o!==null;){var a=o.next,i=(o.f&Jt)!==0||(o.f&st)!==0&&(e.f&$t)!==0;pa(o,t,i?r:!1),o=a}}}function Ln(e){ma(e,!0)}function ma(e,t){if((e.f&Ke)!==0){e.f^=Ke,(e.f&Se)===0&&(we(e,Pe),ot(e));for(var r=e.first;r!==null;){var n=r.next,o=(r.f&Jt)!==0||(r.f&st)!==0;ma(r,o?t:!1),r=n}var a=e.nodes&&e.nodes.t;if(a!==null)for(const i of a)(i.is_global||t)&&i.in()}}function va(e,t){if(e.nodes)for(var r=e.nodes.start,n=e.nodes.end;r!==null;){var o=r===n?null:jr(r);t.append(r),r=o}}let Wr=!1,Pt=!1;function ao(e){Pt=e}let ie=null,at=!1;function et(e){ie=e}let pe=null;function mt(e){pe=e}let Qe=null;function ha(e){ie!==null&&(Qe===null?Qe=[e]:Qe.push(e))}let Fe=null,We=0,He=null;function hs(e){He=e}let ga=1,Lt=0,Vt=Lt;function io(e){Vt=e}function _a(){return++ga}function Lr(e){var t=e.f;if((t&Pe)!==0)return!0;if(t&Ce&&(e.f&=~Wt),(t&it)!==0){for(var r=e.deps,n=r.length,o=0;o<n;o++){var a=r[o];if(Lr(a)&&ta(a),a.wv>e.wv)return!0}(t&Xe)!==0&&nt===null&&we(e,Se)}return!1}function ba(e,t,r=!0){var n=e.reactions;if(n!==null&&!(Qe!==null&&ir.call(Qe,e)))for(var o=0;o<n.length;o++){var a=n[o];(a.f&Ce)!==0?ba(a,t,!1):t===a&&(r?we(a,Pe):(a.f&Se)!==0&&we(a,it),ot(a))}}function ya(e){var t=Fe,r=We,n=He,o=ie,a=Qe,i=ze,s=at,c=Vt,l=e.f;Fe=null,We=0,He=null,ie=(l&(st|Yt))===0?e:null,Qe=null,sr(e.ctx),at=!1,Vt=++Lt,e.ac!==null&&(Pn(()=>{e.ac.abort(jt)}),e.ac=null);try{e.f|=hn;var u=e.fn,m=u();e.f|=Tr;var d=e.deps,v=ue?.is_fork;if(Fe!==null){var b;if(v||Ar(e,We),d!==null&&We>0)for(d.length=We+Fe.length,b=0;b<Fe.length;b++)d[We+b]=Fe[b];else e.deps=d=Fe;if(In()&&(e.f&Xe)!==0)for(b=We;b<d.length;b++)(d[b].reactions??=[]).push(e)}else!v&&d!==null&&We<d.length&&(Ar(e,We),d.length=We);if(pr()&&He!==null&&!at&&d!==null&&(e.f&(Ce|it|Pe))===0)for(b=0;b<He.length;b++)ba(He[b],e);if(o!==null&&o!==e){if(Lt++,o.deps!==null)for(let _=0;_<r;_+=1)o.deps[_].rv=Lt;if(t!==null)for(const _ of t)_.rv=Lt;He!==null&&(n===null?n=He:n.push(...He))}return(e.f&Dt)!==0&&(e.f^=Dt),m}catch(_){return Ko(_)}finally{e.f^=hn,Fe=t,We=r,He=n,ie=o,Qe=a,sr(i),at=s,Vt=c}}function gs(e,t){let r=t.reactions;if(r!==null){var n=ui.call(r,e);if(n!==-1){var o=r.length-1;o===0?r=t.reactions=null:(r[n]=r[o],r.pop())}}if(r===null&&(t.f&Ce)!==0&&(Fe===null||!ir.call(Fe,t))){var a=t;(a.f&Xe)!==0&&(a.f^=Xe,a.f&=~Wt),Nn(a),ts(a),Ar(a,0)}}function Ar(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)gs(e,r[n])}function ur(e){var t=e.f;if((t&xt)===0){we(e,Se);var r=pe,n=Wr;pe=e,Wr=!0;try{(t&($t|Ro))!==0?ms(e):Rn(e),da(e);var o=ya(e);e.teardown=typeof o=="function"?o:null,e.wv=ga;var a;vn&&Mi&&(e.f&Pe)!==0&&e.deps}finally{Wr=n,pe=r}}}async function _s(){await Promise.resolve(),Ui()}function h(e){var t=e.f,r=(t&Ce)!==0;if(ie!==null&&!at){var n=pe!==null&&(pe.f&xt)!==0;if(!n&&(Qe===null||!ir.call(Qe,e))){var o=ie.deps;if((ie.f&hn)!==0)e.rv<Lt&&(e.rv=Lt,Fe===null&&o!==null&&o[We]===e?We++:Fe===null?Fe=[e]:Fe.push(e));else{(ie.deps??=[]).push(e);var a=e.reactions;a===null?e.reactions=[ie]:ir.call(a,ie)||a.push(ie)}}}if(Pt&&Ct.has(e))return Ct.get(e);if(r){var i=e;if(Pt){var s=i.v;return((i.f&Se)===0&&i.reactions!==null||xa(i))&&(s=On(i)),Ct.set(i,s),s}var c=(i.f&Xe)===0&&!at&&ie!==null&&(Wr||(ie.f&Xe)!==0),l=(i.f&Tr)===0;Lr(i)&&(c&&(i.f|=Xe),ta(i)),c&&!l&&(ra(i),wa(i))}if(nt?.has(e))return nt.get(e);if((e.f&Dt)!==0)throw e.v;return e.v}function wa(e){if(e.f|=Xe,e.deps!==null)for(const t of e.deps)(t.reactions??=[]).push(e),(t.f&Ce)!==0&&(t.f&Xe)===0&&(ra(t),wa(t))}function xa(e){if(e.v===Ne)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Ct.has(t)||(t.f&Ce)!==0&&xa(t))return!0;return!1}function Xt(e){var t=at;try{return at=!0,e()}finally{at=t}}function bs(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Nt in e)yn(e);else if(!Array.isArray(e))for(let t in e){const r=e[t];typeof r=="object"&&r&&Nt in r&&yn(r)}}}function yn(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let n in e)try{yn(e[n],t)}catch{}const r=An(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const n=Zo(r);for(let o in n){const a=n[o].get;if(a)try{a.call(e)}catch{}}}}}const ys=["touchstart","touchmove"];function ws(e){return ys.includes(e)}const Ea=Symbol("events"),$a=new Set,wn=new Set;function qe(e,t,r){(t[Ea]??={})[e]=r}function ht(e){for(var t=0;t<e.length;t++)$a.add(e[t]);for(var r of wn)r(e)}let so=null;function lo(e){var t=this,r=t.ownerDocument,n=e.type,o=e.composedPath?.()||[],a=o[0]||e.target;so=e;var i=0,s=so===e&&e.__root;if(s){var c=o.indexOf(s);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var l=o.indexOf(t);if(l===-1)return;c<=l&&(i=c)}if(a=o[i]||e.target,a!==t){Io(e,"currentTarget",{configurable:!0,get(){return a||r}});var u=ie,m=pe;et(null),mt(null);try{for(var d,v=[];a!==null;){var b=a.assignedSlot||a.parentNode||a.host||null;try{var _=a[Ea]?.[n];_!=null&&(!a.disabled||e.target===a)&&_.call(a,e)}catch(g){d?v.push(g):d=g}if(e.cancelBubble||b===t||b===null)break;a=b}if(d){for(let g of v)queueMicrotask(()=>{throw g});throw d}}finally{e.__root=t,delete e.currentTarget,et(u),mt(m)}}}const xs=globalThis?.window?.trustedTypes?.createPolicy("svelte-trusted-html",{createHTML:e=>e});function Es(e){return xs?.createHTML(e)??e}function $s(e,t=!1){var r=ss("template");return e=e.replaceAll("<!>","<!---->"),r.innerHTML=t?Es(e):e,r.content}function Xr(e,t){var r=pe;r.nodes===null&&(r.nodes={start:e,end:t,a:null,t:null})}function N(e,t){var r=(t&Zi)!==0,n=(t&ji)!==0,o,a=!e.startsWith("<!>");return()=>{o===void 0&&(o=$s(a?e:"<!>"+e,!0),r||(o=Yr(o)));var i=n||aa?document.importNode(o,!0):o.cloneNode(!0);if(r){var s=Yr(i),c=i.lastChild;Xr(s,c)}else Xr(i,i);return i}}function Mn(e=""){{var t=Et(e+"");return Xr(t,t),t}}function qt(){var e=document.createDocumentFragment(),t=document.createComment(""),r=Et();return e.append(t,r),Xr(t,r),e}function z(e,t){e!==null&&e.before(t)}function q(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??=e.nodeValue)&&(e.__t=r,e.nodeValue=r+"")}function ks(e,t){return Ss(e,t)}const Fr=new Map;function Ss(e,{target:t,anchor:r,props:n={},events:o,context:a,intro:i=!0}){as();var s=new Set,c=m=>{for(var d=0;d<m.length;d++){var v=m[d];if(!s.has(v)){s.add(v);var b=ws(v);for(const w of[t,document]){var _=Fr.get(w);_===void 0&&(_=new Map,Fr.set(w,_));var g=_.get(v);g===void 0?(w.addEventListener(v,lo,{passive:b}),_.set(v,1)):_.set(v,g+1)}}}};c(nn($a)),wn.add(c);var l=void 0,u=ds(()=>{var m=r??t.appendChild(Et());return Ki(m,{pending:()=>{}},d=>{Re({});var v=ze;a&&(v.c=a),o&&(n.$$events=o),l=e(d,n)||{},Le()}),()=>{for(var d of s)for(const _ of[t,document]){var v=Fr.get(_),b=v.get(d);--b==0?(_.removeEventListener(d,lo),v.delete(d),v.size===0&&Fr.delete(_)):v.set(d,b)}wn.delete(c),m!==r&&m.parentNode?.removeChild(m)}});return zs.set(l,u),l}let zs=new WeakMap;class Fn{anchor;#t=new Map;#s=new Map;#e=new Map;#a=new Set;#i=!0;constructor(t,r=!0){this.anchor=t,this.#i=r}#n=()=>{var t=ue;if(this.#t.has(t)){var r=this.#t.get(t),n=this.#s.get(r);if(n)Ln(n),this.#a.delete(r);else{var o=this.#e.get(r);o&&(this.#s.set(r,o.effect),this.#e.delete(r),o.fragment.lastChild.remove(),this.anchor.before(o.fragment),n=o.effect)}for(const[a,i]of this.#t){if(this.#t.delete(a),a===t)break;const s=this.#e.get(i);s&&(Ue(s.effect),this.#e.delete(i))}for(const[a,i]of this.#s){if(a===r||this.#a.has(a))continue;const s=()=>{if(Array.from(this.#t.values()).includes(a)){var l=document.createDocumentFragment();va(i,l),l.append(Et()),this.#e.set(a,{effect:i,fragment:l})}else Ue(i);this.#a.delete(a),this.#s.delete(a)};this.#i||!n?(this.#a.add(a),Ft(i,s,!1)):s()}}};#r=t=>{this.#t.delete(t);const r=Array.from(this.#t.values());for(const[n,o]of this.#e)r.includes(n)||(Ue(o.effect),this.#e.delete(n))};ensure(t,r){var n=ue,o=la();if(r&&!this.#s.has(t)&&!this.#e.has(t))if(o){var a=document.createDocumentFragment(),i=Et();a.append(i),this.#e.set(t,{effect:Ge(()=>r(i)),fragment:a})}else this.#s.set(t,Ge(()=>r(this.anchor)));if(this.#t.set(n,t),o){for(const[s,c]of this.#s)s===t?n.unskip_effect(c):n.skip_effect(c);for(const[s,c]of this.#e)s===t?n.unskip_effect(c.effect):n.skip_effect(c.effect);n.oncommit(this.#n),n.ondiscard(this.#r)}else this.#n()}}function de(e,t,r=!1){var n=new Fn(e),o=r?Jt:0;function a(i,s){n.ensure(i,s)}Rr(()=>{var i=!1;t((s,c=0)=>{i=!0,a(c,s)}),i||a(!1,null)},o)}const As=Symbol("NaN");function Ds(e,t,r){var n=new Fn(e),o=!pr();Rr(()=>{var a=t();a!==a&&(a=As),o&&a!==null&&typeof a=="object"&&(a={}),n.ensure(a,r)})}function Vn(e,t){return t}function Ns(e,t,r){for(var n=[],o=t.length,a,i=t.length,s=0;s<o;s++){let m=t[s];Ft(m,()=>{if(a){if(a.pending.delete(m),a.done.add(m),a.pending.size===0){var d=e.outrogroups;xn(nn(a.done)),d.delete(a),d.size===0&&(e.outrogroups=null)}}else i-=1},!1)}if(i===0){var c=n.length===0&&r!==null;if(c){var l=r,u=l.parentNode;is(u),u.append(l),e.items.clear()}xn(t,!c)}else a={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(a)}function xn(e,t=!0){for(var r=0;r<e.length;r++)Ue(e[r],t)}var co;function an(e,t,r,n,o,a=null){var i=e,s=new Map,c=(t&Vo)!==0;if(c){var l=e;i=l.appendChild(Et())}var u=null,m=or(()=>{var w=r();return zn(w)?w:w==null?[]:nn(w)}),d,v=!0;function b(){g.fallback=u,Os(g,d,i,t,n),u!==null&&(d.length===0?(u.f&yt)===0?Ln(u):(u.f^=yt,wr(u,null,i)):Ft(u,()=>{u=null}))}var _=Rr(()=>{d=h(m);for(var w=d.length,R=new Set,A=ue,k=la(),O=0;O<w;O+=1){var P=d[O],I=n(P,O),D=v?null:s.get(I);D?(D.v&&cr(D.v,P),D.i&&cr(D.i,O),k&&A.unskip_effect(D.e)):(D=Cs(s,v?i:co??=Et(),P,I,O,o,t,r),v||(D.e.f|=yt),s.set(I,D)),R.add(I)}if(w===0&&a&&!u&&(v?u=Ge(()=>a(i)):(u=Ge(()=>a(co??=Et())),u.f|=yt)),w>R.size&&gi(),!v)if(k){for(const[F,W]of s)R.has(F)||A.skip_effect(W.e);A.oncommit(b),A.ondiscard(()=>{})}else b();h(m)}),g={effect:_,items:s,outrogroups:null,fallback:u};v=!1}function br(e){for(;e!==null&&(e.f&st)===0;)e=e.next;return e}function Os(e,t,r,n,o){var a=(n&Di)!==0,i=t.length,s=e.items,c=br(e.effect.first),l,u=null,m,d=[],v=[],b,_,g,w;if(a)for(w=0;w<i;w+=1)b=t[w],_=o(b,w),g=s.get(_).e,(g.f&yt)===0&&(g.nodes?.a?.measure(),(m??=new Set).add(g));for(w=0;w<i;w+=1){if(b=t[w],_=o(b,w),g=s.get(_).e,e.outrogroups!==null)for(const W of e.outrogroups)W.pending.delete(g),W.done.delete(g);if((g.f&yt)!==0)if(g.f^=yt,g===c)wr(g,null,r);else{var R=u?u.next:c;g===e.effect.last&&(e.effect.last=g.prev),g.prev&&(g.prev.next=g.next),g.next&&(g.next.prev=g.prev),St(e,u,g),St(e,g,R),wr(g,R,r),u=g,d=[],v=[],c=br(u.next);continue}if((g.f&Ke)!==0&&(Ln(g),a&&(g.nodes?.a?.unfix(),(m??=new Set).delete(g))),g!==c){if(l!==void 0&&l.has(g)){if(d.length<v.length){var A=v[0],k;u=A.prev;var O=d[0],P=d[d.length-1];for(k=0;k<d.length;k+=1)wr(d[k],A,r);for(k=0;k<v.length;k+=1)l.delete(v[k]);St(e,O.prev,P.next),St(e,u,O),St(e,P,A),c=A,u=P,w-=1,d=[],v=[]}else l.delete(g),wr(g,c,r),St(e,g.prev,g.next),St(e,g,u===null?e.effect.first:u.next),St(e,u,g),u=g;continue}for(d=[],v=[];c!==null&&c!==g;)(l??=new Set).add(c),v.push(c),c=br(c.next);if(c===null)continue}(g.f&yt)===0&&d.push(g),u=g,c=br(g.next)}if(e.outrogroups!==null){for(const W of e.outrogroups)W.pending.size===0&&(xn(nn(W.done)),e.outrogroups?.delete(W));e.outrogroups.size===0&&(e.outrogroups=null)}if(c!==null||l!==void 0){var I=[];if(l!==void 0)for(g of l)(g.f&Ke)===0&&I.push(g);for(;c!==null;)(c.f&Ke)===0&&c!==e.fallback&&I.push(c),c=br(c.next);var D=I.length;if(D>0){var F=(n&Vo)!==0&&i===0?r:null;if(a){for(w=0;w<D;w+=1)I[w].nodes?.a?.measure();for(w=0;w<D;w+=1)I[w].nodes?.a?.fix()}Ns(e,I,F)}}a&&Mt(()=>{if(m!==void 0)for(g of m)g.nodes?.a?.apply()})}function Cs(e,t,r,n,o,a,i,s){var c=(i&zi)!==0?(i&Ni)===0?Cn(r,!1,!1):Kt(r):null,l=(i&Ai)!==0?Kt(o):null;return{v:c,i:l,e:Ge(()=>(a(t,c??r,l??o,s),()=>{e.delete(n)}))}}function wr(e,t,r){if(e.nodes)for(var n=e.nodes.start,o=e.nodes.end,a=t&&(t.f&yt)===0?t.nodes.start:r;n!==null;){var i=jr(n);if(a.before(n),n===o)return;n=i}}function St(e,t,r){t===null?e.effect.first=r:t.next=r,r===null?e.effect.last=t:r.prev=t}function Ut(e,t,...r){var n=new Fn(e);Rr(()=>{const o=t()??null;n.ensure(o,o&&(a=>o(a,...r)))},Jt)}function Ps(e,t,r){var n=e==null?"":""+e;return n===""?null:n}function Be(e,t,r,n,o,a){var i=e.__className;if(i!==r||i===void 0){var s=Ps(r);s==null?e.removeAttribute("class"):t?e.className=s:e.setAttribute("class",s),e.__className=r}return a}function ka(e,t,r=!1){if(e.multiple){if(t==null)return;if(!zn(t))return Ri();for(var n of e.options)n.selected=t.includes(kr(n));return}for(n of e.options){var o=kr(n);if(os(o,t)){n.selected=!0;return}}(!r||t!==void 0)&&(e.selectedIndex=-1)}function Ts(e){var t=new MutationObserver(()=>{ka(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Zn(()=>{t.disconnect()})}function Is(e,t,r=t){var n=new WeakSet,o=!0;Tn(e,"change",a=>{var i=a?"[selected]":":checked",s;if(e.multiple)s=[].map.call(e.querySelectorAll(i),kr);else{var c=e.querySelector(i)??e.querySelector("option:not([disabled])");s=c&&kr(c)}r(s),ue!==null&&n.add(ue)}),fs(()=>{var a=t();if(e===document.activeElement){var i=Gr??ue;if(n.has(i))return}if(ka(e,a,o),o&&a===void 0){var s=e.querySelector(":checked");s!==null&&(a=kr(s),r(a))}e.__value=a,o=!1}),Ts(e)}function kr(e){return"__value"in e?e.__value:e.value}const Zs=Symbol("is custom element"),js=Symbol("is html");function Oe(e,t,r,n){var o=Rs(e);o[t]!==(o[t]=r)&&(t==="loading"&&(e[vi]=r),r==null?e.removeAttribute(t):typeof r!="string"&&Ls(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function Rs(e){return e.__attributes??={[Zs]:e.nodeName.includes("-"),[js]:e.namespaceURI===qo}}var uo=new Map;function Ls(e){var t=e.getAttribute("is")||e.nodeName,r=uo.get(t);if(r)return r;uo.set(t,r=[]);for(var n,o=e,a=Element.prototype;a!==o;){n=Zo(o);for(var i in n)n[i].set&&r.push(i);o=An(o)}return r}function Dr(e,t,r=t){var n=new WeakSet;Tn(e,"input",async o=>{var a=o?e.defaultValue:e.value;if(a=dn(e)?fn(a):a,r(a),ue!==null&&n.add(ue),await _s(),a!==(a=t())){var i=e.selectionStart,s=e.selectionEnd,c=e.value.length;if(e.value=a??"",s!==null){var l=e.value.length;i===s&&s===c&&l>c?(e.selectionStart=l,e.selectionEnd=l):(e.selectionStart=i,e.selectionEnd=Math.min(s,l))}}}),Xt(t)==null&&e.value&&(r(dn(e)?fn(e.value):e.value),ue!==null&&n.add(ue)),jn(()=>{var o=t();if(e===document.activeElement){var a=Gr??ue;if(n.has(a))return}dn(e)&&o===fn(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}function Kr(e,t,r=t){Tn(e,"change",n=>{var o=n?e.defaultChecked:e.checked;r(o)}),Xt(t)==null&&r(e.checked),jn(()=>{var n=t();e.checked=!!n})}function dn(e){var t=e.type;return t==="number"||t==="range"}function fn(e){return e===""?null:+e}function Ms(e=!1){const t=ze,r=t.l.u;if(!r)return;let n=()=>bs(t.s);if(e){let o=0,a={};const i=Zr(()=>{let s=!1;const c=t.s;for(const l in c)c[l]!==a[l]&&(a[l]=c[l],s=!0);return s&&o++,o});n=()=>h(i)}r.b.length&&us(()=>{fo(t,n),Hr(r.b)}),oo(()=>{const o=Xt(()=>r.m.map(pi));return()=>{for(const a of o)typeof a=="function"&&a()}}),r.a.length&&oo(()=>{fo(t,n),Hr(r.a)})}function fo(e,t){if(e.l.s)for(const r of e.l.s)h(r);t()}function qn(e,t,r){if(e==null)return t(void 0),r&&r(void 0),wt;const n=Xt(()=>e.subscribe(t,r));return n.unsubscribe?()=>n.unsubscribe():n}const er=[];function Fs(e,t){return{subscribe:zt(e,t).subscribe}}function zt(e,t=wt){let r=null;const n=new Set;function o(s){if(Bo(e,s)&&(e=s,r)){const c=!er.length;for(const l of n)l[1](),er.push(l,e);if(c){for(let l=0;l<er.length;l+=2)er[l][0](er[l+1]);er.length=0}}}function a(s){o(s(e))}function i(s,c=wt){const l=[s,c];return n.add(l),n.size===1&&(r=t(o,a)||wt),s(e),()=>{n.delete(l),n.size===0&&r&&(r(),r=null)}}return{set:o,update:a,subscribe:i}}function yr(e,t,r){const n=!Array.isArray(e),o=n?[e]:e;if(!o.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const a=t.length<2;return Fs(r,(i,s)=>{let c=!1;const l=[];let u=0,m=wt;const d=()=>{if(u)return;m();const b=t(n?l[0]:l,i,s);a?i(b):m=typeof b=="function"?b:wt},v=o.map((b,_)=>qn(b,g=>{l[_]=g,u&=~(1<<_),c&&d()},()=>{u|=1<<_}));return c=!0,d(),function(){Hr(v),m(),c=!1}})}function _t(e){let t;return qn(e,r=>t=r)(),t}let Vr=!1,En=Symbol();function X(e,t,r){const n=r[t]??={store:null,source:Cn(void 0),unsubscribe:wt};if(n.store!==e&&!(En in r))if(n.unsubscribe(),n.store=e??null,e==null)n.source.v=void 0,n.unsubscribe=wt;else{var o=!0;n.unsubscribe=qn(e,a=>{o?n.source.v=a:he(n.source,a)}),o=!1}return e&&En in r?_t(e):h(n.source)}function lt(){const e={};function t(){Zn(()=>{for(var r in e)e[r].unsubscribe();Io(e,En,{enumerable:!1,value:!0})})}return[e,t]}function Vs(e){var t=Vr;try{return Vr=!1,[e(),Vr]}finally{Vr=t}}function Ve(e,t,r,n){var o=!Ir||(r&Ci)!==0,a=(r&Ti)!==0,i=(r&Ii)!==0,s=n,c=!0,l=()=>(c&&(c=!1,s=i?Xt(n):n),s),u;if(a){var m=Nt in e||mi in e;u=nr(e,t)?.set??(m&&t in e?A=>e[t]=A:void 0)}var d,v=!1;a?[d,v]=Vs(()=>e[t]):d=e[t],d===void 0&&n!==void 0&&(d=l(),u&&(o&&xi(),u(d)));var b;if(o?b=()=>{var A=e[t];return A===void 0?l():(c=!0,A)}:b=()=>{var A=e[t];return A!==void 0&&(s=void 0),A===void 0?s:A},o&&(r&Pi)===0)return b;if(u){var _=e.$$legacy;return(function(A,k){return arguments.length>0?((!o||!k||_||v)&&u(k?b():A),A):b()})}var g=!1,w=((r&Oi)!==0?Zr:or)(()=>(g=!1,b()));a&&h(w);var R=pe;return(function(A,k){if(arguments.length>0){const O=k?h(w):o&&a?At(A):A;return he(w,O),g=!0,s!==void 0&&(s=O),A}return Pt&&g||(R.f&xt)!==0?w.v:h(w)})}const qs="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(qs);const Us=e=>typeof e=="object"&&e!==null&&!(e instanceof Date)&&!(e instanceof Map)&&!(e instanceof Set)&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof RegExp)&&!(e instanceof Error)&&!(e instanceof Promise),Bs=(e,t)=>{const r=(o,a)=>new Proxy(o,{get(i,s){const c=i[s];if(Us(c)){const l=Number.isInteger(Number(s))?"":String(s),u=l?a?`${a}.${l}`:l:a;return r(c,u)}return c},set(i,s,c){const l=i[s];if(l!==c){i[s]=c;const u=Number.isInteger(Number(s))?"":String(s),m=u?a?`${a}.${u}`:u:a;t(n,m,c,l)}return!0}}),n=r(e,"");return n},Sa=e=>Object.values(e).some(t=>typeof t=="string"?!!t:Sa(t)),Js=e=>!!e&&Sa(e),tr=e=>{if(e===null||typeof e!="object")return e;if(e instanceof Date)return new Date(e);if(Array.isArray(e))return e.map(r=>tr(r));const t=Object.create(Object.getPrototypeOf(e));for(const r of Object.keys(e))t[r]=tr(e[r]);return t},Ws=(e,t)=>{const r=t.split(".");let n=e;for(const o of r){if(n==null)return;n=n[o]}return n},Ks=(e,t)=>{if(!e)return"";const r=t.split(".");let n=e;for(const o of r){if(typeof n=="string"||n[o]===void 0)return"";n=n[o]}return typeof n=="string"?n:""},Hs=(e,t)=>{const r=[];for(const n of Object.keys(e))(n===t||n.startsWith(t+".")||t.startsWith(n+"."))&&r.push(n);return r},Gs={resetDirtyOnAction:!0,debounceValidation:0,allowConcurrentActions:!1,persistActionError:!1,debounceAsyncValidation:300,runAsyncValidationOnInit:!1,clearAsyncErrorsOnChange:!0,maxConcurrentAsyncValidations:4,maxSnapshots:50};function ct(e,t,r){const n={...Gs,...r},{validator:o,effect:a,asyncValidator:i}=t??{},s=zt(),c=yr(s,Js),l=zt({}),u=yr(l,x=>Object.keys(x).length>0),m=zt(!1),d=zt(),v=zt([{title:"Initial",data:tr(e)}]),b=zt({}),_=zt(new Set),g=yr(_,x=>[...x]),w=yr(b,x=>Object.values(x).some($=>!!$)),R=yr([c,w],([x,$])=>x||$),A=new Map,k=[],O=x=>{l.update($=>{const S={...$,[x]:!0},V=x.split(".");for(let ee=1;ee<V.length;ee++)S[V.slice(0,ee).join(".")]=!0;return S})},P=At(e),I=(x,$=!0)=>{const S=_t(v),V={title:x,data:tr(P)},ee=S.at(-1);let J=$&&ee&&ee.title===x?[...S.slice(0,-1),V]:[...S,V];if(n.maxSnapshots>0&&J.length>n.maxSnapshots){const G=J.length-n.maxSnapshots;J=[J[0],...J.slice(1+G)]}v.set(J)};let D=!1,F;const W=()=>{if(o)if(n.debounceValidation>0)clearTimeout(F),F=setTimeout(()=>{s.set(o(Z))},n.debounceValidation);else{if(D)return;D=!0,queueMicrotask(()=>{s.set(o(Z)),D=!1})}},Y=x=>{const $=k.indexOf(x);$!==-1&&k.splice($,1)},K=x=>{Y(x);const $=A.get(x);$&&(clearTimeout($.timeoutId),$.controller.abort(),A.delete(x),_.update(S=>(S.delete(x),new Set(S))))},T=()=>{k.length=0;for(const x of A.keys())K(x);b.set({})},C=async(x,$)=>{if(!i){$();return}const S=i[x];if(!S){$();return}if(Ks(_t(s),x)){$();return}const ee=new AbortController;A.set(x,{controller:ee,timeoutId:0}),_.update(J=>new Set([...J,x]));try{const J=Ws(Z,x),G=await S(J,Z,ee.signal);ee.signal.aborted||b.update(_e=>({..._e,[x]:G}))}catch(J){if(J instanceof Error&&J.name!=="AbortError")throw J}finally{A.delete(x),_.update(J=>(J.delete(x),new Set(J))),$()}},j=()=>{for(;k.length>0&&!(_t(_).size>=n.maxConcurrentAsyncValidations);){const $=k.shift();$&&C($,j)}},E=x=>{if(!i||!i[x])return;K(x),n.clearAsyncErrorsOnChange&&b.update(V=>{const ee={...V};return delete ee[x],ee});const $=new AbortController,S=setTimeout(()=>{A.delete(x),_t(_).size<n.maxConcurrentAsyncValidations?C(x,j):(Y(x),k.push(x))},n.debounceAsyncValidation);A.set(x,{controller:$,timeoutId:S})},M=x=>{if(!i)return;const $=Hs(i,x);for(const S of $)E(S)},Z=Bs(P,(x,$,S,V)=>{if(n.persistActionError||d.set(void 0),O($),a?.({snapshot:I,target:x,property:$,currentValue:S,oldValue:V})instanceof Promise)throw new Error("svstate: effect callback must be synchronous. Use action for async operations.");W(),M($)});if(o&&s.set(o(Z)),i&&n.runAsyncValidationOnInit)for(const x of Object.keys(i))E(x);const B=async x=>{if(!(!n.allowConcurrentActions&&_t(m))){d.set(void 0),m.set(!0);try{await t?.action?.(x),n.resetDirtyOnAction&&l.set({}),v.set([{title:"Initial",data:tr(P)}]),await t?.actionCompleted?.()}catch($){await t?.actionCompleted?.($),d.set($ instanceof Error?$:void 0)}finally{m.set(!1)}}},H=(x,$)=>{const S=$[x];S&&(T(),l.set({}),Object.assign(P,tr(S.data)),v.set($.slice(0,x+1)),o&&s.set(o(Z)))};return{data:Z,execute:B,state:{errors:s,hasErrors:c,isDirty:u,isDirtyByField:l,actionInProgress:m,actionError:d,snapshots:v,asyncErrors:b,hasAsyncErrors:w,asyncValidating:g,hasCombinedErrors:R},rollback:(x=1)=>{const $=_t(v);if($.length<=1)return;const S=Math.max(0,$.length-1-x);H(S,$)},rollbackTo:x=>{const $=_t(v);if($.length<=1)return!1;for(let S=$.length-1;S>=0;S--)if($[S].title===x)return H(S,$),!0;return!1},reset:()=>{const x=_t(v);x[0]&&H(0,x)}}}const Ys={trim:e=>e.trim(),normalize:e=>e.replaceAll(/\s{2,}/g," "),upper:e=>e.toUpperCase(),lower:e=>e.toLowerCase(),localeUpper:e=>e.toLocaleUpperCase(),localeLower:e=>e.toLocaleLowerCase()};function se(e){let t="";const r=e==null;let n=e??"";const o=i=>{t||(t=i)},a={prepare(...i){return n=i.reduce((s,c)=>Ys[c](s),n),a},required(){return!t&&(r||!n)&&o("Required"),a},requiredIf(i){return i&&!t&&(r||!n)&&o("Required"),a},noSpace(){return r||!t&&n.includes(" ")&&o("No space allowed"),a},notBlank(){return r||!t&&n.length>0&&n.trim().length===0&&o("Must not be blank"),a},minLength(i){return r||!t&&n.length<i&&o(`Min length ${i}`),a},maxLength(i){return r||!t&&n.length>i&&o(`Max length ${i}`),a},uppercase(){return r||!t&&n!==n.toUpperCase()&&o("Uppercase only"),a},lowercase(){return r||!t&&n!==n.toLowerCase()&&o("Lowercase only"),a},startsWith(i){if(t)return a;const s=Array.isArray(i)?i:[i];return n&&!s.some(c=>n.startsWith(c))&&o(`Must start with ${s.join(", ")}`),a},regexp(i,s){return!t&&n&&!i.test(n)&&o(s??"Not allowed chars"),a},in(i){if(t)return a;const s=Array.isArray(i)?i:Object.keys(i);return n&&!s.includes(n)&&o(`Must be one of: ${s.join(", ")}`),a},notIn(i){if(t)return a;const s=Array.isArray(i)?i:Object.keys(i);return n&&s.includes(n)&&o(`Must not be one of: ${s.join(", ")}`),a},email(){return!t&&n&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)&&o("Invalid email format"),a},website(i="optional"){if(t||!n||i==="optional")return a;const s=/^https?:\/\//.test(n);return i==="required"&&!s?o("Must start with http:// or https://"):i==="forbidden"&&s&&o("Must not start with http:// or https://"),a},endsWith(i){if(t||!n)return a;const s=Array.isArray(i)?i:[i];return s.some(c=>n.endsWith(c))||o(`Must end with ${s.join(", ")}`),a},contains(i){return!t&&n&&!n.includes(i)&&o(`Must contain "${i}"`),a},alphanumeric(){return!t&&n&&!/^[\dA-Za-z]+$/.test(n)&&o("Only letters and numbers allowed"),a},numeric(){return!t&&n&&!/^\d+$/.test(n)&&o("Only numbers allowed"),a},slug(){return!t&&n&&!/^[\da-z-]+$/.test(n)&&o("Invalid slug format"),a},identifier(){return!t&&n&&!/^[A-Z_a-z]\w*$/.test(n)&&o("Invalid identifier format"),a},getError(){return t}};return a}function Nr(e){let t="";const r=e==null,n=a=>{t||(t=a)},o={required(){return!t&&(r||Number.isNaN(e))&&n("Required"),o},requiredIf(a){return a&&!t&&(r||Number.isNaN(e))&&n("Required"),o},min(a){return r||!t&&e<a&&n(`Minimum ${a}`),o},max(a){return r||!t&&e>a&&n(`Maximum ${a}`),o},between(a,i){return r||!t&&(e<a||e>i)&&n(`Must be between ${a} and ${i}`),o},integer(){return r||!t&&!Number.isInteger(e)&&n("Must be an integer"),o},positive(){return r||!t&&e<=0&&n("Must be positive"),o},negative(){return r||!t&&e>=0&&n("Must be negative"),o},nonNegative(){return r||!t&&e<0&&n("Must be non-negative"),o},notZero(){return r||!t&&e===0&&n("Must not be zero"),o},multipleOf(a){return r||!t&&e%a!==0&&n(`Must be a multiple of ${a}`),o},step(a){return r||!t&&e%a!==0&&n(`Must be a multiple of ${a}`),o},decimal(a){return r||t||Number.isNaN(e)||(String(e).split(".")[1]?.length??0)>a&&n(`Maximum ${a} decimal places`),o},percentage(){return r||!t&&(e<0||e>100)&&n("Must be between 0 and 100"),o},getError(){return t}};return o}function Xs(e){let t="";const r=e==null,n=e??[],o=i=>{t||(t=i)},a={required(){return!t&&(r||n.length===0)&&o("Required"),a},requiredIf(i){return i&&!t&&(r||n.length===0)&&o("Required"),a},minLength(i){return r||!t&&n.length<i&&o(`Minimum ${i} items`),a},maxLength(i){return r||!t&&n.length>i&&o(`Maximum ${i} items`),a},unique(){if(r||t)return a;const i=new Set;for(const s of n){const c=typeof s=="object"?JSON.stringify(s):String(s);if(i.has(c)){o("Items must be unique");break}i.add(c)}return a},ofLength(i){return r||!t&&n.length!==i&&o(`Must have exactly ${i} items`),a},includes(i){if(r||t)return a;const s=typeof i=="object"?JSON.stringify(i):String(i);return n.some(l=>(typeof l=="object"?JSON.stringify(l):String(l))===s)||o(`Must include ${s}`),a},includesAny(i){if(r||t)return a;const s=i.map(l=>typeof l=="object"?JSON.stringify(l):String(l));return n.some(l=>{const u=typeof l=="object"?JSON.stringify(l):String(l);return s.includes(u)})||o(`Must include at least one of: ${s.join(", ")}`),a},includesAll(i){if(r||t)return a;const s=new Set(n.map(l=>typeof l=="object"?JSON.stringify(l):String(l))),c=i.filter(l=>{const u=typeof l=="object"?JSON.stringify(l):String(l);return!s.has(u)});if(c.length>0){const l=c.map(u=>typeof u=="object"?JSON.stringify(u):String(u));o(`Missing required items: ${l.join(", ")}`)}return a},getError(){return t}};return a}var Qs=N('<h6 class="mb-2 text-sm font-medium text-gray-700"> </h6>'),el=N('<div><!> <pre class="overflow-auto rounded-lg bg-gray-900 p-4 text-xs text-gray-100"> </pre></div>');function me(e,t){var r=el(),n=p(r);{var o=s=>{var c=Qs(),l=p(c);ne(()=>q(l,t.title)),z(s,c)};de(n,s=>{t.title&&s(o)})}var a=f(n,2),i=p(a);ne(()=>q(i,t.code)),z(e,r)}var tl=N('<div class="rounded-lg border border-gray-300 bg-gray-50 p-4 shadow-inner"><h6 class="mb-2 text-sm font-medium text-gray-700">Dirty Fields</h6> <pre class="overflow-auto text-xs text-gray-600"> </pre></div>'),rl=N('<div><div class="rounded-lg border border-gray-300 bg-gray-50 p-4 shadow-inner"><h6 class="mb-2 text-sm font-medium text-gray-700">State Object</h6> <pre class="overflow-auto text-xs text-gray-600"> </pre></div> <div class="rounded-lg border border-gray-300 bg-gray-50 p-4 shadow-inner"><h6 class="mb-2 text-sm font-medium text-gray-700">State Info</h6> <div class="space-y-1 text-xs text-gray-600"><div><span class="font-medium">isDirty:</span> </div> <div><span class="font-medium">hasErrors:</span> </div></div></div> <!> <div class="rounded-lg border border-gray-300 bg-gray-50 p-4 shadow-inner"><h6 class="mb-2 text-sm font-medium text-gray-700">Errors</h6> <pre class="overflow-auto text-xs text-gray-600"> </pre></div> <button class="w-full cursor-pointer rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500" type="button">Fill with Valid Data</button></div>');function ut(e,t){Re(t,!0);let r=Ve(t,"width",3,"xl:w-80");var n=rl(),o=p(n),a=f(p(o),2),i=p(a),s=f(o,2),c=f(p(s),2),l=p(c),u=f(p(l)),m=f(l,2),d=f(p(m)),v=f(s,2);{var b=A=>{var k=tl(),O=f(p(k),2),P=p(O);ne(I=>q(P,I),[()=>JSON.stringify(t.isDirtyByField,Object.keys(t.isDirtyByField).toSorted(),2)]),z(A,k)};de(v,A=>{t.isDirtyByField&&A(b)})}var _=f(v,2),g=f(p(_),2),w=p(g),R=f(_,2);ne((A,k)=>{Be(n,1,`w-full ${r()??""} flex-shrink-0 space-y-4`),q(i,A),q(u,` ${t.isDirty??""}`),q(d,` ${t.hasErrors??""}`),q(w,k)},[()=>JSON.stringify(t.data,void 0,2),()=>JSON.stringify(t.errors,void 0,2)]),qe("click",R,function(...A){t.onFill?.apply(this,A)}),z(e,n),Le()}ht(["click"]);var nl=N('<p class="mt-1 text-sm text-red-600"> </p>');function Sr(e,t){var r=qt(),n=fe(r);{var o=a=>{var i=nl(),s=p(i);ne(()=>q(s,t.error)),z(a,i)};de(n,a=>{t.error&&a(o)})}z(e,r)}var ol=N('<span class="ml-1 inline-block h-2 w-2 rounded-full bg-amber-400" title="Modified"></span>'),al=N("<div><label> <!></label> <input/> <!></div>");function ae(e,t){Re(t,!0);let r=Ve(t,"type",3,"text"),n=Ve(t,"placeholder",3,""),o=Ve(t,"value",15),a=Ve(t,"error",3,""),i=Ve(t,"required",3,!0),s=Ve(t,"disabled",3,!1),c=Ve(t,"variant",3,"default");const l=U(()=>c()==="nested"?"bg-white":"bg-gray-50");var u=al(),m=p(u),d=p(m),v=f(d);{var b=w=>{var R=ol();z(w,R)};de(v,w=>{t.isDirty&&w(b)})}var _=f(m,2),g=f(_,2);{let w=U(()=>a()??"");Sr(g,{get error(){return h(w)}})}ne(()=>{Be(m,1,`mb-2 block text-sm text-gray-900 ${i()?"font-bold":""}`),Oe(m,"for",t.id),q(d,`${t.label??""} `),Oe(_,"id",t.id),Be(_,1,`block w-full rounded-lg border p-2.5 text-sm ${a()?"border-red-500 bg-red-50 text-red-900 placeholder-red-400 focus:border-red-500 focus:ring-red-500":`border-gray-300 ${h(l)} text-gray-900 focus:border-blue-500 focus:ring-blue-500`} ${s()?"cursor-not-allowed opacity-50":""}`),_.disabled=s(),Oe(_,"max",t.max),Oe(_,"min",t.min),Oe(_,"placeholder",n()),Oe(_,"step",t.step),Oe(_,"type",r())}),Dr(_,o),z(e,u),Le()}var il=N('<p class="mb-4 text-sm text-gray-600"> </p>'),sl=N('<div class="mb-3"></div>'),ll=N('<div class="flex flex-col gap-4 xl:flex-row xl:gap-6"><div class="min-w-0 flex-1 rounded-lg border border-gray-200 bg-white p-4 shadow-sm sm:p-6"><h5 class="mb-1 text-lg font-medium text-gray-900 sm:text-xl"> </h5> <!> <!></div> <!></div> <!>',1);function dt(e,t){var r=ll(),n=fe(r),o=p(n),a=p(o),i=p(a),s=f(a,2);{var c=b=>{var _=il(),g=p(_);ne(()=>q(g,t.description)),z(b,_)},l=b=>{var _=sl();z(b,_)};de(s,b=>{t.description?b(c):b(l,!1)})}var u=f(s,2);Ut(u,()=>t.main);var m=f(o,2);Ut(m,()=>t.sidebar);var d=f(n,2);{var v=b=>{var _=qt(),g=fe(_);Ut(g,()=>t.sourceCode),z(b,_)};de(d,b=>{t.sourceCode&&b(v)})}ne(()=>q(i,t.title)),z(e,r)}var cl=N('<div class="space-y-4 p-4"><!></div>'),ul=N('<div class="mt-6 rounded-lg border border-gray-200 bg-white shadow-sm"><button type="button"><span>Source Code</span> <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M19 9l-7 7-7-7" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg></button> <!></div>');function ft(e,t){let r=$e(!1);var n=ul(),o=p(n),a=f(p(o),2),i=f(o,2);{var s=c=>{var l=cl(),u=p(l);Ut(u,()=>t.children),z(c,l)};de(i,c=>{h(r)&&c(s)})}ne(()=>{Be(o,1,`flex w-full cursor-pointer items-center justify-between px-4 py-3 text-left text-sm font-medium text-gray-900 hover:bg-gray-50 ${h(r)?"border-b border-gray-200":""}`),Be(a,0,`h-5 w-5 transform transition-transform ${h(r)?"rotate-180":""}`)}),qe("click",o,()=>he(r,!h(r))),z(e,n)}ht(["click"]);var dl=N('<div class="mb-4 flex gap-2"><span> </span> <span> </span></div>');function pt(e,t){var r=dl(),n=p(r),o=p(n),a=f(n,2),i=p(a);ne(()=>{Be(n,1,`rounded px-2.5 py-0.5 text-xs font-medium ${t.hasErrors?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`),q(o,t.hasErrors?"Has Errors":"Valid"),Be(a,1,`rounded px-2.5 py-0.5 text-xs font-medium ${t.isDirty?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`),q(i,t.isDirty?"Modified":"Clean")}),z(e,r)}const ce=()=>Math.random().toString(36).slice(2,8),Ye=(e,t)=>Math.floor(Math.random()*(t-e+1))+e;var fl=N('<div class="mt-4 rounded-lg border border-red-200 bg-red-50 p-3"><div class="flex items-center gap-2"><svg class="h-5 w-5 text-red-500" fill="currentColor" viewBox="0 0 20 20"><path clip-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" fill-rule="evenodd"></path></svg> <span class="text-sm font-medium text-red-800"> </span></div></div>'),pl=N('<div class="mt-4 rounded-lg border border-green-200 bg-green-50 p-3"><div class="flex items-center gap-2"><svg class="h-5 w-5 text-green-500" fill="currentColor" viewBox="0 0 20 20"><path clip-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" fill-rule="evenodd"></path></svg> <span class="text-sm font-medium text-green-800"> </span></div></div>'),ml=N('<span class="inline-flex items-center gap-2"><svg class="h-4 w-4 animate-spin" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" fill="currentColor"></path></svg> Submitting...</span>'),vl=N('<!> <div class="mb-4 flex items-center gap-2"><span> </span></div> <div class="space-y-4"><!> <!> <div class="flex items-center gap-2"><input id="simulateError" class="h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-50" type="checkbox"/> <label class="text-sm text-gray-700" for="simulateError">Simulate server error</label></div></div> <!> <!> <div class="mt-6"><button class="w-full cursor-pointer rounded-lg bg-green-600 px-4 py-2 text-sm font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 disabled:cursor-not-allowed disabled:opacity-50" type="button"><!></button></div>',1),hl=N('<div class="w-full flex-shrink-0 space-y-4 xl:w-80"><!> <div class="rounded-lg border border-gray-300 bg-gray-50 p-4 shadow-inner"><h6 class="mb-2 text-sm font-medium text-gray-700">Action State</h6> <div class="space-y-1 text-xs text-gray-600"><div><span class="font-medium">actionInProgress:</span> </div> <div><span class="font-medium">actionError:</span> </div></div></div></div>'),gl=N("<!> <!> <!>",1);function _l(e,t){Re(t,!0);const r=()=>X(_,"$hasErrors",s),n=()=>X(g,"$isDirty",s),o=()=>X(w,"$actionInProgress",s),a=()=>X(b,"$errors",s),i=()=>X(R,"$actionError",s),[s,c]=lt(),l={title:`Task ${ce()}`,description:`This is a sample task description with ID ${ce()}`};let u=$e(!1),m=$e(void 0);const{data:d,execute:v,state:{errors:b,hasErrors:_,isDirty:g,actionInProgress:w,actionError:R}}=ct(l,{validator:D=>({title:se(D.title).prepare("trim").required().minLength(3).maxLength(50).getError(),description:se(D.description).prepare("trim").required().minLength(10).maxLength(200).getError()}),action:async()=>{const D=Ye(100,1e3);if(await new Promise(F=>setTimeout(F,D)),h(u))throw new Error(`Simulated server error after ${D}ms`);he(m,`Submitted successfully in ${D}ms!`)},actionCompleted:D=>{D&&he(m,void 0)}}),A=()=>{d.title=`Task ${ce()}`,d.description=`This is a sample task description with ID ${ce()}`},k=()=>{he(m,void 0),v()},O=`const { data, execute, state: { errors, hasErrors, isDirty, actionInProgress, actionError } } =
  createSvState(sourceData, {
    validator: (source) => ({
      title: stringValidator(source.title).prepare('trim').required().minLength(3).maxLength(50).getError(),
      description: stringValidator(source.description).prepare('trim').required().minLength(10).getError()
    }),
    action: async () => {
      // Simulate API call with 100-1000ms delay
      const delay = randomInt(100, 1000);
      await new Promise((resolve) => setTimeout(resolve, delay));

      if (shouldFail) {
        throw new Error('Simulated server error');
      }
    },
    actionCompleted: (error) => {
      // Called after action completes (success or failure)
      console.log(error ? 'Action failed' : 'Action succeeded');
    }
  });`,P=`// Execute the action
<button onclick={() => execute()} disabled={$hasErrors || $actionInProgress}>
  {$actionInProgress ? 'Submitting...' : 'Submit'}
</button>

// With parameters (if action accepts them)
execute({ userId: 123 });`,I=`// Display action error
{#if $actionError}
  <div class="error">
    {$actionError.message}
  </div>
{/if}

// Check if action is in progress
{#if $actionInProgress}
  <div class="loading">Submitting...</div>
{/if}`;dt(e,{description:"Demonstrates async action execution with loading states and error handling.",title:"Action Demo",main:Y=>{var K=vl(),T=fe(K);pt(T,{get hasErrors(){return r()},get isDirty(){return n()}});var C=f(T,2),j=p(C),E=p(j),M=f(C,2),Z=p(M);{let G=U(()=>a()?.title);ae(Z,{id:"title",get disabled(){return o()},get error(){return h(G)},label:"Title",placeholder:"Enter task title",get value(){return d.title},set value(_e){d.title=_e}})}var B=f(Z,2);{let G=U(()=>a()?.description);ae(B,{id:"description",get disabled(){return o()},get error(){return h(G)},label:"Description",placeholder:"Enter task description (min 10 characters)",get value(){return d.description},set value(_e){d.description=_e}})}var H=f(B,2),Q=p(H),te=f(M,2);{var oe=G=>{var _e=fl(),Ie=p(_e),Ze=f(p(Ie),2),rt=p(Ze);ne(()=>q(rt,i().message)),z(G,_e)};de(te,G=>{i()&&G(oe)})}var re=f(te,2);{var x=G=>{var _e=pl(),Ie=p(_e),Ze=f(p(Ie),2),rt=p(Ze);ne(()=>q(rt,h(m))),z(G,_e)};de(re,G=>{h(m)&&G(x)})}var $=f(re,2),S=p($),V=p(S);{var ee=G=>{var _e=ml();z(G,_e)},J=G=>{var _e=Mn("Submit");z(G,_e)};de(V,G=>{o()?G(ee):G(J,!1)})}ne(()=>{Be(j,1,`rounded px-2.5 py-0.5 text-xs font-medium ${o()?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`),q(E,o()?"In Progress":"Idle"),Q.disabled=o(),S.disabled=r()||o()}),Kr(Q,()=>h(u),G=>he(u,G)),qe("click",S,k),z(Y,K)},sidebar:Y=>{var K=hl(),T=p(K);ut(T,{get data(){return d},get errors(){return a()},get hasErrors(){return r()},get isDirty(){return n()},onFill:A});var C=f(T,2),j=f(p(C),2),E=p(j),M=f(p(E)),Z=f(E,2),B=f(p(Z));ne(()=>{q(M,` ${o()??""}`),q(B,` ${i()?.message??"none"??""}`)}),z(Y,K)},sourceCode:Y=>{ft(Y,{children:(K,T)=>{var C=gl(),j=fe(C);me(j,{code:O,title:"State Setup with Action"});var E=f(j,2);me(E,{code:P,title:"Execute Action"});var M=f(E,2);me(M,{code:I,title:"Error & Loading States"}),z(K,C)}})}}),Le(),c()}ht(["click"]);var bl=N('<div class="rounded-lg border border-gray-200 bg-gray-50 p-4"><div class="mb-3 flex items-center justify-between"><span class="text-xs font-medium text-gray-500"> </span> <button class="cursor-pointer rounded px-2 py-1 text-xs text-red-600 hover:bg-red-50 hover:text-red-700" type="button">Remove</button></div> <!></div>');function yl(e,t){let r=Ve(t,"label",3,"Item");var n=bl(),o=p(n),a=p(o),i=p(a),s=f(a,2),c=f(o,2);Ut(c,()=>t.children),ne(()=>q(i,`${r()??""} #${t.index+1}`)),qe("click",s,function(...l){t.onRemove?.apply(this,l)}),z(e,n)}ht(["click"]);var wl=N('<div class="rounded-lg border-2 border-dashed border-gray-300 p-6 text-center"><p class="text-sm text-gray-500"> </p></div>');function xl(e,t){var r=wl(),n=p(r),o=p(n);ne(()=>q(o,t.message)),z(e,r)}var El=N('<div class="mb-3"><!></div>'),$l=N('<div class="grid grid-cols-1 gap-3 sm:grid-cols-2"><div><label class="mb-1 block text-xs font-bold text-gray-700">Name</label> <input placeholder="Enter name" type="text"/> <!></div> <div><label class="mb-1 block text-xs font-bold text-gray-700">Email</label> <input placeholder="Enter email" type="email"/> <!></div></div>'),kl=N('<div class="space-y-3"></div>'),Sl=N('<!> <div class="space-y-6"><!> <div><div class="mb-3 flex items-center justify-between border-b border-gray-200 pb-2"><h6 class="text-sm font-semibold text-gray-700">Contacts <span class="ml-2 rounded bg-gray-100 px-2 py-0.5 text-xs font-normal text-gray-600"> </span></h6> <button class="cursor-pointer rounded-lg bg-green-600 px-3 py-1.5 text-xs font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500" type="button">+ Add Contact</button></div> <!> <!></div></div>',1),zl=N("<!> <!>",1);function Al(e,t){Re(t,!0);const r=()=>X(u,"$hasErrors",a),n=()=>X(m,"$isDirty",a),o=()=>X(l,"$errors",a),[a,i]=lt(),s={listName:"",items:[]},{data:c,state:{errors:l,hasErrors:u,isDirty:m}}=ct(s,{validator:w=>({listName:se(w.listName).prepare("trim").required().minLength(2).getError(),items:Xs(w.items).required().minLength(1).getError(),...Object.fromEntries(w.items.map((R,A)=>[`item_${A}`,{name:se(R.name).prepare("trim").required().minLength(2).getError(),email:se(R.email).prepare("trim").required().email().getError()}]))})}),d=()=>{c.items=[...c.items,{name:"",email:""}]},v=w=>{c.items=c.items.filter((R,A)=>A!==w)},b=()=>{c.listName=`Contact List ${ce()}`,c.items=[{name:"John Doe",email:"john@example.com"},{name:"Jane Smith",email:"jane@example.com"},{name:"Bob Wilson",email:"bob@example.com"}]},_=`const sourceData = {
  listName: '',
  items: [] as { name: string; email: string }[]
};

const { data, state: { errors, hasErrors, isDirty } } = createSvState(sourceData, {
  validator: (source) => ({
    listName: stringValidator(source.listName).prepare('trim').required().minLength(2).getError(),
    items: arrayValidator(source.items).required().minLength(1).getError(),
    // Per-item validation using indexed keys
    ...Object.fromEntries(
      source.items.map((item, index) => [
        \`item_\${index}\`,
        {
          name: stringValidator(item.name).prepare('trim').required().minLength(2).getError(),
          email: stringValidator(item.email).prepare('trim').required().email().getError()
        }
      ])
    )
  })
});`,g=`// Define type for item errors
type ItemErrors = Record<string, { name?: string; email?: string }>;

{#each data.items as item, index}
  <input bind:value={item.name} />
  <ErrorText error={($errors as ItemErrors)?.[...\`item_\${index}\`]?.name ?? ''} />

  <input bind:value={item.email} />
  <ErrorText error={($errors as ItemErrors)?.[...\`item_\${index}\`]?.email ?? ''} />
{/each}`;dt(e,{description:"Shows how to validate dynamic arrays with per-item validation using indexed error keys.",title:"Array Property Demo",main:k=>{var O=Sl(),P=fe(O);pt(P,{get hasErrors(){return r()},get isDirty(){return n()}});var I=f(P,2),D=p(I);{let H=U(()=>o()?.listName);ae(D,{id:"listName",get error(){return h(H)},label:"List Name",placeholder:"Enter list name",get value(){return c.listName},set value(Q){c.listName=Q}})}var F=f(D,2),W=p(F),Y=p(W),K=f(p(Y)),T=p(K),C=f(Y,2),j=f(W,2);{var E=H=>{var Q=El(),te=p(Q);Sr(te,{get error(){return o().items}}),z(H,Q)};de(j,H=>{o()?.items&&H(E)})}var M=f(j,2);{var Z=H=>{xl(H,{message:'No contacts yet. Click "Add Contact" to get started.'})},B=H=>{var Q=kl();an(Q,21,()=>c.items,Vn,(te,oe,re)=>{yl(te,{index:re,label:"Contact",onRemove:()=>v(re),children:(x,$)=>{var S=$l(),V=p(S),ee=p(V);Oe(ee,"for",`item-name-${re}`);var J=f(ee,2);Oe(J,"id",`item-name-${re}`);var G=f(J,2);{let Ae=U(()=>o()?.[`item_${re}`]?.name??"");Sr(G,{get error(){return h(Ae)}})}var _e=f(V,2),Ie=p(_e);Oe(Ie,"for",`item-email-${re}`);var Ze=f(Ie,2);Oe(Ze,"id",`item-email-${re}`);var rt=f(Ze,2);{let Ae=U(()=>o()?.[`item_${re}`]?.email??"");Sr(rt,{get error(){return h(Ae)}})}ne(()=>{Be(J,1,`block w-full rounded-lg border p-2 text-sm ${o()?.[`item_${re}`]?.name?"border-red-500 bg-red-50 text-red-900 placeholder-red-400":"border-gray-300 bg-white text-gray-900"}`),Be(Ze,1,`block w-full rounded-lg border p-2 text-sm ${o()?.[`item_${re}`]?.email?"border-red-500 bg-red-50 text-red-900 placeholder-red-400":"border-gray-300 bg-white text-gray-900"}`)}),Dr(J,()=>h(oe).name,Ae=>h(oe).name=Ae),Dr(Ze,()=>h(oe).email,Ae=>h(oe).email=Ae),z(x,S)},$$slots:{default:!0}})}),z(H,Q)};de(M,H=>{c.items.length===0?H(Z):H(B,!1)})}ne(()=>q(T,`${c.items.length??""} items`)),qe("click",C,d),z(k,O)},sidebar:k=>{ut(k,{get data(){return c},get errors(){return o()},get hasErrors(){return r()},get isDirty(){return n()},onFill:b,width:"xl:w-96"})},sourceCode:k=>{ft(k,{children:(O,P)=>{var I=zl(),D=fe(I);me(D,{code:_,title:"State Setup with Array Item Validation"});var F=f(D,2);me(F,{code:g,title:"Array Form Binding Examples"}),z(O,I)}})}}),Le(),i()}ht(["click"]);Fi();var Dl=N('<div class="absolute right-3 top-9"><svg class="h-5 w-5 animate-spin text-blue-500" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" fill="currentColor"></path></svg></div>'),Nl=N('<div class="absolute right-3 top-9"><svg class="h-5 w-5 animate-spin text-blue-500" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" fill="currentColor"></path></svg></div>'),Ol=N('<div class="absolute right-3 top-9"><svg class="h-5 w-5 animate-spin text-blue-500" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" fill="currentColor"></path></svg></div>'),Cl=N('<span class="inline-flex items-center gap-2"><svg class="h-4 w-4 animate-spin" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" fill="currentColor"></path></svg> Validating...</span>'),Pl=N('<!> <div class="mb-4 flex flex-wrap items-center gap-2"><span> </span> <span> </span></div> <div class="space-y-4"><div class="relative"><!> <!></div> <div class="relative"><!> <!></div> <div class="relative"><!> <!></div></div> <div class="mt-4 rounded-lg border border-blue-200 bg-blue-50 p-3"><div class="text-sm text-blue-800"><span class="font-medium">Taken usernames:</span> </div> <div class="mt-1 text-sm text-blue-800"><span class="font-medium">Taken emails:</span> </div> <div class="mt-1 text-sm text-blue-800"><span class="font-medium">Taken slugs:</span> </div></div> <div class="mt-4 rounded-lg border border-amber-200 bg-amber-50 p-3"><div class="text-sm text-amber-800"><span class="font-medium">Concurrency limit:</span> maxConcurrentAsyncValidations = 2</div> <div class="mt-1 text-xs text-amber-700">Only 2 async validations run simultaneously. Try filling all 3 fields at once to see queuing in action.</div></div> <div class="mt-6 flex gap-2"><button class="flex-1 cursor-pointer rounded-lg bg-green-600 px-4 py-2 text-sm font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 disabled:cursor-not-allowed disabled:opacity-50" type="button"><!></button></div>',1),Tl=N('<div class="w-full flex-shrink-0 space-y-4 xl:w-80"><!> <div class="rounded-lg border border-gray-300 bg-gray-50 p-4 shadow-inner"><h6 class="mb-2 text-sm font-medium text-gray-700">Quick Fill</h6> <button class="w-full cursor-pointer rounded bg-orange-100 px-3 py-1.5 text-sm text-orange-800 hover:bg-orange-200" type="button">Fill with taken values</button></div> <div class="rounded-lg border border-gray-300 bg-gray-50 p-4 shadow-inner"><h6 class="mb-2 text-sm font-medium text-gray-700">Async Validation State</h6> <div class="space-y-1 text-xs text-gray-600"><div><span class="font-medium">asyncValidating:</span> </div> <div><span class="font-medium">hasAsyncErrors:</span> </div> <div><span class="font-medium">hasCombinedErrors:</span> </div></div></div> <div class="rounded-lg border border-gray-300 bg-gray-50 p-4 shadow-inner"><h6 class="mb-2 text-sm font-medium text-gray-700">Async Errors</h6> <pre class="overflow-auto text-xs text-gray-600"> </pre></div></div>'),Il=N("<!> <!> <!>",1);function Zl(e,t){Re(t,!1);const r=()=>X(R,"$hasErrors",l),n=()=>X(A,"$isDirty",l),o=()=>X(O,"$hasAsyncErrors",l),a=()=>X(I,"$hasCombinedErrors",l),i=()=>X(w,"$errors",l),s=()=>X(k,"$asyncErrors",l),c=()=>X(P,"$asyncValidating",l),[l,u]=lt(),m=["admin","user","test","demo","root"],d=["admin@example.com","test@example.com","user@example.com"],v=["admin","about","contact","help","support"],_=ct({username:"",email:"",slug:""},{validator:T=>({username:se(T.username).prepare("trim").required().minLength(3).maxLength(20).noSpace().getError(),email:se(T.email).prepare("trim").required().email().getError(),slug:se(T.slug).prepare("trim").required().minLength(2).slug().getError()}),asyncValidator:{username:async(T,C,j)=>{await new Promise((M,Z)=>{const B=setTimeout(M,500);j.addEventListener("abort",()=>{clearTimeout(B),Z(new DOMException("Aborted","AbortError"))})});const E=String(T).toLowerCase();return m.includes(E)?"Username is already taken":""},email:async(T,C,j)=>{await new Promise((M,Z)=>{const B=setTimeout(M,400);j.addEventListener("abort",()=>{clearTimeout(B),Z(new DOMException("Aborted","AbortError"))})});const E=String(T).toLowerCase();return d.includes(E)?"Email is already registered":""},slug:async(T,C,j)=>{await new Promise((M,Z)=>{const B=setTimeout(M,600);j.addEventListener("abort",()=>{clearTimeout(B),Z(new DOMException("Aborted","AbortError"))})});const E=String(T).toLowerCase();return v.includes(E)?"URL slug is already in use":""}}},{maxConcurrentAsyncValidations:2}),g=Cn(_.data),w=_.state.errors,R=_.state.hasErrors,A=_.state.isDirty,k=_.state.asyncErrors,O=_.state.hasAsyncErrors,P=_.state.asyncValidating,I=_.state.hasCombinedErrors,D=()=>{gt(g,h(g).username=`newuser${ce()}`),gt(g,h(g).email=`${ce()}@example.com`),gt(g,h(g).slug=`my-page-${ce()}`)},F=()=>{gt(g,h(g).username="admin"),gt(g,h(g).email="admin@example.com"),gt(g,h(g).slug="about")},W=`const { data, state: { errors, asyncErrors, asyncValidating, hasCombinedErrors } } =
  createSvState(sourceData, {
    validator: (source) => ({
      username: stringValidator(source.username).required().minLength(3).noSpace().getError(),
      email: stringValidator(source.email).required().email().getError(),
      slug: stringValidator(source.slug).required().minLength(2).slug().getError()
    }),
    asyncValidator: {
      username: async (value, source, signal) => {
        const res = await fetch(\`/api/check-username?u=\${value}\`, { signal });
        return (await res.json()).available ? '' : 'Username already taken';
      },
      email: async (value, source, signal) => {
        const res = await fetch(\`/api/check-email?e=\${value}\`, { signal });
        return (await res.json()).available ? '' : 'Email already registered';
      },
      slug: async (value, source, signal) => {
        const res = await fetch(\`/api/check-slug?s=\${value}\`, { signal });
        return (await res.json()).available ? '' : 'URL slug already in use';
      }
    }
  },
  { maxConcurrentAsyncValidations: 2 } // Only 2 async validations run at a time
);`,Y=`<!-- Show loading spinner when validating -->
{#if $asyncValidating.includes('username')}
  <span class="animate-spin">...</span>
{/if}

<!-- Show async error -->
{#if $asyncErrors.username}
  <span class="text-red-500">{$asyncErrors.username}</span>
{/if}

<!-- Disable submit when any errors -->
<button disabled={$hasCombinedErrors}>Submit</button>`,K=`// Available stores for async validation:
$errors          // Sync validation errors (nested object)
$hasErrors       // true if any sync errors

$asyncErrors     // Async validation errors (flat map by path)
$hasAsyncErrors  // true if any async errors

$asyncValidating // Array of paths currently being validated
$hasCombinedErrors // hasErrors || hasAsyncErrors`;Ms(),dt(e,{description:"Demonstrates async validation with simulated API calls for username and email uniqueness checks.",title:"Async Validation Demo",main:E=>{var M=Pl(),Z=fe(M);pt(Z,{get hasErrors(){return r()},get isDirty(){return n()}});var B=f(Z,2),H=p(B),Q=p(H),te=f(H,2),oe=p(te),re=f(B,2),x=p(re),$=p(x);{let ge=or(()=>i()?.username||s().username);ae($,{id:"username",get error(){return h(ge)},label:"Username",placeholder:"Enter username (try 'admin', 'user', 'test')",get value(){return h(g).username},set value(De){gt(g,h(g).username=De)},$$legacy:!0})}var S=f($,2);{var V=ge=>{var De=Dl();z(ge,De)},ee=U(()=>c().includes("username"));de(S,ge=>{h(ee)&&ge(V)})}var J=f(x,2),G=p(J);{let ge=or(()=>i()?.email||s().email);ae(G,{id:"email",get error(){return h(ge)},label:"Email",placeholder:"Enter email (try 'admin@example.com')",type:"email",get value(){return h(g).email},set value(De){gt(g,h(g).email=De)},$$legacy:!0})}var _e=f(G,2);{var Ie=ge=>{var De=Nl();z(ge,De)},Ze=U(()=>c().includes("email"));de(_e,ge=>{h(Ze)&&ge(Ie)})}var rt=f(J,2),Ae=p(rt);{let ge=or(()=>i()?.slug||s().slug);ae(Ae,{id:"slug",get error(){return h(ge)},label:"URL Slug",placeholder:"Enter slug (try 'admin', 'about', 'contact')",get value(){return h(g).slug},set value(De){gt(g,h(g).slug=De)},$$legacy:!0})}var vr=f(Ae,2);{var hr=ge=>{var De=Ol();z(ge,De)},gr=U(()=>c().includes("slug"));de(vr,ge=>{h(gr)&&ge(hr)})}var le=f(re,2),ke=p(le),Zt=f(p(ke)),kt=f(ke,2),_r=f(p(kt)),ni=f(kt,2),oi=f(p(ni)),ai=f(le,4),Yn=p(ai),ii=p(Yn);{var si=ge=>{var De=Cl();z(ge,De)},li=ge=>{var De=Mn("Submit");z(ge,De)};de(ii,ge=>{c().length>0?ge(si):ge(li,!1)})}ne((ge,De,ci)=>{Be(H,1,`rounded px-2.5 py-0.5 text-xs font-medium ${o()?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`),q(Q,`Async Errors: ${o()?"Yes":"No"}`),Be(te,1,`rounded px-2.5 py-0.5 text-xs font-medium ${a()?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`),q(oe,`Combined: ${a()?"Has Errors":"Valid"}`),q(Zt,` ${ge??""}`),q(_r,` ${De??""}`),q(oi,` ${ci??""}`),Yn.disabled=a()||c().length>0},[()=>m.join(", "),()=>d.join(", "),()=>v.join(", ")]),z(E,M)},sidebar:E=>{var M=Tl(),Z=p(M);ut(Z,{get data(){return h(g)},get errors(){return i()},get hasErrors(){return r()},get isDirty(){return n()},onFill:D});var B=f(Z,2),H=f(p(B),2),Q=f(B,2),te=f(p(Q),2),oe=p(te),re=f(p(oe)),x=f(oe,2),$=f(p(x)),S=f(x,2),V=f(p(S)),ee=f(Q,2),J=f(p(ee),2),G=p(J);ne((_e,Ie)=>{q(re,` [${_e??""}]`),q($,` ${o()??""}`),q(V,` ${a()??""}`),q(G,Ie)},[()=>c().join(", "),()=>JSON.stringify(s(),void 0,2)]),qe("click",H,F),z(E,M)},sourceCode:E=>{ft(E,{children:(M,Z)=>{var B=Il(),H=fe(B);me(H,{code:W,title:"State Setup with Async Validators"});var Q=f(H,2);me(Q,{code:Y,title:"Template Usage"});var te=f(Q,2);me(te,{code:K,title:"Available Stores"}),z(M,B)}})}}),Le(),u()}ht(["click"]);var jl=N('<span class="ml-1 inline-block h-2 w-2 rounded-full bg-amber-400" title="Modified"></span>'),Rl=N("<div><label> <!></label> <textarea></textarea> <!></div>");function sn(e,t){Re(t,!0);let r=Ve(t,"placeholder",3,""),n=Ve(t,"value",15),o=Ve(t,"error",3,""),a=Ve(t,"required",3,!1),i=Ve(t,"rows",3,3);var s=Rl(),c=p(s),l=p(c),u=f(l);{var m=b=>{var _=jl();z(b,_)};de(u,b=>{t.isDirty&&b(m)})}var d=f(c,2),v=f(d,2);{let b=U(()=>o()??"");Sr(v,{get error(){return h(b)}})}ne(()=>{Be(c,1,`mb-2 block text-sm text-gray-900 ${a()?"font-bold":""}`),Oe(c,"for",t.id),q(l,`${t.label??""} `),Oe(d,"id",t.id),Be(d,1,`block w-full rounded-lg border p-2.5 text-sm ${o()?"border-red-500 bg-red-50 text-red-900 placeholder-red-400 focus:border-red-500 focus:ring-red-500":"border-gray-300 bg-gray-50 text-gray-900 focus:border-blue-500 focus:ring-blue-500"}`),Oe(d,"placeholder",r()),Oe(d,"rows",i())}),Dr(d,n),z(e,s),Le()}var Ll=N('<!> <div class="space-y-4"><!> <!> <!> <!> <!></div>',1),Ml=N("<!> <!>",1);function Fl(e,t){Re(t,!0);const r=()=>X(m,"$hasErrors",i),n=()=>X(d,"$isDirty",i),o=()=>X(u,"$errors",i),a=()=>X(v,"$isDirtyByField",i),[i,s]=lt(),c={username:"",email:"",age:0,bio:"",website:""},{data:l,state:{errors:u,hasErrors:m,isDirty:d,isDirtyByField:v}}=ct(c,{validator:w=>({username:se(w.username).prepare("trim").required().minLength(3).maxLength(20).noSpace().getError(),email:se(w.email).prepare("trim").required().email().getError(),age:Nr(w.age).required().min(18).max(120).integer().getError(),bio:se(w.bio).maxLength(200).getError(),website:se(w.website).prepare("trim").website("required").getError()})}),b=()=>{l.username=`user${ce()}`,l.email=`${ce()}@example.com`,l.age=Ye(18,65),l.bio="Hello, I am a demo user!",l.website=`https://${ce()}.com`},_=`const sourceData = {
  username: '',
  email: '',
  age: 0,
  bio: '',
  website: ''
};

const { data, state: { errors, hasErrors, isDirty, isDirtyByField } } = createSvState(sourceData, {
  validator: (source) => ({
    username: stringValidator(source.username).prepare('trim').required().minLength(3).maxLength(20).noSpace().getError(),
    email: stringValidator(source.email).prepare('trim').required().email().getError(),
    age: numberValidator(source.age).required().min(18).max(120).integer().getError(),
    bio: stringValidator(source.bio).maxLength(200).getError(),
    website: stringValidator(source.website).prepare('trim').website('required').getError()
  })
});`,g=`<input
  id="username"
  type="text"
  placeholder="Enter username"
  class="... {$errors?.username ? 'error-styles' : 'normal-styles'}"
  bind:value={data.username}
/>
<ErrorText error={$errors?.username ?? ''} />`;dt(e,{description:"Demonstrates form validation with string, number, and email validators using the fluent API.",title:"Basic Validation Demo",main:k=>{var O=Ll(),P=fe(O);pt(P,{get hasErrors(){return r()},get isDirty(){return n()}});var I=f(P,2),D=p(I);{let T=U(()=>o()?.username);ae(D,{id:"username",get error(){return h(T)},get isDirty(){return a().username},label:"Username",placeholder:"Enter username",get value(){return l.username},set value(C){l.username=C}})}var F=f(D,2);{let T=U(()=>o()?.email);ae(F,{id:"email",get error(){return h(T)},get isDirty(){return a().email},label:"Email",placeholder:"Enter email",type:"email",get value(){return l.email},set value(C){l.email=C}})}var W=f(F,2);{let T=U(()=>o()?.age);ae(W,{id:"age",get error(){return h(T)},get isDirty(){return a().age},label:"Age",placeholder:"Enter age",type:"number",get value(){return l.age},set value(C){l.age=C}})}var Y=f(W,2);{let T=U(()=>o()?.bio);sn(Y,{id:"bio",get error(){return h(T)},get isDirty(){return a().bio},label:"Bio",placeholder:"Tell us about yourself",get value(){return l.bio},set value(C){l.bio=C}})}var K=f(Y,2);{let T=U(()=>o()?.website);ae(K,{id:"website",get error(){return h(T)},get isDirty(){return a().website},label:"Website",placeholder:"https://example.com",required:!1,get value(){return l.website},set value(C){l.website=C}})}z(k,O)},sidebar:k=>{ut(k,{get data(){return l},get errors(){return o()},get hasErrors(){return r()},get isDirty(){return n()},get isDirtyByField(){return a()},onFill:b})},sourceCode:k=>{ft(k,{children:(O,P)=>{var I=Ml(),D=fe(I);me(D,{code:_,title:"State Setup"});var F=f(D,2);me(F,{code:g,title:"Form Binding Example"}),z(O,I)}})}}),Le(),s()}var Vl=N('<span class="font-normal text-gray-500"> </span>'),ql=N('<h6 class="mb-3 border-b border-gray-200 pb-2 text-sm font-semibold text-gray-700"> <!> <!></h6>');function Bt(e,t){var r=ql(),n=p(r),o=f(n);{var a=c=>{var l=Vl(),u=p(l);ne(()=>q(u,`(${t.subtitle??""})`)),z(c,l)};de(o,c=>{t.subtitle&&c(a)})}var i=f(o,2);{var s=c=>{var l=qt(),u=fe(l);Ut(u,()=>t.children),z(c,l)};de(i,c=>{t.children&&c(s)})}ne(()=>q(n,`${t.title??""} `)),z(e,r)}var Ul=N('<!> <div class="space-y-6"><!> <div><!> <div class="grid grid-cols-1 gap-4 sm:grid-cols-2"><!> <!></div></div> <div><!> <div class="rounded-lg border border-purple-200 bg-purple-50 p-4"><div class="space-y-2"><div class="flex justify-between text-sm"><span class="text-gray-600">Subtotal:</span> <span class="font-medium text-gray-900"> </span></div> <div class="flex justify-between text-sm"><span class="text-gray-600">Tax (8%):</span> <span class="font-medium text-gray-900"> </span></div> <div class="flex justify-between border-t border-purple-200 pt-2 text-base"><span class="font-semibold text-gray-700">Total:</span> <span class="font-bold text-purple-600"> </span></div></div></div> <p class="mt-2 text-xs text-gray-500">Values formatted using methods on state: <code class="rounded bg-gray-100 px-1">data.formatCurrency()</code> and <code class="rounded bg-gray-100 px-1">data.formatTotal()</code></p></div></div>',1),Bl=N("<!> <!> <!>",1);function Jl(e,t){Re(t,!0);const r=()=>X(m,"$hasErrors",a),n=()=>X(d,"$isDirty",a),o=()=>X(u,"$errors",a),[a,i]=lt(),s=.08,c=()=>({productName:`Widget ${ce()}`,item:{unitPrice:0,quantity:1},subtotal:0,tax:0,total:0,formatTotal(){return`$${this.total.toFixed(2)}`},formatCurrency(w){return`$${w.toFixed(2)}`},calculateTotals(w=s){this.subtotal=this.item.unitPrice*this.item.quantity,this.tax=this.subtotal*w,this.total=this.subtotal+this.tax}}),{data:l,state:{errors:u,hasErrors:m,isDirty:d}}=ct(c(),{validator:w=>({productName:se(w.productName).prepare("trim").required().minLength(2).getError(),item:{unitPrice:Nr(w.item.unitPrice).required().positive().getError(),quantity:Nr(w.item.quantity).required().integer().min(1).max(100).getError()}}),effect:({property:w})=>{(w==="item.unitPrice"||w==="item.quantity")&&l.calculateTotals()}}),v=()=>{l.productName=`Widget ${ce()}`,l.item.unitPrice=Ye(10,100),l.item.quantity=Ye(1,10)},b=`// Define state type with methods
type SourceData = {
  productName: string;
  item: { unitPrice: number; quantity: number };
  subtotal: number;
  tax: number;
  total: number;
  formatTotal: () => string;
  formatCurrency: (value: number) => string;
  calculateTotals: (taxRate?: number) => void;
};

// Create initial state as object with methods
const createSourceData = (): SourceData => ({
  productName: '',
  item: { unitPrice: 0, quantity: 1 },
  subtotal: 0,
  tax: 0,
  total: 0,
  formatTotal() {
    return \`$\${this.total.toFixed(2)}\`;
  },
  formatCurrency(value: number) {
    return \`$\${value.toFixed(2)}\`;
  },
  calculateTotals(taxRate: number = 0.08) {
    this.subtotal = this.item.unitPrice * this.item.quantity;
    this.tax = this.subtotal * taxRate;
    this.total = this.subtotal + this.tax;
  }
});`,_=`const { data, state: { errors, hasErrors, isDirty } } = createSvState(createSourceData(), {
  validator: (source) => ({
    productName: stringValidator(source.productName).prepare('trim').required().minLength(2).getError(),
    item: {
      unitPrice: numberValidator(source.item.unitPrice).required().positive().getError(),
      quantity: numberValidator(source.item.quantity).required().integer().min(1).max(100).getError()
    }
  }),
  effect: ({ property }) => {
    if (property === 'item.unitPrice' || property === 'item.quantity') {
      data.calculateTotals();  // Call method on state object!
    }
  }
});`,g=`<!-- Use class methods for formatting -->
<span>{data.formatCurrency(data.subtotal)}</span>
<span>{data.formatTotal()}</span>`;dt(e,{description:"Demonstrates using objects with methods as state. The effect callback can call methods directly on the state object.",title:"State with Methods Demo",main:k=>{var O=Ul(),P=fe(O);pt(P,{get hasErrors(){return r()},get isDirty(){return n()}});var I=f(P,2),D=p(I);{let S=U(()=>o()?.productName);ae(D,{id:"productName",get error(){return h(S)},label:"Product Name",placeholder:"Enter product name",get value(){return l.productName},set value(V){l.productName=V}})}var F=f(D,2),W=p(F);Bt(W,{subtitle:"nested object",title:"Item Details"});var Y=f(W,2),K=p(Y);{let S=U(()=>o()?.item?.unitPrice);ae(K,{id:"unitPrice",get error(){return h(S)},label:"Unit Price ($)",min:0,placeholder:"0.00",step:.01,type:"number",get value(){return l.item.unitPrice},set value(V){l.item.unitPrice=V}})}var T=f(K,2);{let S=U(()=>o()?.item?.quantity);ae(T,{id:"quantity",get error(){return h(S)},label:"Quantity",max:100,min:1,placeholder:"1",type:"number",get value(){return l.item.quantity},set value(V){l.item.quantity=V}})}var C=f(F,2),j=p(C);Bt(j,{subtitle:"computed by method",title:"Calculated Totals"});var E=f(j,2),M=p(E),Z=p(M),B=f(p(Z),2),H=p(B),Q=f(Z,2),te=f(p(Q),2),oe=p(te),re=f(Q,2),x=f(p(re),2),$=p(x);ne((S,V,ee)=>{q(H,S),q(oe,V),q($,ee)},[()=>l.formatCurrency(l.subtotal),()=>l.formatCurrency(l.tax),()=>l.formatTotal()]),z(k,O)},sidebar:k=>{ut(k,{get data(){return l},get errors(){return o()},get hasErrors(){return r()},get isDirty(){return n()},onFill:v})},sourceCode:k=>{ft(k,{children:(O,P)=>{var I=Bl(),D=fe(I);me(D,{code:b,title:"Class Definition"});var F=f(D,2);me(F,{code:_,title:"State Setup with Class Instance"});var W=f(F,2);me(W,{code:g,title:"Template Usage"}),z(O,I)}})}}),Le(),i()}var Wl=N('<!> <div class="space-y-6"><!> <div><!> <div class="grid grid-cols-1 gap-4 sm:grid-cols-2"><!> <!></div></div> <div><!> <div class="rounded-lg border border-blue-200 bg-blue-50 p-4"><div class="space-y-2"><div class="flex justify-between text-sm"><span class="text-gray-600">Subtotal:</span> <span class="font-medium text-gray-900"> </span></div> <div class="flex justify-between text-sm"><span class="text-gray-600">Tax (8%):</span> <span class="font-medium text-gray-900"> </span></div> <div class="flex justify-between border-t border-blue-200 pt-2 text-base"><span class="font-semibold text-gray-700">Total:</span> <span class="font-bold text-blue-600"> </span></div></div></div></div></div>',1),Kl=N("<!> <!>",1);function Hl(e,t){Re(t,!0);const r=()=>X(m,"$hasErrors",a),n=()=>X(d,"$isDirty",a),o=()=>X(u,"$errors",a),[a,i]=lt(),s=.08,c={productName:`Widget ${ce()}`,item:{unitPrice:0,quantity:1},subtotal:0,tax:0,total:0},{data:l,state:{errors:u,hasErrors:m,isDirty:d}}=ct(c,{validator:w=>({productName:se(w.productName).prepare("trim").required().minLength(2).getError(),item:{unitPrice:Nr(w.item.unitPrice).required().positive().getError(),quantity:Nr(w.item.quantity).required().integer().min(1).max(100).getError()}}),effect:({property:w})=>{(w==="item.unitPrice"||w==="item.quantity")&&(l.subtotal=l.item.unitPrice*l.item.quantity,l.tax=l.subtotal*s,l.total=l.subtotal+l.tax)}}),v=()=>{l.productName=`Widget ${ce()}`,l.item.unitPrice=Ye(10,100),l.item.quantity=Ye(1,10)},b=w=>`$${w.toFixed(2)}`,_=`const sourceData = {
  productName: '',
  item: { unitPrice: 0, quantity: 1 },
  subtotal: 0, tax: 0, total: 0  // Calculated fields (set by effect)
};

const TAX_RATE = 0.08;

const { data, state: { errors, hasErrors, isDirty } } = createSvState(sourceData, {
  validator: (source) => ({
    productName: stringValidator(source.productName).prepare('trim').required().minLength(2).getError(),
    item: {
      unitPrice: numberValidator(source.item.unitPrice).required().positive().getError(),
      quantity: numberValidator(source.item.quantity).required().integer().min(1).max(100).getError()
    }
  }),
  effect: ({ property }) => {
    if (property === 'item.unitPrice' || property === 'item.quantity') {
      data.subtotal = data.item.unitPrice * data.item.quantity;
      data.tax = data.subtotal * TAX_RATE;
      data.total = data.subtotal + data.tax;
    }
  }
});`,g=`effect: ({ property }) => {
  if (property === 'item.unitPrice' || property === 'item.quantity') {
    data.subtotal = data.item.unitPrice * data.item.quantity;
    data.tax = data.subtotal * TAX_RATE;
    data.total = data.subtotal + data.tax;
  }
}`;dt(e,{description:"Uses the effect callback to automatically compute derived values like subtotals, taxes, and totals.",title:"Calculated Fields Demo",main:k=>{var O=Wl(),P=fe(O);pt(P,{get hasErrors(){return r()},get isDirty(){return n()}});var I=f(P,2),D=p(I);{let S=U(()=>o()?.productName);ae(D,{id:"productName",get error(){return h(S)},label:"Product Name",placeholder:"Enter product name",get value(){return l.productName},set value(V){l.productName=V}})}var F=f(D,2),W=p(F);Bt(W,{subtitle:"nested object",title:"Item Details"});var Y=f(W,2),K=p(Y);{let S=U(()=>o()?.item?.unitPrice);ae(K,{id:"unitPrice",get error(){return h(S)},label:"Unit Price ($)",min:0,placeholder:"0.00",step:.01,type:"number",get value(){return l.item.unitPrice},set value(V){l.item.unitPrice=V}})}var T=f(K,2);{let S=U(()=>o()?.item?.quantity);ae(T,{id:"quantity",get error(){return h(S)},label:"Quantity",max:100,min:1,placeholder:"1",type:"number",get value(){return l.item.quantity},set value(V){l.item.quantity=V}})}var C=f(F,2),j=p(C);Bt(j,{subtitle:"computed by effect",title:"Calculated Totals"});var E=f(j,2),M=p(E),Z=p(M),B=f(p(Z),2),H=p(B),Q=f(Z,2),te=f(p(Q),2),oe=p(te),re=f(Q,2),x=f(p(re),2),$=p(x);ne((S,V,ee)=>{q(H,S),q(oe,V),q($,ee)},[()=>b(l.subtotal),()=>b(l.tax),()=>b(l.total)]),z(k,O)},sidebar:k=>{ut(k,{get data(){return l},get errors(){return o()},get hasErrors(){return r()},get isDirty(){return n()},onFill:v})},sourceCode:k=>{ft(k,{children:(O,P)=>{var I=Kl(),D=fe(I);me(D,{code:_,title:"State Setup with Effect"});var F=f(D,2);me(F,{code:g,title:"Effect Function"}),z(O,I)}})}}),Le(),i()}var Gl=N('<span class="font-normal normal-case"> </span>'),Yl=N('<span class="ml-1.5 inline-block h-2 w-2 rounded-full bg-amber-400" title="Modified"></span>'),Xl=N('<div class="rounded-lg border border-gray-200 bg-gray-50 p-4"><h6 class="mb-3 text-xs font-semibold uppercase tracking-wide text-gray-500"> <!> <!></h6> <!></div>');function Ql(e,t){var r=Xl(),n=p(r),o=p(n),a=f(o);{var i=u=>{var m=Gl(),d=p(m);ne(()=>q(d,`(${t.subtitle??""})`)),z(u,m)};de(a,u=>{t.subtitle&&u(i)})}var s=f(a,2);{var c=u=>{var m=Yl();z(u,m)};de(s,u=>{t.isDirty&&u(c)})}var l=f(n,2);Ut(l,()=>t.children),ne(()=>q(o,`${t.title??""} `)),z(e,r)}var ec=N('<span class="ml-1.5 inline-block h-2 w-2 rounded-full bg-amber-400" title="Modified"></span>'),tc=N('<span class="ml-1.5 inline-block h-2 w-2 rounded-full bg-amber-400" title="Modified"></span>'),rc=N('<span class="ml-1.5 inline-block h-2 w-2 rounded-full bg-amber-400" title="Modified"></span>'),nc=N('<div class="space-y-4"><!> <!></div>'),oc=N('<!> <div class="space-y-6"><div><!> <!></div> <div><!> <div class="space-y-4"><!> <div class="grid grid-cols-1 gap-4 sm:grid-cols-2"><!> <!></div></div></div> <div><!> <div class="space-y-4"><div class="grid grid-cols-1 gap-4 sm:grid-cols-2"><!> <!></div> <!></div></div></div>',1),ac=N("<!> <!>",1);function ic(e,t){Re(t,!0);const r=()=>X(m,"$hasErrors",i),n=()=>X(d,"$isDirty",i),o=()=>X(v,"$isDirtyByField",i),a=()=>X(u,"$errors",i),[i,s]=lt(),c={name:"",address:{street:"",city:"",zip:""},company:{name:"",department:"",contact:{phone:"",email:""}}},{data:l,state:{errors:u,hasErrors:m,isDirty:d,isDirtyByField:v}}=ct(c,{validator:w=>({name:se(w.name).prepare("trim").required().minLength(2).maxLength(50).getError(),address:{street:se(w.address.street).prepare("trim").required().minLength(5).getError(),city:se(w.address.city).prepare("trim").required().minLength(2).getError(),zip:se(w.address.zip).prepare("trim").required().minLength(5).maxLength(10).getError()},company:{name:se(w.company.name).prepare("trim").required().minLength(2).getError(),department:se(w.company.department).prepare("trim").maxLength(50).getError(),contact:{phone:se(w.company.contact.phone).prepare("trim").required().minLength(10).getError(),email:se(w.company.contact.email).prepare("trim").required().email().getError()}}})}),b=()=>{l.name=`John ${ce()}`,l.address.street=`${Ye(100,9999)} Main Street`,l.address.city="New York",l.address.zip=`${Ye(1e4,99999)}`,l.company.name=`Acme ${ce()} Inc`,l.company.department="Engineering",l.company.contact.phone=`555-${Ye(100,999)}-${Ye(1e3,9999)}`,l.company.contact.email=`contact@${ce()}.com`},_=`const sourceData = {
  name: '',
  address: { street: '', city: '', zip: '' },       // 2-level nested
  company: {                                         // 3-level nested
    name: '',
    department: '',
    contact: { phone: '', email: '' }
  }
};

const { data, state: { errors, hasErrors, isDirty, isDirtyByField } } = createSvState(sourceData, {
  validator: (source) => ({
    name: stringValidator(source.name).prepare('trim').required().minLength(2).maxLength(50).getError(),
    address: {
      street: stringValidator(source.address.street).prepare('trim').required().minLength(5).getError(),
      city: stringValidator(source.address.city).prepare('trim').required().minLength(2).getError(),
      zip: stringValidator(source.address.zip).prepare('trim').required().minLength(5).maxLength(10).getError()
    },
    company: {
      name: stringValidator(source.company.name).prepare('trim').required().minLength(2).getError(),
      department: stringValidator(source.company.department).prepare('trim').maxLength(50).getError(),
      contact: {
        phone: stringValidator(source.company.contact.phone).prepare('trim').required().minLength(10).getError(),
        email: stringValidator(source.company.contact.email).prepare('trim').required().email().getError()
      }
    }
  })
});`,g=`<!-- 2-level nested binding -->
<input bind:value={data.address.street} />
<ErrorText error={$errors?.address?.street ?? ''} />

<!-- 3-level nested binding -->
<input bind:value={data.company.contact.phone} />
<ErrorText error={$errors?.company?.contact?.phone ?? ''} />`;dt(e,{description:"Illustrates validating deeply nested object structures with multi-level property paths.",title:"Nested Objects Demo",main:k=>{var O=oc(),P=fe(O);pt(P,{get hasErrors(){return r()},get isDirty(){return n()}});var I=f(P,2),D=p(I),F=p(D);Bt(F,{title:"Personal Info",children:(x,$)=>{var S=qt(),V=fe(S);{var ee=J=>{var G=ec();z(J,G)};de(V,J=>{o().name&&J(ee)})}z(x,S)}});var W=f(F,2);{let x=U(()=>a()?.name);ae(W,{id:"name",get error(){return h(x)},label:"Full Name",placeholder:"Enter your full name",get value(){return l.name},set value($){l.name=$}})}var Y=f(D,2),K=p(Y);Bt(K,{subtitle:"2-level nested",title:"Address",children:(x,$)=>{var S=qt(),V=fe(S);{var ee=J=>{var G=tc();z(J,G)};de(V,J=>{o().address&&J(ee)})}z(x,S)}});var T=f(K,2),C=p(T);{let x=U(()=>a()?.address?.street);ae(C,{id:"street",get error(){return h(x)},label:"Street",placeholder:"Enter street address",get value(){return l.address.street},set value($){l.address.street=$}})}var j=f(C,2),E=p(j);{let x=U(()=>a()?.address?.city);ae(E,{id:"city",get error(){return h(x)},label:"City",placeholder:"Enter city",get value(){return l.address.city},set value($){l.address.city=$}})}var M=f(E,2);{let x=U(()=>a()?.address?.zip);ae(M,{id:"zip",get error(){return h(x)},label:"ZIP Code",placeholder:"Enter ZIP",get value(){return l.address.zip},set value($){l.address.zip=$}})}var Z=f(Y,2),B=p(Z);Bt(B,{subtitle:"3-level nested",title:"Company",children:(x,$)=>{var S=qt(),V=fe(S);{var ee=J=>{var G=rc();z(J,G)};de(V,J=>{o().company&&J(ee)})}z(x,S)}});var H=f(B,2),Q=p(H),te=p(Q);{let x=U(()=>a()?.company?.name);ae(te,{id:"company-name",get error(){return h(x)},label:"Company Name",placeholder:"Enter company name",get value(){return l.company.name},set value($){l.company.name=$}})}var oe=f(te,2);{let x=U(()=>a()?.company?.department);ae(oe,{id:"department",get error(){return h(x)},label:"Department",placeholder:"Enter department",required:!1,get value(){return l.company.department},set value($){l.company.department=$}})}var re=f(Q,2);Ql(re,{get isDirty(){return o()["company.contact"]},subtitle:"3rd level",title:"Contact Info",children:(x,$)=>{var S=nc(),V=p(S);{let J=U(()=>a()?.company?.contact?.phone);ae(V,{id:"contact-phone",get error(){return h(J)},label:"Phone",placeholder:"Enter phone number",variant:"nested",get value(){return l.company.contact.phone},set value(G){l.company.contact.phone=G}})}var ee=f(V,2);{let J=U(()=>a()?.company?.contact?.email);ae(ee,{id:"contact-email",get error(){return h(J)},label:"Email",placeholder:"Enter email address",type:"email",variant:"nested",get value(){return l.company.contact.email},set value(G){l.company.contact.email=G}})}z(x,S)}}),z(k,O)},sidebar:k=>{ut(k,{get data(){return l},get errors(){return a()},get hasErrors(){return r()},get isDirty(){return n()},get isDirtyByField(){return o()},onFill:b,width:"xl:w-96"})},sourceCode:k=>{ft(k,{children:(O,P)=>{var I=ac(),D=fe(I);me(D,{code:_,title:"State Setup with Nested Validation"});var F=f(D,2);me(F,{code:g,title:"Nested Form Binding Examples"}),z(O,I)}})}}),Le(),s()}var sc=N('<div class="mb-4 rounded-lg border border-purple-200 bg-purple-50 p-3"><span class="text-sm text-purple-800"><span class="font-medium">Effect triggered:</span> </span></div>'),lc=N('<div class="mt-4 rounded-lg border border-red-200 bg-red-50 p-3"><div class="flex items-center gap-2"><svg class="h-5 w-5 text-red-500" fill="currentColor" viewBox="0 0 20 20"><path clip-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" fill-rule="evenodd"></path></svg> <span class="text-sm font-medium text-red-800"> </span></div></div>'),cc=N('<div class="mt-4 rounded-lg border border-green-200 bg-green-50 p-3"><div class="flex items-center gap-2"><svg class="h-5 w-5 text-green-500" fill="currentColor" viewBox="0 0 20 20"><path clip-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" fill-rule="evenodd"></path></svg> <span class="text-sm font-medium text-green-800"> </span></div></div>'),uc=N('<span class="inline-flex items-center gap-2"><svg class="h-4 w-4 animate-spin" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" fill="currentColor"></path></svg> Submitting...</span>'),dc=N('<!> <!> <div class="space-y-4"><!> <!> <div class="flex items-center gap-2"><input id="simulateError" class="h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-50" type="checkbox"/> <label class="text-sm text-gray-700" for="simulateError">Simulate server error</label></div></div> <!> <!> <div class="mt-6"><button class="w-full cursor-pointer rounded-lg bg-green-600 px-4 py-2 text-sm font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 disabled:cursor-not-allowed disabled:opacity-50" type="button"><!></button></div>',1),fc=N('<div class="w-full flex-shrink-0 space-y-4 xl:w-80"><!> <div class="rounded-lg border border-blue-200 bg-blue-50 p-4"><h6 class="mb-3 text-sm font-semibold text-blue-900">Options</h6> <div class="space-y-4"><div><div class="flex items-center gap-2"><input id="resetDirtyOnAction" class="h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500" type="checkbox"/> <label class="text-sm font-medium text-gray-800" for="resetDirtyOnAction">resetDirtyOnAction</label></div> <p class="mt-1 text-xs text-gray-600">Reset isDirty after successful action</p></div> <div><label class="block text-sm font-medium text-gray-800" for="debounceValidation">debounceValidation (ms)</label> <input id="debounceValidation" class="mt-1 block w-full rounded border border-gray-300 px-2 py-1 text-sm focus:border-blue-500 focus:ring-blue-500" min="0" placeholder="0" step="100" type="number"/> <p class="mt-1 text-xs text-gray-600">Try 500ms and type quickly</p></div> <div><div class="flex items-center gap-2"><input id="persistActionError" class="h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500" type="checkbox"/> <label class="text-sm font-medium text-gray-800" for="persistActionError">persistActionError</label></div> <p class="mt-1 text-xs text-gray-600">Keep errors until next action</p></div> <button class="w-full cursor-pointer rounded bg-blue-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-blue-700" type="button">Apply Options</button></div></div> <div class="rounded-lg border border-gray-300 bg-gray-50 p-4 shadow-inner"><h6 class="mb-2 text-sm font-medium text-gray-700">Current Options</h6> <div class="space-y-1 font-mono text-xs text-gray-600"><div> </div> <div> </div> <div> </div></div></div></div>'),pc=N("<!> <!> <!> <!>",1);function mc(e,t){Re(t,!0);const r=()=>X(h(O),"$hasErrors",s),n=()=>X(h(P),"$isDirty",s),o=()=>X(h(I),"$actionInProgress",s),a=()=>X(h(k),"$errors",s),i=()=>X(h(D),"$actionError",s),[s,c]=lt();let l=$e(!0),u=$e(0),m=$e(!1),d=$e(0),v=$e(!1),b=$e(void 0),_=$e(void 0);const g=()=>({name:`User ${ce()}`,email:`${ce()}@example.com`}),w=j=>ct(g(),{validator:E=>({name:se(E.name).prepare("trim").required().minLength(2).maxLength(50).getError(),email:se(E.email).prepare("trim").required().email().getError()}),effect:({property:E})=>{he(_,E,!0)},action:async()=>{const E=Ye(100,800);if(await new Promise(M=>setTimeout(M,E)),h(v))throw new Error(`Simulated error after ${E}ms`);he(b,`Submitted successfully in ${E}ms!`)},actionCompleted:E=>{E&&he(b,void 0)}},j);let R=$e(At(w({resetDirtyOnAction:!0,debounceValidation:0,persistActionError:!1})));const A=()=>{he(_,void 0),he(b,void 0),he(R,w({resetDirtyOnAction:h(l),debounceValidation:h(u),persistActionError:h(m)}),!0),ns(d)},k=U(()=>h(R).state.errors),O=U(()=>h(R).state.hasErrors),P=U(()=>h(R).state.isDirty),I=U(()=>h(R).state.actionInProgress),D=U(()=>h(R).state.actionError),F=()=>{h(R).data.name=`User ${ce()}`,h(R).data.email=`${ce()}@example.com`},W=()=>{he(b,void 0),h(R).execute()},Y=`const { data, execute, state } = createSvState(
  sourceData,
  { validator, effect, action },
  {
    // Reset isDirty to false after successful action
    resetDirtyOnAction: true,    // default: true

    // Debounce validation by N milliseconds
    debounceValidation: 0,       // default: 0 (uses queueMicrotask)

    // Keep action errors until next action (not cleared on data change)
    persistActionError: false    // default: false
  }
);`,K=`// With resetDirtyOnAction: true (default)
await execute();
// isDirty is now false

// With resetDirtyOnAction: false
await execute();
// isDirty remains true`,T=`// With debounceValidation: 0 (default)
// Validation runs via queueMicrotask after each change

// With debounceValidation: 500
// Validation runs 500ms after the last change
// Useful for expensive validators or rapid typing`,C=`// With persistActionError: false (default)
data.name = 'new value';
// actionError is cleared immediately

// With persistActionError: true
data.name = 'new value';
// actionError remains until next execute() call`;dt(e,{description:"Interactive playground for configuring createSvState options like debouncing and error persistence.",title:"Options Demo",main:Z=>{var B=qt(),H=fe(B);Ds(H,()=>h(d),Q=>{var te=dc(),oe=fe(te);pt(oe,{get hasErrors(){return r()},get isDirty(){return n()}});var re=f(oe,2);{var x=le=>{var ke=sc(),Zt=p(ke),kt=f(p(Zt));ne(()=>q(kt,` property "${h(_)??""}" changed`)),z(le,ke)};de(re,le=>{h(_)&&le(x)})}var $=f(re,2),S=p($);{let le=U(()=>a()?.name);ae(S,{id:"name",get disabled(){return o()},get error(){return h(le)},label:"Name",placeholder:"Enter name",get value(){return h(R).data.name},set value(ke){h(R).data.name=ke}})}var V=f(S,2);{let le=U(()=>a()?.email);ae(V,{id:"email",get disabled(){return o()},get error(){return h(le)},label:"Email",placeholder:"Enter email",type:"email",get value(){return h(R).data.email},set value(ke){h(R).data.email=ke}})}var ee=f(V,2),J=p(ee),G=f($,2);{var _e=le=>{var ke=lc(),Zt=p(ke),kt=f(p(Zt),2),_r=p(kt);ne(()=>q(_r,i().message)),z(le,ke)};de(G,le=>{i()&&le(_e)})}var Ie=f(G,2);{var Ze=le=>{var ke=cc(),Zt=p(ke),kt=f(p(Zt),2),_r=p(kt);ne(()=>q(_r,h(b))),z(le,ke)};de(Ie,le=>{h(b)&&le(Ze)})}var rt=f(Ie,2),Ae=p(rt),vr=p(Ae);{var hr=le=>{var ke=uc();z(le,ke)},gr=le=>{var ke=Mn("Submit");z(le,ke)};de(vr,le=>{o()?le(hr):le(gr,!1)})}ne(()=>{J.disabled=o(),Ae.disabled=r()||o()}),Kr(J,()=>h(v),le=>he(v,le)),qe("click",Ae,W),z(Q,te)}),z(Z,B)},sidebar:Z=>{var B=fc(),H=p(B);ut(H,{get data(){return h(R).data},get errors(){return a()},get hasErrors(){return r()},get isDirty(){return n()},onFill:F});var Q=f(H,2),te=f(p(Q),2),oe=p(te),re=p(oe),x=p(re),$=f(oe,2),S=f(p($),2),V=f($,2),ee=p(V),J=p(ee),G=f(V,2),_e=f(Q,2),Ie=f(p(_e),2),Ze=p(Ie),rt=p(Ze),Ae=f(Ze,2),vr=p(Ae),hr=f(Ae,2),gr=p(hr);ne(()=>{q(rt,`resetDirtyOnAction: ${h(l)??""}`),q(vr,`debounceValidation: ${h(u)??""}`),q(gr,`persistActionError: ${h(m)??""}`)}),Kr(x,()=>h(l),le=>he(l,le)),Dr(S,()=>h(u),le=>he(u,le)),Kr(J,()=>h(m),le=>he(m,le)),qe("click",G,A),z(Z,B)},sourceCode:Z=>{ft(Z,{children:(B,H)=>{var Q=pc(),te=fe(Q);me(te,{code:Y,title:"Options Overview"});var oe=f(te,2);me(oe,{code:K,title:"resetDirtyOnAction"});var re=f(oe,2);me(re,{code:T,title:"debounceValidation"});var x=f(re,2);me(x,{code:C,title:"persistActionError"}),z(B,Q)}})}}),Le(),c()}ht(["click"]);var vc=N('<div class="mt-6"><button class="w-full cursor-pointer rounded-lg bg-orange-600 px-4 py-2 text-sm font-medium text-white hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-orange-500" type="button">Reset to Initial Values</button></div>'),hc=N('<!> <div class="space-y-4"><!> <!> <!> <!> <!></div> <!>',1),gc=N("<!> <!>",1);function _c(e,t){Re(t,!0);const r=()=>X(m,"$hasErrors",a),n=()=>X(d,"$isDirty",a),o=()=>X(u,"$errors",a),[a,i]=lt(),s={firstName:"Alice",lastName:"Smith",email:"alice.smith@example.com",phone:"",bio:""},{data:c,reset:l,state:{errors:u,hasErrors:m,isDirty:d}}=ct(s,{validator:g=>({firstName:se(g.firstName).prepare("trim").required().minLength(2).maxLength(30).getError(),lastName:se(g.lastName).prepare("trim").required().minLength(2).maxLength(30).getError(),email:se(g.email).prepare("trim").required().email().getError(),phone:se(g.phone).prepare("trim").required().minLength(10).getError(),bio:se(g.bio).maxLength(200).getError()})}),v=()=>{c.firstName="John",c.lastName=`Doe${ce()}`,c.email=`john.doe.${ce()}@example.com`,c.phone=`555-${ce().slice(0,3)}-${ce().slice(0,4)}`,c.bio="Software developer with a passion for clean code."},b=`const sourceData = {
  firstName: 'Alice',
  lastName: 'Smith',
  email: 'alice.smith@example.com',
  phone: '',
  bio: ''
};

const { data, reset, state: { errors, hasErrors, isDirty } } = createSvState(sourceData, {
  validator: (source) => ({
    firstName: stringValidator(source.firstName).prepare('trim').required().minLength(2).maxLength(30).getError(),
    lastName: stringValidator(source.lastName).prepare('trim').required().minLength(2).maxLength(30).getError(),
    email: stringValidator(source.email).prepare('trim').required().email().getError(),
    phone: stringValidator(source.phone).prepare('trim').required().minLength(10).getError(),
    bio: stringValidator(source.bio).maxLength(200).getError()
  })
});`,_=`<!-- Reset button only appears when form is dirty -->
{#if $isDirty}
  <button onclick={reset} type="button">
    Reset to Initial Values
  </button>
{/if}

<!-- isDirty becomes true on any change -->
<!-- reset() restores to initial snapshot and clears history -->`;dt(e,{description:"Demonstrates the reset() function to restore state back to its initial values.",title:"Reset Demo",main:A=>{var k=hc(),O=fe(k);pt(O,{get hasErrors(){return r()},get isDirty(){return n()}});var P=f(O,2),I=p(P);{let C=U(()=>o()?.firstName);ae(I,{id:"firstName",get error(){return h(C)},label:"First Name",placeholder:"Enter first name",get value(){return c.firstName},set value(j){c.firstName=j}})}var D=f(I,2);{let C=U(()=>o()?.lastName);ae(D,{id:"lastName",get error(){return h(C)},label:"Last Name",placeholder:"Enter last name",get value(){return c.lastName},set value(j){c.lastName=j}})}var F=f(D,2);{let C=U(()=>o()?.email);ae(F,{id:"email",get error(){return h(C)},label:"Email",placeholder:"Enter email",type:"email",get value(){return c.email},set value(j){c.email=j}})}var W=f(F,2);{let C=U(()=>o()?.phone);ae(W,{id:"phone",get error(){return h(C)},label:"Phone",placeholder:"555-123-4567",get value(){return c.phone},set value(j){c.phone=j}})}var Y=f(W,2);{let C=U(()=>o()?.bio);sn(Y,{id:"bio",get error(){return h(C)},label:"Bio",placeholder:"Tell us about yourself",required:!1,get value(){return c.bio},set value(j){c.bio=j}})}var K=f(P,2);{var T=C=>{var j=vc(),E=p(j);qe("click",E,l),z(C,j)};de(K,C=>{n()&&C(T)})}z(A,k)},sidebar:A=>{ut(A,{get data(){return c},get errors(){return o()},get hasErrors(){return r()},get isDirty(){return n()},onFill:v})},sourceCode:A=>{ft(A,{children:(k,O)=>{var P=gc(),I=fe(P);me(I,{code:b,title:"State Setup with Reset"});var D=f(I,2);me(D,{code:_,title:"Conditional Reset Button"}),z(k,P)}})}}),Le(),i()}ht(["click"]);var bc=N('<button class="flex-1 cursor-pointer rounded-lg bg-orange-600 px-4 py-2 text-sm font-medium text-white hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-orange-500" type="button">Reset All</button>'),yc=N('<!> <div class="mb-4 flex items-center gap-2"><span class="rounded bg-purple-100 px-2.5 py-0.5 text-xs font-medium text-purple-800"> </span> <span class="rounded bg-indigo-100 px-2.5 py-0.5 text-xs font-medium text-indigo-800">Max: 5</span></div> <div class="space-y-4"><!> <!> <!> <!> <!></div> <div class="mt-6 flex flex-wrap gap-3"><button class="flex-1 cursor-pointer rounded-lg bg-amber-600 px-4 py-2 text-sm font-medium text-white hover:bg-amber-700 focus:outline-none focus:ring-2 focus:ring-amber-500 disabled:cursor-not-allowed disabled:opacity-50" type="button">Undo Last Change</button> <button class="flex-1 cursor-pointer rounded-lg bg-purple-600 px-4 py-2 text-sm font-medium text-white hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 disabled:cursor-not-allowed disabled:opacity-50" type="button">Rollback To Initial</button> <!></div>',1),wc=N('<p class="text-xs text-gray-500">No snapshots yet</p>'),xc=N('<li class="flex items-center gap-2 text-xs text-gray-600"><span class="flex h-5 w-5 flex-shrink-0 items-center justify-center rounded-full bg-purple-200 text-xs font-medium text-purple-800"></span> <button class="cursor-pointer truncate hover:text-purple-700 hover:underline disabled:cursor-default disabled:no-underline disabled:hover:text-gray-600" type="button"> </button></li>'),Ec=N('<ul class="max-h-48 space-y-1 overflow-y-auto"></ul>'),$c=N('<div class="w-full flex-shrink-0 space-y-4 xl:w-96"><!> <div class="rounded-lg border border-gray-300 bg-gray-50 p-4 shadow-inner"><h6 class="mb-2 text-sm font-medium text-gray-700">Snapshot History</h6> <!></div></div>'),kc=N("<!> <!> <!>",1);function Sc(e,t){Re(t,!0);const r=()=>X(_,"$hasErrors",i),n=()=>X(g,"$isDirty",i),o=()=>X(w,"$snapshots",i),a=()=>X(b,"$errors",i),[i,s]=lt(),c={firstName:"Alice",lastName:"Smith",email:"alice.smith@example.com",phone:"",bio:""},l=P=>P.charAt(0).toUpperCase()+P.slice(1).replaceAll(/([A-Z])/g," $1"),{data:u,reset:m,rollback:d,rollbackTo:v,state:{errors:b,hasErrors:_,isDirty:g,snapshots:w}}=ct(c,{validator:P=>({firstName:se(P.firstName).prepare("trim").required().minLength(2).maxLength(30).getError(),lastName:se(P.lastName).prepare("trim").required().minLength(2).maxLength(30).getError(),email:se(P.email).prepare("trim").required().email().getError(),phone:se(P.phone).prepare("trim").required().minLength(10).getError(),bio:se(P.bio).maxLength(200).getError()}),effect:({snapshot:P,property:I})=>{P(`Changed ${l(I)}`)}},{maxSnapshots:5}),R=()=>{u.firstName="John",u.lastName=`Doe${ce()}`,u.email=`john.doe.${ce()}@example.com`,u.phone=`555-${ce().slice(0,3)}-${ce().slice(0,4)}`,u.bio="Software developer with a passion for clean code."},A=`const sourceData = {
  firstName: 'Alice', lastName: 'Smith', email: 'alice.smith@example.com', phone: '', bio: ''
};

const { data, reset, rollback, rollbackTo, state: { errors, hasErrors, isDirty, snapshots } } =
  createSvState(sourceData, {
    validator: (source) => ({ /* validation rules */ }),
    effect: ({ snapshot, property }) => {
      snapshot(\`Changed \${formatFieldName(property)}\`);
    }
  }, { maxSnapshots: 5 });`,k=`// Effect callback creates snapshots on each change
effect: ({ snapshot, property }) => {
  snapshot(\`Changed \${property}\`);  // Creates undo point
  // If same title, replaces last snapshot (debouncing)
  // Use snapshot(title, false) to always create new
}`,O=`// Undo last change
rollback();

// Undo 3 changes at once
rollback(3);

// Roll back to a named snapshot (returns true if found)
rollbackTo('Changed First Name');

// Roll back to initial state
rollbackTo('Initial');

// Reset to initial state (clears all snapshots)
reset();`;dt(e,{description:"Shows snapshot creation for undo functionality with rollback(), rollbackTo(), and maxSnapshots support.",title:"Snapshot & Rollback Demo",main:F=>{var W=yc(),Y=fe(W);pt(Y,{get hasErrors(){return r()},get isDirty(){return n()}});var K=f(Y,2),T=p(K),C=p(T),j=f(K,2),E=p(j);{let $=U(()=>a()?.firstName);ae(E,{id:"firstName",get error(){return h($)},label:"First Name",placeholder:"Enter first name",get value(){return u.firstName},set value(S){u.firstName=S}})}var M=f(E,2);{let $=U(()=>a()?.lastName);ae(M,{id:"lastName",get error(){return h($)},label:"Last Name",placeholder:"Enter last name",get value(){return u.lastName},set value(S){u.lastName=S}})}var Z=f(M,2);{let $=U(()=>a()?.email);ae(Z,{id:"email",get error(){return h($)},label:"Email",placeholder:"Enter email",type:"email",get value(){return u.email},set value(S){u.email=S}})}var B=f(Z,2);{let $=U(()=>a()?.phone);ae(B,{id:"phone",get error(){return h($)},label:"Phone",placeholder:"555-123-4567",get value(){return u.phone},set value(S){u.phone=S}})}var H=f(B,2);{let $=U(()=>a()?.bio);sn(H,{id:"bio",get error(){return h($)},label:"Bio",placeholder:"Tell us about yourself",required:!1,get value(){return u.bio},set value(S){u.bio=S}})}var Q=f(j,2),te=p(Q),oe=f(te,2),re=f(oe,2);{var x=$=>{var S=bc();qe("click",S,m),z($,S)};de(re,$=>{n()&&$(x)})}ne(()=>{q(C,`${o().length??""} Snapshot${o().length===1?"":"s"}`),te.disabled=o().length<=1,oe.disabled=o().length<=1}),qe("click",te,()=>d()),qe("click",oe,()=>v("Initial")),z(F,W)},sidebar:F=>{var W=$c(),Y=p(W);ut(Y,{get data(){return u},get errors(){return a()},get hasErrors(){return r()},get isDirty(){return n()},onFill:R,width:"xl:w-96"});var K=f(Y,2),T=f(p(K),2);{var C=E=>{var M=wc();z(E,M)},j=E=>{var M=Ec();an(M,5,o,Vn,(Z,B,H)=>{var Q=xc(),te=p(Q);te.textContent=H+1;var oe=f(te,2),re=p(oe);ne(()=>{oe.disabled=o().length<=1,q(re,h(B).title)}),qe("click",oe,()=>v(h(B).title)),z(Z,Q)}),z(E,M)};de(T,E=>{o().length===0?E(C):E(j,!1)})}z(F,W)},sourceCode:F=>{ft(F,{children:(W,Y)=>{var K=kc(),T=fe(K);me(T,{code:A,title:"State Setup with Snapshots & maxSnapshots"});var C=f(T,2);me(C,{code:k,title:"Effect with Snapshot Creation"});var j=f(C,2);me(j,{code:O,title:"Rollback, RollbackTo & Reset Usage"}),z(W,K)}})}}),Le(),s()}ht(["click"]);function y(e,t,r){function n(s,c){if(s._zod||Object.defineProperty(s,"_zod",{value:{def:c,constr:i,traits:new Set},enumerable:!1}),s._zod.traits.has(e))return;s._zod.traits.add(e),t(s,c);const l=i.prototype,u=Object.keys(l);for(let m=0;m<u.length;m++){const d=u[m];d in s||(s[d]=l[d].bind(s))}}const o=r?.Parent??Object;class a extends o{}Object.defineProperty(a,"name",{value:e});function i(s){var c;const l=r?.Parent?new a:this;n(l,s),(c=l._zod).deferred??(c.deferred=[]);for(const u of l._zod.deferred)u();return l}return Object.defineProperty(i,"init",{value:n}),Object.defineProperty(i,Symbol.hasInstance,{value:s=>r?.Parent&&s instanceof r.Parent?!0:s?._zod?.traits?.has(e)}),Object.defineProperty(i,"name",{value:e}),i}class ar extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class za extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const Aa={};function Ht(e){return Aa}function Da(e){const t=Object.values(e).filter(n=>typeof n=="number");return Object.entries(e).filter(([n,o])=>t.indexOf(+n)===-1).map(([n,o])=>o)}function $n(e,t){return typeof t=="bigint"?t.toString():t}function Un(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Bn(e){return e==null}function Jn(e){const t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function zc(e,t){const r=(e.toString().split(".")[1]||"").length,n=t.toString();let o=(n.split(".")[1]||"").length;if(o===0&&/\d?e-\d?/.test(n)){const c=n.match(/\d?e-(\d?)/);c?.[1]&&(o=Number.parseInt(c[1]))}const a=r>o?r:o,i=Number.parseInt(e.toFixed(a).replace(".","")),s=Number.parseInt(t.toFixed(a).replace(".",""));return i%s/10**a}const po=Symbol("evaluating");function ve(e,t,r){let n;Object.defineProperty(e,t,{get(){if(n!==po)return n===void 0&&(n=po,n=r()),n},set(o){Object.defineProperty(e,t,{value:o})},configurable:!0})}function Qt(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function Tt(...e){const t={};for(const r of e){const n=Object.getOwnPropertyDescriptors(r);Object.assign(t,n)}return Object.defineProperties({},t)}function mo(e){return JSON.stringify(e)}function Ac(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const Na="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Qr(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const Dc=Un(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Or(e){if(Qr(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const r=t.prototype;return!(Qr(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function Oa(e){return Or(e)?{...e}:Array.isArray(e)?[...e]:e}const Nc=new Set(["string","number","symbol"]);function dr(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function It(e,t,r){const n=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(n._zod.parent=e),n}function L(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function Oc(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const Cc={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function Pc(e,t){const r=e._zod.def,n=r.checks;if(n&&n.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const a=Tt(e._zod.def,{get shape(){const i={};for(const s in t){if(!(s in r.shape))throw new Error(`Unrecognized key: "${s}"`);t[s]&&(i[s]=r.shape[s])}return Qt(this,"shape",i),i},checks:[]});return It(e,a)}function Tc(e,t){const r=e._zod.def,n=r.checks;if(n&&n.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const a=Tt(e._zod.def,{get shape(){const i={...e._zod.def.shape};for(const s in t){if(!(s in r.shape))throw new Error(`Unrecognized key: "${s}"`);t[s]&&delete i[s]}return Qt(this,"shape",i),i},checks:[]});return It(e,a)}function Ic(e,t){if(!Or(t))throw new Error("Invalid input to extend: expected a plain object");const r=e._zod.def.checks;if(r&&r.length>0){const a=e._zod.def.shape;for(const i in t)if(Object.getOwnPropertyDescriptor(a,i)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const o=Tt(e._zod.def,{get shape(){const a={...e._zod.def.shape,...t};return Qt(this,"shape",a),a}});return It(e,o)}function Zc(e,t){if(!Or(t))throw new Error("Invalid input to safeExtend: expected a plain object");const r=Tt(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t};return Qt(this,"shape",n),n}});return It(e,r)}function jc(e,t){const r=Tt(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return Qt(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return It(e,r)}function Rc(e,t,r){const o=t._zod.def.checks;if(o&&o.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const i=Tt(t._zod.def,{get shape(){const s=t._zod.def.shape,c={...s};if(r)for(const l in r){if(!(l in s))throw new Error(`Unrecognized key: "${l}"`);r[l]&&(c[l]=e?new e({type:"optional",innerType:s[l]}):s[l])}else for(const l in s)c[l]=e?new e({type:"optional",innerType:s[l]}):s[l];return Qt(this,"shape",c),c},checks:[]});return It(t,i)}function Lc(e,t,r){const n=Tt(t._zod.def,{get shape(){const o=t._zod.def.shape,a={...o};if(r)for(const i in r){if(!(i in a))throw new Error(`Unrecognized key: "${i}"`);r[i]&&(a[i]=new e({type:"nonoptional",innerType:o[i]}))}else for(const i in o)a[i]=new e({type:"nonoptional",innerType:o[i]});return Qt(this,"shape",a),a}});return It(t,n)}function rr(e,t=0){if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function Ca(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}function qr(e){return typeof e=="string"?e:e?.message}function Gt(e,t,r){const n={...e,path:e.path??[]};if(!e.message){const o=qr(e.inst?._zod.def?.error?.(e))??qr(t?.error?.(e))??qr(r.customError?.(e))??qr(r.localeError?.(e))??"Invalid input";n.message=o}return delete n.inst,delete n.continue,t?.reportInput||delete n.input,n}function Wn(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Cr(...e){const[t,r,n]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:n}:{...t}}const Pa=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,$n,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Ta=y("$ZodError",Pa),Ia=y("$ZodError",Pa,{Parent:Error});function Mc(e,t=r=>r.message){const r={},n=[];for(const o of e.issues)o.path.length>0?(r[o.path[0]]=r[o.path[0]]||[],r[o.path[0]].push(t(o))):n.push(t(o));return{formErrors:n,fieldErrors:r}}function Fc(e,t=r=>r.message){const r={_errors:[]},n=o=>{for(const a of o.issues)if(a.code==="invalid_union"&&a.errors.length)a.errors.map(i=>n({issues:i}));else if(a.code==="invalid_key")n({issues:a.issues});else if(a.code==="invalid_element")n({issues:a.issues});else if(a.path.length===0)r._errors.push(t(a));else{let i=r,s=0;for(;s<a.path.length;){const c=a.path[s];s===a.path.length-1?(i[c]=i[c]||{_errors:[]},i[c]._errors.push(t(a))):i[c]=i[c]||{_errors:[]},i=i[c],s++}}};return n(e),r}const Kn=e=>(t,r,n,o)=>{const a=n?Object.assign(n,{async:!1}):{async:!1},i=t._zod.run({value:r,issues:[]},a);if(i instanceof Promise)throw new ar;if(i.issues.length){const s=new(o?.Err??e)(i.issues.map(c=>Gt(c,a,Ht())));throw Na(s,o?.callee),s}return i.value},Hn=e=>async(t,r,n,o)=>{const a=n?Object.assign(n,{async:!0}):{async:!0};let i=t._zod.run({value:r,issues:[]},a);if(i instanceof Promise&&(i=await i),i.issues.length){const s=new(o?.Err??e)(i.issues.map(c=>Gt(c,a,Ht())));throw Na(s,o?.callee),s}return i.value},ln=e=>(t,r,n)=>{const o=n?{...n,async:!1}:{async:!1},a=t._zod.run({value:r,issues:[]},o);if(a instanceof Promise)throw new ar;return a.issues.length?{success:!1,error:new(e??Ta)(a.issues.map(i=>Gt(i,o,Ht())))}:{success:!0,data:a.value}},Vc=ln(Ia),cn=e=>async(t,r,n)=>{const o=n?Object.assign(n,{async:!0}):{async:!0};let a=t._zod.run({value:r,issues:[]},o);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new e(a.issues.map(i=>Gt(i,o,Ht())))}:{success:!0,data:a.value}},qc=cn(Ia),Uc=e=>(t,r,n)=>{const o=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Kn(e)(t,r,o)},Bc=e=>(t,r,n)=>Kn(e)(t,r,n),Jc=e=>async(t,r,n)=>{const o=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Hn(e)(t,r,o)},Wc=e=>async(t,r,n)=>Hn(e)(t,r,n),Kc=e=>(t,r,n)=>{const o=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return ln(e)(t,r,o)},Hc=e=>(t,r,n)=>ln(e)(t,r,n),Gc=e=>async(t,r,n)=>{const o=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return cn(e)(t,r,o)},Yc=e=>async(t,r,n)=>cn(e)(t,r,n),Xc=/^[cC][^\s-]{8,}$/,Qc=/^[0-9a-z]+$/,eu=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,tu=/^[0-9a-vA-V]{20}$/,ru=/^[A-Za-z0-9]{27}$/,nu=/^[a-zA-Z0-9_-]{21}$/,ou=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,au=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,vo=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,iu=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,su="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function lu(){return new RegExp(su,"u")}const cu=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,uu=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,du=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,fu=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,pu=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Za=/^[A-Za-z0-9_-]*$/,mu=/^\+[1-9]\d{6,14}$/,ja="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",vu=new RegExp(`^${ja}$`);function Ra(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function hu(e){return new RegExp(`^${Ra(e)}$`)}function gu(e){const t=Ra({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const n=`${t}(?:${r.join("|")})`;return new RegExp(`^${ja}T(?:${n})$`)}const _u=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},bu=/^-?\d+$/,yu=/^-?\d+(?:\.\d+)?$/,wu=/^[^A-Z]*$/,xu=/^[^a-z]*$/,Je=y("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),La={number:"number",bigint:"bigint",object:"date"},Ma=y("$ZodCheckLessThan",(e,t)=>{Je.init(e,t);const r=La[typeof t.value];e._zod.onattach.push(n=>{const o=n._zod.bag,a=(t.inclusive?o.maximum:o.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<a&&(t.inclusive?o.maximum=t.value:o.exclusiveMaximum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value<=t.value:n.value<t.value)||n.issues.push({origin:r,code:"too_big",maximum:typeof t.value=="object"?t.value.getTime():t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Fa=y("$ZodCheckGreaterThan",(e,t)=>{Je.init(e,t);const r=La[typeof t.value];e._zod.onattach.push(n=>{const o=n._zod.bag,a=(t.inclusive?o.minimum:o.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>a&&(t.inclusive?o.minimum=t.value:o.exclusiveMinimum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value>=t.value:n.value>t.value)||n.issues.push({origin:r,code:"too_small",minimum:typeof t.value=="object"?t.value.getTime():t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Eu=y("$ZodCheckMultipleOf",(e,t)=>{Je.init(e,t),e._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):zc(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),$u=y("$ZodCheckNumberFormat",(e,t)=>{Je.init(e,t),t.format=t.format||"float64";const r=t.format?.includes("int"),n=r?"int":"number",[o,a]=Cc[t.format];e._zod.onattach.push(i=>{const s=i._zod.bag;s.format=t.format,s.minimum=o,s.maximum=a,r&&(s.pattern=bu)}),e._zod.check=i=>{const s=i.value;if(r){if(!Number.isInteger(s)){i.issues.push({expected:n,format:t.format,code:"invalid_type",continue:!1,input:s,inst:e});return}if(!Number.isSafeInteger(s)){s>0?i.issues.push({input:s,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,inclusive:!0,continue:!t.abort}):i.issues.push({input:s,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,inclusive:!0,continue:!t.abort});return}}s<o&&i.issues.push({origin:"number",input:s,code:"too_small",minimum:o,inclusive:!0,inst:e,continue:!t.abort}),s>a&&i.issues.push({origin:"number",input:s,code:"too_big",maximum:a,inclusive:!0,inst:e,continue:!t.abort})}}),ku=y("$ZodCheckMaxLength",(e,t)=>{var r;Je.init(e,t),(r=e._zod.def).when??(r.when=n=>{const o=n.value;return!Bn(o)&&o.length!==void 0}),e._zod.onattach.push(n=>{const o=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<o&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const o=n.value;if(o.length<=t.maximum)return;const i=Wn(o);n.issues.push({origin:i,code:"too_big",maximum:t.maximum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),Su=y("$ZodCheckMinLength",(e,t)=>{var r;Je.init(e,t),(r=e._zod.def).when??(r.when=n=>{const o=n.value;return!Bn(o)&&o.length!==void 0}),e._zod.onattach.push(n=>{const o=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>o&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const o=n.value;if(o.length>=t.minimum)return;const i=Wn(o);n.issues.push({origin:i,code:"too_small",minimum:t.minimum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),zu=y("$ZodCheckLengthEquals",(e,t)=>{var r;Je.init(e,t),(r=e._zod.def).when??(r.when=n=>{const o=n.value;return!Bn(o)&&o.length!==void 0}),e._zod.onattach.push(n=>{const o=n._zod.bag;o.minimum=t.length,o.maximum=t.length,o.length=t.length}),e._zod.check=n=>{const o=n.value,a=o.length;if(a===t.length)return;const i=Wn(o),s=a>t.length;n.issues.push({origin:i,...s?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),un=y("$ZodCheckStringFormat",(e,t)=>{var r,n;Je.init(e,t),e._zod.onattach.push(o=>{const a=o._zod.bag;a.format=t.format,t.pattern&&(a.patterns??(a.patterns=new Set),a.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=o=>{t.pattern.lastIndex=0,!t.pattern.test(o.value)&&o.issues.push({origin:"string",code:"invalid_format",format:t.format,input:o.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),Au=y("$ZodCheckRegex",(e,t)=>{un.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),Du=y("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=wu),un.init(e,t)}),Nu=y("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=xu),un.init(e,t)}),Ou=y("$ZodCheckIncludes",(e,t)=>{Je.init(e,t);const r=dr(t.includes),n=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(o=>{const a=o._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),e._zod.check=o=>{o.value.includes(t.includes,t.position)||o.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:o.value,inst:e,continue:!t.abort})}}),Cu=y("$ZodCheckStartsWith",(e,t)=>{Je.init(e,t);const r=new RegExp(`^${dr(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const o=n._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),Pu=y("$ZodCheckEndsWith",(e,t)=>{Je.init(e,t);const r=new RegExp(`.*${dr(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const o=n._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}}),Tu=y("$ZodCheckOverwrite",(e,t)=>{Je.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});class Iu{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const n=t.split(`
`).filter(i=>i),o=Math.min(...n.map(i=>i.length-i.trimStart().length)),a=n.map(i=>i.slice(o)).map(i=>" ".repeat(this.indent*2)+i);for(const i of a)this.content.push(i)}compile(){const t=Function,r=this?.args,o=[...(this?.content??[""]).map(a=>`  ${a}`)];return new t(...r,o.join(`
`))}}const Zu={major:4,minor:3,patch:6},xe=y("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=Zu;const n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(const o of n)for(const a of o._zod.onattach)a(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const o=(i,s,c)=>{let l=rr(i),u;for(const m of s){if(m._zod.def.when){if(!m._zod.def.when(i))continue}else if(l)continue;const d=i.issues.length,v=m._zod.check(i);if(v instanceof Promise&&c?.async===!1)throw new ar;if(u||v instanceof Promise)u=(u??Promise.resolve()).then(async()=>{await v,i.issues.length!==d&&(l||(l=rr(i,d)))});else{if(i.issues.length===d)continue;l||(l=rr(i,d))}}return u?u.then(()=>i):i},a=(i,s,c)=>{if(rr(i))return i.aborted=!0,i;const l=o(s,n,c);if(l instanceof Promise){if(c.async===!1)throw new ar;return l.then(u=>e._zod.parse(u,c))}return e._zod.parse(l,c)};e._zod.run=(i,s)=>{if(s.skipChecks)return e._zod.parse(i,s);if(s.direction==="backward"){const l=e._zod.parse({value:i.value,issues:[]},{...s,skipChecks:!0});return l instanceof Promise?l.then(u=>a(u,i,s)):a(l,i,s)}const c=e._zod.parse(i,s);if(c instanceof Promise){if(s.async===!1)throw new ar;return c.then(l=>o(l,n,s))}return o(c,n,s)}}ve(e,"~standard",()=>({validate:o=>{try{const a=Vc(e,o);return a.success?{value:a.data}:{issues:a.error?.issues}}catch{return qc(e,o).then(i=>i.success?{value:i.data}:{issues:i.error?.issues})}},vendor:"zod",version:1}))}),Gn=y("$ZodString",(e,t)=>{xe.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??_u(e._zod.bag),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),be=y("$ZodStringFormat",(e,t)=>{un.init(e,t),Gn.init(e,t)}),ju=y("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=au),be.init(e,t)}),Ru=y("$ZodUUID",(e,t)=>{if(t.version){const n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(n===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=vo(n))}else t.pattern??(t.pattern=vo());be.init(e,t)}),Lu=y("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=iu),be.init(e,t)}),Mu=y("$ZodURL",(e,t)=>{be.init(e,t),e._zod.check=r=>{try{const n=r.value.trim(),o=new URL(n);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(o.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(o.protocol.endsWith(":")?o.protocol.slice(0,-1):o.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=o.href:r.value=n;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),Fu=y("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=lu()),be.init(e,t)}),Vu=y("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=nu),be.init(e,t)}),qu=y("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=Xc),be.init(e,t)}),Uu=y("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=Qc),be.init(e,t)}),Bu=y("$ZodULID",(e,t)=>{t.pattern??(t.pattern=eu),be.init(e,t)}),Ju=y("$ZodXID",(e,t)=>{t.pattern??(t.pattern=tu),be.init(e,t)}),Wu=y("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=ru),be.init(e,t)}),Ku=y("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=gu(t)),be.init(e,t)}),Hu=y("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=vu),be.init(e,t)}),Gu=y("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=hu(t)),be.init(e,t)}),Yu=y("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=ou),be.init(e,t)}),Xu=y("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=cu),be.init(e,t),e._zod.bag.format="ipv4"}),Qu=y("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=uu),be.init(e,t),e._zod.bag.format="ipv6",e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),ed=y("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=du),be.init(e,t)}),td=y("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=fu),be.init(e,t),e._zod.check=r=>{const n=r.value.split("/");try{if(n.length!==2)throw new Error;const[o,a]=n;if(!a)throw new Error;const i=Number(a);if(`${i}`!==a)throw new Error;if(i<0||i>128)throw new Error;new URL(`http://[${o}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function Va(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const rd=y("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=pu),be.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=r=>{Va(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function nd(e){if(!Za.test(e))return!1;const t=e.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return Va(r)}const od=y("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=Za),be.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=r=>{nd(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),ad=y("$ZodE164",(e,t)=>{t.pattern??(t.pattern=mu),be.init(e,t)});function id(e,t=null){try{const r=e.split(".");if(r.length!==3)return!1;const[n]=r;if(!n)return!1;const o=JSON.parse(atob(n));return!("typ"in o&&o?.typ!=="JWT"||!o.alg||t&&(!("alg"in o)||o.alg!==t))}catch{return!1}}const sd=y("$ZodJWT",(e,t)=>{be.init(e,t),e._zod.check=r=>{id(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),qa=y("$ZodNumber",(e,t)=>{xe.init(e,t),e._zod.pattern=e._zod.bag.pattern??yu,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}const o=r.value;if(typeof o=="number"&&!Number.isNaN(o)&&Number.isFinite(o))return r;const a=typeof o=="number"?Number.isNaN(o)?"NaN":Number.isFinite(o)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:o,inst:e,...a?{received:a}:{}}),r}}),ld=y("$ZodNumberFormat",(e,t)=>{$u.init(e,t),qa.init(e,t)}),cd=y("$ZodUnknown",(e,t)=>{xe.init(e,t),e._zod.parse=r=>r}),ud=y("$ZodNever",(e,t)=>{xe.init(e,t),e._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});function ho(e,t,r){e.issues.length&&t.issues.push(...Ca(r,e.issues)),t.value[r]=e.value}const dd=y("$ZodArray",(e,t)=>{xe.init(e,t),e._zod.parse=(r,n)=>{const o=r.value;if(!Array.isArray(o))return r.issues.push({expected:"array",code:"invalid_type",input:o,inst:e}),r;r.value=Array(o.length);const a=[];for(let i=0;i<o.length;i++){const s=o[i],c=t.element._zod.run({value:s,issues:[]},n);c instanceof Promise?a.push(c.then(l=>ho(l,r,i))):ho(c,r,i)}return a.length?Promise.all(a).then(()=>r):r}});function en(e,t,r,n,o){if(e.issues.length){if(o&&!(r in n))return;t.issues.push(...Ca(r,e.issues))}e.value===void 0?r in n&&(t.value[r]=void 0):t.value[r]=e.value}function Ua(e){const t=Object.keys(e.shape);for(const n of t)if(!e.shape?.[n]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${n}": expected a Zod schema`);const r=Oc(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}function Ba(e,t,r,n,o,a){const i=[],s=o.keySet,c=o.catchall._zod,l=c.def.type,u=c.optout==="optional";for(const m in t){if(s.has(m))continue;if(l==="never"){i.push(m);continue}const d=c.run({value:t[m],issues:[]},n);d instanceof Promise?e.push(d.then(v=>en(v,r,m,t,u))):en(d,r,m,t,u)}return i.length&&r.issues.push({code:"unrecognized_keys",keys:i,input:t,inst:a}),e.length?Promise.all(e).then(()=>r):r}const fd=y("$ZodObject",(e,t)=>{if(xe.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const s=t.shape;Object.defineProperty(t,"shape",{get:()=>{const c={...s};return Object.defineProperty(t,"shape",{value:c}),c}})}const n=Un(()=>Ua(t));ve(e._zod,"propValues",()=>{const s=t.shape,c={};for(const l in s){const u=s[l]._zod;if(u.values){c[l]??(c[l]=new Set);for(const m of u.values)c[l].add(m)}}return c});const o=Qr,a=t.catchall;let i;e._zod.parse=(s,c)=>{i??(i=n.value);const l=s.value;if(!o(l))return s.issues.push({expected:"object",code:"invalid_type",input:l,inst:e}),s;s.value={};const u=[],m=i.shape;for(const d of i.keys){const v=m[d],b=v._zod.optout==="optional",_=v._zod.run({value:l[d],issues:[]},c);_ instanceof Promise?u.push(_.then(g=>en(g,s,d,l,b))):en(_,s,d,l,b)}return a?Ba(u,l,s,c,n.value,e):u.length?Promise.all(u).then(()=>s):s}}),pd=y("$ZodObjectJIT",(e,t)=>{fd.init(e,t);const r=e._zod.parse,n=Un(()=>Ua(t)),o=d=>{const v=new Iu(["shape","payload","ctx"]),b=n.value,_=A=>{const k=mo(A);return`shape[${k}]._zod.run({ value: input[${k}], issues: [] }, ctx)`};v.write("const input = payload.value;");const g=Object.create(null);let w=0;for(const A of b.keys)g[A]=`key_${w++}`;v.write("const newResult = {};");for(const A of b.keys){const k=g[A],O=mo(A),I=d[A]?._zod?.optout==="optional";v.write(`const ${k} = ${_(A)};`),I?v.write(`
        if (${k}.issues.length) {
          if (${O} in input) {
            payload.issues = payload.issues.concat(${k}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${O}, ...iss.path] : [${O}]
            })));
          }
        }
        
        if (${k}.value === undefined) {
          if (${O} in input) {
            newResult[${O}] = undefined;
          }
        } else {
          newResult[${O}] = ${k}.value;
        }
        
      `):v.write(`
        if (${k}.issues.length) {
          payload.issues = payload.issues.concat(${k}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${O}, ...iss.path] : [${O}]
          })));
        }
        
        if (${k}.value === undefined) {
          if (${O} in input) {
            newResult[${O}] = undefined;
          }
        } else {
          newResult[${O}] = ${k}.value;
        }
        
      `)}v.write("payload.value = newResult;"),v.write("return payload;");const R=v.compile();return(A,k)=>R(d,A,k)};let a;const i=Qr,s=!Aa.jitless,l=s&&Dc.value,u=t.catchall;let m;e._zod.parse=(d,v)=>{m??(m=n.value);const b=d.value;return i(b)?s&&l&&v?.async===!1&&v.jitless!==!0?(a||(a=o(t.shape)),d=a(d,v),u?Ba([],b,d,v,m,e):d):r(d,v):(d.issues.push({expected:"object",code:"invalid_type",input:b,inst:e}),d)}});function go(e,t,r,n){for(const a of e)if(a.issues.length===0)return t.value=a.value,t;const o=e.filter(a=>!rr(a));return o.length===1?(t.value=o[0].value,o[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(a=>a.issues.map(i=>Gt(i,n,Ht())))}),t)}const md=y("$ZodUnion",(e,t)=>{xe.init(e,t),ve(e._zod,"optin",()=>t.options.some(o=>o._zod.optin==="optional")?"optional":void 0),ve(e._zod,"optout",()=>t.options.some(o=>o._zod.optout==="optional")?"optional":void 0),ve(e._zod,"values",()=>{if(t.options.every(o=>o._zod.values))return new Set(t.options.flatMap(o=>Array.from(o._zod.values)))}),ve(e._zod,"pattern",()=>{if(t.options.every(o=>o._zod.pattern)){const o=t.options.map(a=>a._zod.pattern);return new RegExp(`^(${o.map(a=>Jn(a.source)).join("|")})$`)}});const r=t.options.length===1,n=t.options[0]._zod.run;e._zod.parse=(o,a)=>{if(r)return n(o,a);let i=!1;const s=[];for(const c of t.options){const l=c._zod.run({value:o.value,issues:[]},a);if(l instanceof Promise)s.push(l),i=!0;else{if(l.issues.length===0)return l;s.push(l)}}return i?Promise.all(s).then(c=>go(c,o,e,a)):go(s,o,e,a)}}),vd=y("$ZodIntersection",(e,t)=>{xe.init(e,t),e._zod.parse=(r,n)=>{const o=r.value,a=t.left._zod.run({value:o,issues:[]},n),i=t.right._zod.run({value:o,issues:[]},n);return a instanceof Promise||i instanceof Promise?Promise.all([a,i]).then(([c,l])=>_o(r,c,l)):_o(r,a,i)}});function kn(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Or(e)&&Or(t)){const r=Object.keys(t),n=Object.keys(e).filter(a=>r.indexOf(a)!==-1),o={...e,...t};for(const a of n){const i=kn(e[a],t[a]);if(!i.valid)return{valid:!1,mergeErrorPath:[a,...i.mergeErrorPath]};o[a]=i.data}return{valid:!0,data:o}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let n=0;n<e.length;n++){const o=e[n],a=t[n],i=kn(o,a);if(!i.valid)return{valid:!1,mergeErrorPath:[n,...i.mergeErrorPath]};r.push(i.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function _o(e,t,r){const n=new Map;let o;for(const s of t.issues)if(s.code==="unrecognized_keys"){o??(o=s);for(const c of s.keys)n.has(c)||n.set(c,{}),n.get(c).l=!0}else e.issues.push(s);for(const s of r.issues)if(s.code==="unrecognized_keys")for(const c of s.keys)n.has(c)||n.set(c,{}),n.get(c).r=!0;else e.issues.push(s);const a=[...n].filter(([,s])=>s.l&&s.r).map(([s])=>s);if(a.length&&o&&e.issues.push({...o,keys:a}),rr(e))return e;const i=kn(t.value,r.value);if(!i.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(i.mergeErrorPath)}`);return e.value=i.data,e}const hd=y("$ZodEnum",(e,t)=>{xe.init(e,t);const r=Da(t.entries),n=new Set(r);e._zod.values=n,e._zod.pattern=new RegExp(`^(${r.filter(o=>Nc.has(typeof o)).map(o=>typeof o=="string"?dr(o):o.toString()).join("|")})$`),e._zod.parse=(o,a)=>{const i=o.value;return n.has(i)||o.issues.push({code:"invalid_value",values:r,input:i,inst:e}),o}}),gd=y("$ZodLiteral",(e,t)=>{if(xe.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");const r=new Set(t.values);e._zod.values=r,e._zod.pattern=new RegExp(`^(${t.values.map(n=>typeof n=="string"?dr(n):n?dr(n.toString()):String(n)).join("|")})$`),e._zod.parse=(n,o)=>{const a=n.value;return r.has(a)||n.issues.push({code:"invalid_value",values:t.values,input:a,inst:e}),n}}),_d=y("$ZodTransform",(e,t)=>{xe.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new za(e.constructor.name);const o=t.transform(r.value,r);if(n.async)return(o instanceof Promise?o:Promise.resolve(o)).then(i=>(r.value=i,r));if(o instanceof Promise)throw new ar;return r.value=o,r}});function bo(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const Ja=y("$ZodOptional",(e,t)=>{xe.init(e,t),e._zod.optin="optional",e._zod.optout="optional",ve(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),ve(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${Jn(r.source)})?$`):void 0}),e._zod.parse=(r,n)=>{if(t.innerType._zod.optin==="optional"){const o=t.innerType._zod.run(r,n);return o instanceof Promise?o.then(a=>bo(a,r.value)):bo(o,r.value)}return r.value===void 0?r:t.innerType._zod.run(r,n)}}),bd=y("$ZodExactOptional",(e,t)=>{Ja.init(e,t),ve(e._zod,"values",()=>t.innerType._zod.values),ve(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(r,n)=>t.innerType._zod.run(r,n)}),yd=y("$ZodNullable",(e,t)=>{xe.init(e,t),ve(e._zod,"optin",()=>t.innerType._zod.optin),ve(e._zod,"optout",()=>t.innerType._zod.optout),ve(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${Jn(r.source)}|null)$`):void 0}),ve(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,n)=>r.value===null?r:t.innerType._zod.run(r,n)}),wd=y("$ZodDefault",(e,t)=>{xe.init(e,t),e._zod.optin="optional",ve(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);if(r.value===void 0)return r.value=t.defaultValue,r;const o=t.innerType._zod.run(r,n);return o instanceof Promise?o.then(a=>yo(a,t)):yo(o,t)}});function yo(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const xd=y("$ZodPrefault",(e,t)=>{xe.init(e,t),e._zod.optin="optional",ve(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>(n.direction==="backward"||r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,n))}),Ed=y("$ZodNonOptional",(e,t)=>{xe.init(e,t),ve(e._zod,"values",()=>{const r=t.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),e._zod.parse=(r,n)=>{const o=t.innerType._zod.run(r,n);return o instanceof Promise?o.then(a=>wo(a,e)):wo(o,e)}});function wo(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const $d=y("$ZodCatch",(e,t)=>{xe.init(e,t),ve(e._zod,"optin",()=>t.innerType._zod.optin),ve(e._zod,"optout",()=>t.innerType._zod.optout),ve(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const o=t.innerType._zod.run(r,n);return o instanceof Promise?o.then(a=>(r.value=a.value,a.issues.length&&(r.value=t.catchValue({...r,error:{issues:a.issues.map(i=>Gt(i,n,Ht()))},input:r.value}),r.issues=[]),r)):(r.value=o.value,o.issues.length&&(r.value=t.catchValue({...r,error:{issues:o.issues.map(a=>Gt(a,n,Ht()))},input:r.value}),r.issues=[]),r)}}),kd=y("$ZodPipe",(e,t)=>{xe.init(e,t),ve(e._zod,"values",()=>t.in._zod.values),ve(e._zod,"optin",()=>t.in._zod.optin),ve(e._zod,"optout",()=>t.out._zod.optout),ve(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{if(n.direction==="backward"){const a=t.out._zod.run(r,n);return a instanceof Promise?a.then(i=>Ur(i,t.in,n)):Ur(a,t.in,n)}const o=t.in._zod.run(r,n);return o instanceof Promise?o.then(a=>Ur(a,t.out,n)):Ur(o,t.out,n)}});function Ur(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}const Sd=y("$ZodReadonly",(e,t)=>{xe.init(e,t),ve(e._zod,"propValues",()=>t.innerType._zod.propValues),ve(e._zod,"values",()=>t.innerType._zod.values),ve(e._zod,"optin",()=>t.innerType?._zod?.optin),ve(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const o=t.innerType._zod.run(r,n);return o instanceof Promise?o.then(xo):xo(o)}});function xo(e){return e.value=Object.freeze(e.value),e}const zd=y("$ZodCustom",(e,t)=>{Je.init(e,t),xe.init(e,t),e._zod.parse=(r,n)=>r,e._zod.check=r=>{const n=r.value,o=t.fn(n);if(o instanceof Promise)return o.then(a=>Eo(a,r,n,e));Eo(o,r,n,e)}});function Eo(e,t,r,n){if(!e){const o={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(o.params=n._zod.def.params),t.issues.push(Cr(o))}}var $o;class Ad{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...r){const n=r[0];return this._map.set(t,n),n&&typeof n=="object"&&"id"in n&&this._idmap.set(n.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){const r=t._zod.parent;if(r){const n={...this.get(r)??{}};delete n.id;const o={...n,...this._map.get(t)};return Object.keys(o).length?o:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function Dd(){return new Ad}($o=globalThis).__zod_globalRegistry??($o.__zod_globalRegistry=Dd());const xr=globalThis.__zod_globalRegistry;function Nd(e,t){return new e({type:"string",...L(t)})}function Od(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...L(t)})}function ko(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...L(t)})}function Cd(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...L(t)})}function Pd(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...L(t)})}function Td(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...L(t)})}function Id(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...L(t)})}function Zd(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...L(t)})}function jd(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...L(t)})}function Rd(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...L(t)})}function Ld(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...L(t)})}function Md(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...L(t)})}function Fd(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...L(t)})}function Vd(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...L(t)})}function qd(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...L(t)})}function Ud(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...L(t)})}function Bd(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...L(t)})}function Jd(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...L(t)})}function Wd(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...L(t)})}function Kd(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...L(t)})}function Hd(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...L(t)})}function Gd(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...L(t)})}function Yd(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...L(t)})}function Xd(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...L(t)})}function Qd(e,t){return new e({type:"string",format:"date",check:"string_format",...L(t)})}function ef(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...L(t)})}function tf(e,t){return new e({type:"string",format:"duration",check:"string_format",...L(t)})}function rf(e,t){return new e({type:"number",checks:[],...L(t)})}function nf(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...L(t)})}function of(e){return new e({type:"unknown"})}function af(e,t){return new e({type:"never",...L(t)})}function So(e,t){return new Ma({check:"less_than",...L(t),value:e,inclusive:!1})}function pn(e,t){return new Ma({check:"less_than",...L(t),value:e,inclusive:!0})}function zo(e,t){return new Fa({check:"greater_than",...L(t),value:e,inclusive:!1})}function mn(e,t){return new Fa({check:"greater_than",...L(t),value:e,inclusive:!0})}function Ao(e,t){return new Eu({check:"multiple_of",...L(t),value:e})}function Wa(e,t){return new ku({check:"max_length",...L(t),maximum:e})}function tn(e,t){return new Su({check:"min_length",...L(t),minimum:e})}function Ka(e,t){return new zu({check:"length_equals",...L(t),length:e})}function sf(e,t){return new Au({check:"string_format",format:"regex",...L(t),pattern:e})}function lf(e){return new Du({check:"string_format",format:"lowercase",...L(e)})}function cf(e){return new Nu({check:"string_format",format:"uppercase",...L(e)})}function uf(e,t){return new Ou({check:"string_format",format:"includes",...L(t),includes:e})}function df(e,t){return new Cu({check:"string_format",format:"starts_with",...L(t),prefix:e})}function ff(e,t){return new Pu({check:"string_format",format:"ends_with",...L(t),suffix:e})}function mr(e){return new Tu({check:"overwrite",tx:e})}function pf(e){return mr(t=>t.normalize(e))}function mf(){return mr(e=>e.trim())}function vf(){return mr(e=>e.toLowerCase())}function hf(){return mr(e=>e.toUpperCase())}function gf(){return mr(e=>Ac(e))}function _f(e,t,r){return new e({type:"array",element:t,...L(r)})}function bf(e,t,r){return new e({type:"custom",check:"custom",fn:t,...L(r)})}function yf(e){const t=wf(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(Cr(n,r.value,t._zod.def));else{const o=n;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=r.value),o.inst??(o.inst=t),o.continue??(o.continue=!t._zod.def.abort),r.issues.push(Cr(o))}},e(r.value,r)));return t}function wf(e,t){const r=new Je({check:"custom",...L(t)});return r._zod.check=e,r}function Ha(e){let t=e?.target??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:e?.metadata??xr,target:t,unrepresentable:e?.unrepresentable??"throw",override:e?.override??(()=>{}),io:e?.io??"output",counter:0,seen:new Map,cycles:e?.cycles??"ref",reused:e?.reused??"inline",external:e?.external??void 0}}function Te(e,t,r={path:[],schemaPath:[]}){var n;const o=e._zod.def,a=t.seen.get(e);if(a)return a.count++,r.schemaPath.includes(e)&&(a.cycle=r.path),a.schema;const i={schema:{},count:1,cycle:void 0,path:r.path};t.seen.set(e,i);const s=e._zod.toJSONSchema?.();if(s)i.schema=s;else{const u={...r,schemaPath:[...r.schemaPath,e],path:r.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,i.schema,u);else{const d=i.schema,v=t.processors[o.type];if(!v)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${o.type}`);v(e,t,d,u)}const m=e._zod.parent;m&&(i.ref||(i.ref=m),Te(m,t,u),t.seen.get(m).isParent=!0)}const c=t.metadataRegistry.get(e);return c&&Object.assign(i.schema,c),t.io==="input"&&je(e)&&(delete i.schema.examples,delete i.schema.default),t.io==="input"&&i.schema._prefault&&((n=i.schema).default??(n.default=i.schema._prefault)),delete i.schema._prefault,t.seen.get(e).schema}function Ga(e,t){const r=e.seen.get(t);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const n=new Map;for(const i of e.seen.entries()){const s=e.metadataRegistry.get(i[0])?.id;if(s){const c=n.get(s);if(c&&c!==i[0])throw new Error(`Duplicate schema id "${s}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);n.set(s,i[0])}}const o=i=>{const s=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const m=e.external.registry.get(i[0])?.id,d=e.external.uri??(b=>b);if(m)return{ref:d(m)};const v=i[1].defId??i[1].schema.id??`schema${e.counter++}`;return i[1].defId=v,{defId:v,ref:`${d("__shared")}#/${s}/${v}`}}if(i[1]===r)return{ref:"#"};const l=`#/${s}/`,u=i[1].schema.id??`__schema${e.counter++}`;return{defId:u,ref:l+u}},a=i=>{if(i[1].schema.$ref)return;const s=i[1],{ref:c,defId:l}=o(i);s.def={...s.schema},l&&(s.defId=l);const u=s.schema;for(const m in u)delete u[m];u.$ref=c};if(e.cycles==="throw")for(const i of e.seen.entries()){const s=i[1];if(s.cycle)throw new Error(`Cycle detected: #/${s.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const i of e.seen.entries()){const s=i[1];if(t===i[0]){a(i);continue}if(e.external){const l=e.external.registry.get(i[0])?.id;if(t!==i[0]&&l){a(i);continue}}if(e.metadataRegistry.get(i[0])?.id){a(i);continue}if(s.cycle){a(i);continue}if(s.count>1&&e.reused==="ref"){a(i);continue}}}function Ya(e,t){const r=e.seen.get(t);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const n=i=>{const s=e.seen.get(i);if(s.ref===null)return;const c=s.def??s.schema,l={...c},u=s.ref;if(s.ref=null,u){n(u);const d=e.seen.get(u),v=d.schema;if(v.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(c.allOf=c.allOf??[],c.allOf.push(v)):Object.assign(c,v),Object.assign(c,l),i._zod.parent===u)for(const _ in c)_==="$ref"||_==="allOf"||_ in l||delete c[_];if(v.$ref&&d.def)for(const _ in c)_==="$ref"||_==="allOf"||_ in d.def&&JSON.stringify(c[_])===JSON.stringify(d.def[_])&&delete c[_]}const m=i._zod.parent;if(m&&m!==u){n(m);const d=e.seen.get(m);if(d?.schema.$ref&&(c.$ref=d.schema.$ref,d.def))for(const v in c)v==="$ref"||v==="allOf"||v in d.def&&JSON.stringify(c[v])===JSON.stringify(d.def[v])&&delete c[v]}e.override({zodSchema:i,jsonSchema:c,path:s.path??[]})};for(const i of[...e.seen.entries()].reverse())n(i[0]);const o={};if(e.target==="draft-2020-12"?o.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?o.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?o.$schema="http://json-schema.org/draft-04/schema#":e.target,e.external?.uri){const i=e.external.registry.get(t)?.id;if(!i)throw new Error("Schema is missing an `id` property");o.$id=e.external.uri(i)}Object.assign(o,r.def??r.schema);const a=e.external?.defs??{};for(const i of e.seen.entries()){const s=i[1];s.def&&s.defId&&(a[s.defId]=s.def)}e.external||Object.keys(a).length>0&&(e.target==="draft-2020-12"?o.$defs=a:o.definitions=a);try{const i=JSON.parse(JSON.stringify(o));return Object.defineProperty(i,"~standard",{value:{...t["~standard"],jsonSchema:{input:rn(t,"input",e.processors),output:rn(t,"output",e.processors)}},enumerable:!1,writable:!1}),i}catch{throw new Error("Error converting schema to JSON.")}}function je(e,t){const r=t??{seen:new Set};if(r.seen.has(e))return!1;r.seen.add(e);const n=e._zod.def;if(n.type==="transform")return!0;if(n.type==="array")return je(n.element,r);if(n.type==="set")return je(n.valueType,r);if(n.type==="lazy")return je(n.getter(),r);if(n.type==="promise"||n.type==="optional"||n.type==="nonoptional"||n.type==="nullable"||n.type==="readonly"||n.type==="default"||n.type==="prefault")return je(n.innerType,r);if(n.type==="intersection")return je(n.left,r)||je(n.right,r);if(n.type==="record"||n.type==="map")return je(n.keyType,r)||je(n.valueType,r);if(n.type==="pipe")return je(n.in,r)||je(n.out,r);if(n.type==="object"){for(const o in n.shape)if(je(n.shape[o],r))return!0;return!1}if(n.type==="union"){for(const o of n.options)if(je(o,r))return!0;return!1}if(n.type==="tuple"){for(const o of n.items)if(je(o,r))return!0;return!!(n.rest&&je(n.rest,r))}return!1}const xf=(e,t={})=>r=>{const n=Ha({...r,processors:t});return Te(e,n),Ga(n,e),Ya(n,e)},rn=(e,t,r={})=>n=>{const{libraryOptions:o,target:a}=n??{},i=Ha({...o??{},target:a,io:t,processors:r});return Te(e,i),Ga(i,e),Ya(i,e)},Ef={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},$f=(e,t,r,n)=>{const o=r;o.type="string";const{minimum:a,maximum:i,format:s,patterns:c,contentEncoding:l}=e._zod.bag;if(typeof a=="number"&&(o.minLength=a),typeof i=="number"&&(o.maxLength=i),s&&(o.format=Ef[s]??s,o.format===""&&delete o.format,s==="time"&&delete o.format),l&&(o.contentEncoding=l),c&&c.size>0){const u=[...c];u.length===1?o.pattern=u[0].source:u.length>1&&(o.allOf=[...u.map(m=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:m.source}))])}},kf=(e,t,r,n)=>{const o=r,{minimum:a,maximum:i,format:s,multipleOf:c,exclusiveMaximum:l,exclusiveMinimum:u}=e._zod.bag;typeof s=="string"&&s.includes("int")?o.type="integer":o.type="number",typeof u=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(o.minimum=u,o.exclusiveMinimum=!0):o.exclusiveMinimum=u),typeof a=="number"&&(o.minimum=a,typeof u=="number"&&t.target!=="draft-04"&&(u>=a?delete o.minimum:delete o.exclusiveMinimum)),typeof l=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(o.maximum=l,o.exclusiveMaximum=!0):o.exclusiveMaximum=l),typeof i=="number"&&(o.maximum=i,typeof l=="number"&&t.target!=="draft-04"&&(l<=i?delete o.maximum:delete o.exclusiveMaximum)),typeof c=="number"&&(o.multipleOf=c)},Sf=(e,t,r,n)=>{r.not={}},zf=(e,t,r,n)=>{},Af=(e,t,r,n)=>{const o=e._zod.def,a=Da(o.entries);a.every(i=>typeof i=="number")&&(r.type="number"),a.every(i=>typeof i=="string")&&(r.type="string"),r.enum=a},Df=(e,t,r,n)=>{const o=e._zod.def,a=[];for(const i of o.values)if(i===void 0){if(t.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof i=="bigint"){if(t.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");a.push(Number(i))}else a.push(i);if(a.length!==0)if(a.length===1){const i=a[0];r.type=i===null?"null":typeof i,t.target==="draft-04"||t.target==="openapi-3.0"?r.enum=[i]:r.const=i}else a.every(i=>typeof i=="number")&&(r.type="number"),a.every(i=>typeof i=="string")&&(r.type="string"),a.every(i=>typeof i=="boolean")&&(r.type="boolean"),a.every(i=>i===null)&&(r.type="null"),r.enum=a},Nf=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},Of=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},Cf=(e,t,r,n)=>{const o=r,a=e._zod.def,{minimum:i,maximum:s}=e._zod.bag;typeof i=="number"&&(o.minItems=i),typeof s=="number"&&(o.maxItems=s),o.type="array",o.items=Te(a.element,t,{...n,path:[...n.path,"items"]})},Pf=(e,t,r,n)=>{const o=r,a=e._zod.def;o.type="object",o.properties={};const i=a.shape;for(const l in i)o.properties[l]=Te(i[l],t,{...n,path:[...n.path,"properties",l]});const s=new Set(Object.keys(i)),c=new Set([...s].filter(l=>{const u=a.shape[l]._zod;return t.io==="input"?u.optin===void 0:u.optout===void 0}));c.size>0&&(o.required=Array.from(c)),a.catchall?._zod.def.type==="never"?o.additionalProperties=!1:a.catchall?a.catchall&&(o.additionalProperties=Te(a.catchall,t,{...n,path:[...n.path,"additionalProperties"]})):t.io==="output"&&(o.additionalProperties=!1)},Tf=(e,t,r,n)=>{const o=e._zod.def,a=o.inclusive===!1,i=o.options.map((s,c)=>Te(s,t,{...n,path:[...n.path,a?"oneOf":"anyOf",c]}));a?r.oneOf=i:r.anyOf=i},If=(e,t,r,n)=>{const o=e._zod.def,a=Te(o.left,t,{...n,path:[...n.path,"allOf",0]}),i=Te(o.right,t,{...n,path:[...n.path,"allOf",1]}),s=l=>"allOf"in l&&Object.keys(l).length===1,c=[...s(a)?a.allOf:[a],...s(i)?i.allOf:[i]];r.allOf=c},Zf=(e,t,r,n)=>{const o=e._zod.def,a=Te(o.innerType,t,n),i=t.seen.get(e);t.target==="openapi-3.0"?(i.ref=o.innerType,r.nullable=!0):r.anyOf=[a,{type:"null"}]},jf=(e,t,r,n)=>{const o=e._zod.def;Te(o.innerType,t,n);const a=t.seen.get(e);a.ref=o.innerType},Rf=(e,t,r,n)=>{const o=e._zod.def;Te(o.innerType,t,n);const a=t.seen.get(e);a.ref=o.innerType,r.default=JSON.parse(JSON.stringify(o.defaultValue))},Lf=(e,t,r,n)=>{const o=e._zod.def;Te(o.innerType,t,n);const a=t.seen.get(e);a.ref=o.innerType,t.io==="input"&&(r._prefault=JSON.parse(JSON.stringify(o.defaultValue)))},Mf=(e,t,r,n)=>{const o=e._zod.def;Te(o.innerType,t,n);const a=t.seen.get(e);a.ref=o.innerType;let i;try{i=o.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}r.default=i},Ff=(e,t,r,n)=>{const o=e._zod.def,a=t.io==="input"?o.in._zod.def.type==="transform"?o.out:o.in:o.out;Te(a,t,n);const i=t.seen.get(e);i.ref=a},Vf=(e,t,r,n)=>{const o=e._zod.def;Te(o.innerType,t,n);const a=t.seen.get(e);a.ref=o.innerType,r.readOnly=!0},Xa=(e,t,r,n)=>{const o=e._zod.def;Te(o.innerType,t,n);const a=t.seen.get(e);a.ref=o.innerType},qf=y("ZodISODateTime",(e,t)=>{Ku.init(e,t),ye.init(e,t)});function Uf(e){return Xd(qf,e)}const Bf=y("ZodISODate",(e,t)=>{Hu.init(e,t),ye.init(e,t)});function Jf(e){return Qd(Bf,e)}const Wf=y("ZodISOTime",(e,t)=>{Gu.init(e,t),ye.init(e,t)});function Kf(e){return ef(Wf,e)}const Hf=y("ZodISODuration",(e,t)=>{Yu.init(e,t),ye.init(e,t)});function Gf(e){return tf(Hf,e)}const Yf=(e,t)=>{Ta.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>Fc(e,r)},flatten:{value:r=>Mc(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,$n,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,$n,2)}},isEmpty:{get(){return e.issues.length===0}}})},tt=y("ZodError",Yf,{Parent:Error}),Xf=Kn(tt),Qf=Hn(tt),ep=ln(tt),tp=cn(tt),rp=Uc(tt),np=Bc(tt),op=Jc(tt),ap=Wc(tt),ip=Kc(tt),sp=Hc(tt),lp=Gc(tt),cp=Yc(tt),Ee=y("ZodType",(e,t)=>(xe.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:rn(e,"input"),output:rn(e,"output")}}),e.toJSONSchema=xf(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone(Tt(t,{checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]}),{parent:!0}),e.with=e.check,e.clone=(r,n)=>It(e,r,n),e.brand=()=>e,e.register=((r,n)=>(r.add(e,n),e)),e.parse=(r,n)=>Xf(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>ep(e,r,n),e.parseAsync=async(r,n)=>Qf(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>tp(e,r,n),e.spa=e.safeParseAsync,e.encode=(r,n)=>rp(e,r,n),e.decode=(r,n)=>np(e,r,n),e.encodeAsync=async(r,n)=>op(e,r,n),e.decodeAsync=async(r,n)=>ap(e,r,n),e.safeEncode=(r,n)=>ip(e,r,n),e.safeDecode=(r,n)=>sp(e,r,n),e.safeEncodeAsync=async(r,n)=>lp(e,r,n),e.safeDecodeAsync=async(r,n)=>cp(e,r,n),e.refine=(r,n)=>e.check(im(r,n)),e.superRefine=r=>e.check(sm(r)),e.overwrite=r=>e.check(mr(r)),e.optional=()=>Co(e),e.exactOptional=()=>Wp(e),e.nullable=()=>Po(e),e.nullish=()=>Co(Po(e)),e.nonoptional=r=>Qp(e,r),e.array=()=>Tp(e),e.or=r=>Rp([e,r]),e.and=r=>Mp(e,r),e.transform=r=>To(e,Bp(r)),e.default=r=>Gp(e,r),e.prefault=r=>Xp(e,r),e.catch=r=>tm(e,r),e.pipe=r=>To(e,r),e.readonly=()=>om(e),e.describe=r=>{const n=e.clone();return xr.add(n,{description:r}),n},Object.defineProperty(e,"description",{get(){return xr.get(e)?.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return xr.get(e);const n=e.clone();return xr.add(n,r[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=r=>r(e),e)),Qa=y("_ZodString",(e,t)=>{Gn.init(e,t),Ee.init(e,t),e._zod.processJSONSchema=(n,o,a)=>$f(e,n,o);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...n)=>e.check(sf(...n)),e.includes=(...n)=>e.check(uf(...n)),e.startsWith=(...n)=>e.check(df(...n)),e.endsWith=(...n)=>e.check(ff(...n)),e.min=(...n)=>e.check(tn(...n)),e.max=(...n)=>e.check(Wa(...n)),e.length=(...n)=>e.check(Ka(...n)),e.nonempty=(...n)=>e.check(tn(1,...n)),e.lowercase=n=>e.check(lf(n)),e.uppercase=n=>e.check(cf(n)),e.trim=()=>e.check(mf()),e.normalize=(...n)=>e.check(pf(...n)),e.toLowerCase=()=>e.check(vf()),e.toUpperCase=()=>e.check(hf()),e.slugify=()=>e.check(gf())}),up=y("ZodString",(e,t)=>{Gn.init(e,t),Qa.init(e,t),e.email=r=>e.check(Od(dp,r)),e.url=r=>e.check(Zd(fp,r)),e.jwt=r=>e.check(Yd(zp,r)),e.emoji=r=>e.check(jd(pp,r)),e.guid=r=>e.check(ko(Do,r)),e.uuid=r=>e.check(Cd(Jr,r)),e.uuidv4=r=>e.check(Pd(Jr,r)),e.uuidv6=r=>e.check(Td(Jr,r)),e.uuidv7=r=>e.check(Id(Jr,r)),e.nanoid=r=>e.check(Rd(mp,r)),e.guid=r=>e.check(ko(Do,r)),e.cuid=r=>e.check(Ld(vp,r)),e.cuid2=r=>e.check(Md(hp,r)),e.ulid=r=>e.check(Fd(gp,r)),e.base64=r=>e.check(Kd($p,r)),e.base64url=r=>e.check(Hd(kp,r)),e.xid=r=>e.check(Vd(_p,r)),e.ksuid=r=>e.check(qd(bp,r)),e.ipv4=r=>e.check(Ud(yp,r)),e.ipv6=r=>e.check(Bd(wp,r)),e.cidrv4=r=>e.check(Jd(xp,r)),e.cidrv6=r=>e.check(Wd(Ep,r)),e.e164=r=>e.check(Gd(Sp,r)),e.datetime=r=>e.check(Uf(r)),e.date=r=>e.check(Jf(r)),e.time=r=>e.check(Kf(r)),e.duration=r=>e.check(Gf(r))});function Br(e){return Nd(up,e)}const ye=y("ZodStringFormat",(e,t)=>{be.init(e,t),Qa.init(e,t)}),dp=y("ZodEmail",(e,t)=>{Lu.init(e,t),ye.init(e,t)}),Do=y("ZodGUID",(e,t)=>{ju.init(e,t),ye.init(e,t)}),Jr=y("ZodUUID",(e,t)=>{Ru.init(e,t),ye.init(e,t)}),fp=y("ZodURL",(e,t)=>{Mu.init(e,t),ye.init(e,t)}),pp=y("ZodEmoji",(e,t)=>{Fu.init(e,t),ye.init(e,t)}),mp=y("ZodNanoID",(e,t)=>{Vu.init(e,t),ye.init(e,t)}),vp=y("ZodCUID",(e,t)=>{qu.init(e,t),ye.init(e,t)}),hp=y("ZodCUID2",(e,t)=>{Uu.init(e,t),ye.init(e,t)}),gp=y("ZodULID",(e,t)=>{Bu.init(e,t),ye.init(e,t)}),_p=y("ZodXID",(e,t)=>{Ju.init(e,t),ye.init(e,t)}),bp=y("ZodKSUID",(e,t)=>{Wu.init(e,t),ye.init(e,t)}),yp=y("ZodIPv4",(e,t)=>{Xu.init(e,t),ye.init(e,t)}),wp=y("ZodIPv6",(e,t)=>{Qu.init(e,t),ye.init(e,t)}),xp=y("ZodCIDRv4",(e,t)=>{ed.init(e,t),ye.init(e,t)}),Ep=y("ZodCIDRv6",(e,t)=>{td.init(e,t),ye.init(e,t)}),$p=y("ZodBase64",(e,t)=>{rd.init(e,t),ye.init(e,t)}),kp=y("ZodBase64URL",(e,t)=>{od.init(e,t),ye.init(e,t)}),Sp=y("ZodE164",(e,t)=>{ad.init(e,t),ye.init(e,t)}),zp=y("ZodJWT",(e,t)=>{sd.init(e,t),ye.init(e,t)}),ei=y("ZodNumber",(e,t)=>{qa.init(e,t),Ee.init(e,t),e._zod.processJSONSchema=(n,o,a)=>kf(e,n,o),e.gt=(n,o)=>e.check(zo(n,o)),e.gte=(n,o)=>e.check(mn(n,o)),e.min=(n,o)=>e.check(mn(n,o)),e.lt=(n,o)=>e.check(So(n,o)),e.lte=(n,o)=>e.check(pn(n,o)),e.max=(n,o)=>e.check(pn(n,o)),e.int=n=>e.check(No(n)),e.safe=n=>e.check(No(n)),e.positive=n=>e.check(zo(0,n)),e.nonnegative=n=>e.check(mn(0,n)),e.negative=n=>e.check(So(0,n)),e.nonpositive=n=>e.check(pn(0,n)),e.multipleOf=(n,o)=>e.check(Ao(n,o)),e.step=(n,o)=>e.check(Ao(n,o)),e.finite=()=>e;const r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function Ap(e){return rf(ei,e)}const Dp=y("ZodNumberFormat",(e,t)=>{ld.init(e,t),ei.init(e,t)});function No(e){return nf(Dp,e)}const Np=y("ZodUnknown",(e,t)=>{cd.init(e,t),Ee.init(e,t),e._zod.processJSONSchema=(r,n,o)=>zf()});function Oo(){return of(Np)}const Op=y("ZodNever",(e,t)=>{ud.init(e,t),Ee.init(e,t),e._zod.processJSONSchema=(r,n,o)=>Sf(e,r,n)});function Cp(e){return af(Op,e)}const Pp=y("ZodArray",(e,t)=>{dd.init(e,t),Ee.init(e,t),e._zod.processJSONSchema=(r,n,o)=>Cf(e,r,n,o),e.element=t.element,e.min=(r,n)=>e.check(tn(r,n)),e.nonempty=r=>e.check(tn(1,r)),e.max=(r,n)=>e.check(Wa(r,n)),e.length=(r,n)=>e.check(Ka(r,n)),e.unwrap=()=>e.element});function Tp(e,t){return _f(Pp,e,t)}const Ip=y("ZodObject",(e,t)=>{pd.init(e,t),Ee.init(e,t),e._zod.processJSONSchema=(r,n,o)=>Pf(e,r,n,o),ve(e,"shape",()=>t.shape),e.keyof=()=>Fp(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Oo()}),e.loose=()=>e.clone({...e._zod.def,catchall:Oo()}),e.strict=()=>e.clone({...e._zod.def,catchall:Cp()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>Ic(e,r),e.safeExtend=r=>Zc(e,r),e.merge=r=>jc(e,r),e.pick=r=>Pc(e,r),e.omit=r=>Tc(e,r),e.partial=(...r)=>Rc(ti,e,r[0]),e.required=(...r)=>Lc(ri,e,r[0])});function Zp(e,t){const r={type:"object",shape:e??{},...L(t)};return new Ip(r)}const jp=y("ZodUnion",(e,t)=>{md.init(e,t),Ee.init(e,t),e._zod.processJSONSchema=(r,n,o)=>Tf(e,r,n,o),e.options=t.options});function Rp(e,t){return new jp({type:"union",options:e,...L(t)})}const Lp=y("ZodIntersection",(e,t)=>{vd.init(e,t),Ee.init(e,t),e._zod.processJSONSchema=(r,n,o)=>If(e,r,n,o)});function Mp(e,t){return new Lp({type:"intersection",left:e,right:t})}const Sn=y("ZodEnum",(e,t)=>{hd.init(e,t),Ee.init(e,t),e._zod.processJSONSchema=(n,o,a)=>Af(e,n,o),e.enum=t.entries,e.options=Object.values(t.entries);const r=new Set(Object.keys(t.entries));e.extract=(n,o)=>{const a={};for(const i of n)if(r.has(i))a[i]=t.entries[i];else throw new Error(`Key ${i} not found in enum`);return new Sn({...t,checks:[],...L(o),entries:a})},e.exclude=(n,o)=>{const a={...t.entries};for(const i of n)if(r.has(i))delete a[i];else throw new Error(`Key ${i} not found in enum`);return new Sn({...t,checks:[],...L(o),entries:a})}});function Fp(e,t){const r=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new Sn({type:"enum",entries:r,...L(t)})}const Vp=y("ZodLiteral",(e,t)=>{gd.init(e,t),Ee.init(e,t),e._zod.processJSONSchema=(r,n,o)=>Df(e,r,n),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function qp(e,t){return new Vp({type:"literal",values:Array.isArray(e)?e:[e],...L(t)})}const Up=y("ZodTransform",(e,t)=>{_d.init(e,t),Ee.init(e,t),e._zod.processJSONSchema=(r,n,o)=>Of(e,r),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new za(e.constructor.name);r.addIssue=a=>{if(typeof a=="string")r.issues.push(Cr(a,r.value,t));else{const i=a;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=r.value),i.inst??(i.inst=e),r.issues.push(Cr(i))}};const o=t.transform(r.value,r);return o instanceof Promise?o.then(a=>(r.value=a,r)):(r.value=o,r)}});function Bp(e){return new Up({type:"transform",transform:e})}const ti=y("ZodOptional",(e,t)=>{Ja.init(e,t),Ee.init(e,t),e._zod.processJSONSchema=(r,n,o)=>Xa(e,r,n,o),e.unwrap=()=>e._zod.def.innerType});function Co(e){return new ti({type:"optional",innerType:e})}const Jp=y("ZodExactOptional",(e,t)=>{bd.init(e,t),Ee.init(e,t),e._zod.processJSONSchema=(r,n,o)=>Xa(e,r,n,o),e.unwrap=()=>e._zod.def.innerType});function Wp(e){return new Jp({type:"optional",innerType:e})}const Kp=y("ZodNullable",(e,t)=>{yd.init(e,t),Ee.init(e,t),e._zod.processJSONSchema=(r,n,o)=>Zf(e,r,n,o),e.unwrap=()=>e._zod.def.innerType});function Po(e){return new Kp({type:"nullable",innerType:e})}const Hp=y("ZodDefault",(e,t)=>{wd.init(e,t),Ee.init(e,t),e._zod.processJSONSchema=(r,n,o)=>Rf(e,r,n,o),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function Gp(e,t){return new Hp({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():Oa(t)}})}const Yp=y("ZodPrefault",(e,t)=>{xd.init(e,t),Ee.init(e,t),e._zod.processJSONSchema=(r,n,o)=>Lf(e,r,n,o),e.unwrap=()=>e._zod.def.innerType});function Xp(e,t){return new Yp({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():Oa(t)}})}const ri=y("ZodNonOptional",(e,t)=>{Ed.init(e,t),Ee.init(e,t),e._zod.processJSONSchema=(r,n,o)=>jf(e,r,n,o),e.unwrap=()=>e._zod.def.innerType});function Qp(e,t){return new ri({type:"nonoptional",innerType:e,...L(t)})}const em=y("ZodCatch",(e,t)=>{$d.init(e,t),Ee.init(e,t),e._zod.processJSONSchema=(r,n,o)=>Mf(e,r,n,o),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function tm(e,t){return new em({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const rm=y("ZodPipe",(e,t)=>{kd.init(e,t),Ee.init(e,t),e._zod.processJSONSchema=(r,n,o)=>Ff(e,r,n,o),e.in=t.in,e.out=t.out});function To(e,t){return new rm({type:"pipe",in:e,out:t})}const nm=y("ZodReadonly",(e,t)=>{Sd.init(e,t),Ee.init(e,t),e._zod.processJSONSchema=(r,n,o)=>Vf(e,r,n,o),e.unwrap=()=>e._zod.def.innerType});function om(e){return new nm({type:"readonly",innerType:e})}const am=y("ZodCustom",(e,t)=>{zd.init(e,t),Ee.init(e,t),e._zod.processJSONSchema=(r,n,o)=>Nf(e,r)});function im(e,t={}){return bf(am,e,t)}function sm(e){return yf(e)}var lm=N('<!> <div class="space-y-4"><!> <!></div>',1),cm=N("<!> <!> <!>",1);function um(e,t){Re(t,!0);const r=()=>X(w,"$hasErrors",i),n=()=>X(R,"$isDirty",i),o=()=>X(g,"$errors",i),a=()=>X(A,"$isDirtyByField",i),[i,s]=lt(),c=Zp({username:Br().min(3).max(20).regex(/^\S+$/,"Must not contain spaces"),email:Br().min(1,"Required").email(),age:Ap().int().min(18).max(120),website:Br().url().optional().or(qp("")),bio:Br().max(200).optional()});function l(D,F,W){const Y=D.safeParse(F);if(Y.success)return Object.fromEntries(W.map(T=>[T,""]));const K={};for(const T of Y.error.issues){const C=String(T.path[0]);K[C]||(K[C]=T.message)}return Object.fromEntries(W.map(T=>[T,K[T]??""]))}const u=c.pick({username:!0,email:!0,age:!0,website:!0}),m=Object.keys(u.shape),d=[...m,"bio"],v={username:{label:"Username",placeholder:"Enter username",type:"text"},email:{label:"Email",placeholder:"Enter email",type:"email"},age:{label:"Age",placeholder:"Enter age",type:"number"},website:{label:"Website",placeholder:"https://example.com",type:"text"}},b={username:"",email:"",age:0,website:"",bio:""},{data:_,state:{errors:g,hasErrors:w,isDirty:R,isDirtyByField:A}}=ct(b,{validator:D=>l(c,D,d)}),k=()=>{_.username=`user${ce()}`,_.email=`${ce()}@example.com`,_.age=Ye(18,65),_.bio="Hello, I am a demo user!",_.website=`https://${ce()}.com`},O=String.raw`import { z } from 'zod';

const userSchema = z.object({
  username: z.string().min(3).max(20).regex(/^\S+$/, 'Must not contain spaces'),
  email: z.string().min(1, 'Required').email(),
  age: z.number().int().min(18).max(120),
  website: z.string().url().optional().or(z.literal('')),
  bio: z.string().max(200).optional()
});`,P=`function zodToSvstateErrors(schema, source, fields) {
  const result = schema.safeParse(source);
  if (result.success)
    return Object.fromEntries(fields.map(f => [f, '']));

  const errorMap = {};
  for (const issue of result.error.issues) {
    const key = String(issue.path[0]);
    if (!errorMap[key]) errorMap[key] = issue.message;
  }
  return Object.fromEntries(
    fields.map(f => [f, errorMap[f] ?? ''])
  );
}

const { data, state: { errors, hasErrors } } = createSvState(sourceData, {
  validator: (source) => zodToSvstateErrors(userSchema, source, allFields)
});`,I=`// Pick a subset of fields for dynamic rendering
const pickedSchema = userSchema.pick({ username: true, email: true, age: true, website: true });
const dynamicFields = Object.keys(pickedSchema.shape);

const fieldMeta = {
  username: { label: 'Username', placeholder: 'Enter username', type: 'text' },
  email:    { label: 'Email',    placeholder: 'Enter email',    type: 'email' },
  age:      { label: 'Age',      placeholder: 'Enter age',      type: 'number' },
  website:  { label: 'Website',  placeholder: 'https://...',    type: 'text' },
};

// In template:
{#each dynamicFields as field}
  <FormField
    id={field}
    label={fieldMeta[field].label}
    type={fieldMeta[field].type}
    placeholder={fieldMeta[field].placeholder}
    error={$errors?.[field]}
    bind:value={data[field]}
  />
{/each}

<!-- bio rendered separately (not in pick) -->
<FormTextarea id="bio" ... bind:value={data.bio} />`;dt(e,{description:"Demonstrates using Zod schemas for validation with svstate, including dynamic form rendering via z.pick() shape keys.",title:"Zod Integration Demo",main:Y=>{var K=lm(),T=fe(K);pt(T,{get hasErrors(){return r()},get isDirty(){return n()}});var C=f(T,2),j=p(C);an(j,16,()=>m,M=>M,(M,Z)=>{const B=U(()=>v[Z]);{let H=U(()=>o()?.[Z]),Q=U(()=>Z!=="website");ae(M,{get id(){return Z},get error(){return h(H)},get isDirty(){return a()[Z]},get label(){return h(B).label},get placeholder(){return h(B).placeholder},get required(){return h(Q)},get type(){return h(B).type},get value(){return _[Z]},set value(te){_[Z]=te}})}});var E=f(j,2);{let M=U(()=>o()?.bio);sn(E,{id:"bio",get error(){return h(M)},get isDirty(){return a().bio},label:"Bio",placeholder:"Tell us about yourself (not in pick subset)",get value(){return _.bio},set value(Z){_.bio=Z}})}z(Y,K)},sidebar:Y=>{ut(Y,{get data(){return _},get errors(){return o()},get hasErrors(){return r()},get isDirty(){return n()},get isDirtyByField(){return a()},onFill:k})},sourceCode:Y=>{ft(Y,{children:(K,T)=>{var C=cm(),j=fe(C);me(j,{get code(){return O},title:"Zod Schema Definition"});var E=f(j,2);me(E,{code:P,title:"Bridge Function (Zod  svstate)"});var M=f(E,2);me(M,{code:I,title:"Dynamic Rendering via z.pick()"}),z(K,C)}})}}),Le(),s()}var dm=N("<option> </option>"),fm=N(`<div class="min-h-screen bg-gray-100 p-4 md:p-8"><header class="mb-6 flex flex-col items-center gap-4 text-center sm:mb-8 sm:flex-row sm:text-left"><img class="h-20 w-20 sm:h-32 sm:w-32" alt="svstate logo"/> <div class="flex-1"><h1 class="text-2xl font-bold text-gray-900 sm:text-4xl"><a class="ml-1 inline-flex items-center text-gray-500 transition-colors hover:text-gray-900" href="https://github.com/BCsabaEngine/svstate" rel="noopener noreferrer" target="_blank" title="View on GitHub"><svg class="h-4 w-4 sm:h-5 sm:w-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"></path></svg></a> svstate <span class="ml-2 text-base font-normal text-gray-500 sm:text-xl"> </span></h1> <p class="mt-2 text-sm text-gray-600 sm:text-base">A Svelte 5 library that provides a supercharged $state() with deep reactive proxies, validation, snapshot/undo,
				and side effects  built for complex, real-world applications.</p> <div class="mt-2 inline-flex items-center gap-1.5 rounded-md bg-gray-900 px-3 py-1.5 font-mono text-xs text-white"><span class="text-green-400">$</span> <span>npm i svstate</span> <button class="ml-1 cursor-pointer rounded p-0.5 text-gray-400 transition-colors hover:bg-gray-700 hover:text-white" title="Copy to clipboard" type="button"><svg class="h-3.5 w-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg></button></div> <a class="hidden items-center px-2 py-2 font-mono text-xs text-gray-700 transition-colors hover:bg-gray-300 sm:inline-flex" title="AI-readable documentation">llms.txt</a></div></header> <div class="flex flex-col gap-4 lg:flex-row lg:gap-6"><aside class="w-full lg:w-64 lg:flex-shrink-0"><div class="rounded-lg border border-gray-200 bg-white p-4 shadow-sm"><label class="mb-2 block text-sm font-medium text-gray-900" for="demo-select">Demo Mode</label> <select id="demo-select" class="block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500"></select></div></aside> <main class="min-w-0 flex-1"><!></main></div></div>`);function pm(e){const t=[{value:"basic-validation",name:"Basic Validation"},{value:"nested-objects",name:"Nested Objects"},{value:"array-property",name:"Array Property"},{value:"calculated-fields",name:"Calculated Fields"},{value:"calculated-class",name:"State with Methods"},{value:"reset-demo",name:"Reset"},{value:"snapshot-demo",name:"Snapshot & Rollback"},{value:"action-demo",name:"Action & Error"},{value:"async-validation",name:"Async Validation"},{value:"options-demo",name:"Options"},{value:"zod-validation",name:"Zod Integration"}];let r=$e("basic-validation");const n="1.4.1",o="/svstate";var a=fm(),i=p(a),s=p(i),c=f(s,2),l=p(c),u=f(p(l),2),m=p(u),d=f(l,4),v=f(p(d),4),b=f(d,2),_=f(i,2),g=p(_),w=p(g),R=f(p(w),2);an(R,21,()=>t,Vn,(E,M)=>{var Z=dm(),B=p(Z),H={};ne(()=>{q(B,h(M).name),H!==(H=h(M).value)&&(Z.value=(Z.__value=h(M).value)??"")}),z(E,Z)});var A=f(g,2),k=p(A);{var O=E=>{Fl(E,{})},P=E=>{ic(E,{})},I=E=>{Al(E,{})},D=E=>{Hl(E,{})},F=E=>{Jl(E,{})},W=E=>{_c(E,{})},Y=E=>{Sc(E,{})},K=E=>{_l(E,{})},T=E=>{Zl(E,{})},C=E=>{mc(E,{})},j=E=>{um(E,{})};de(k,E=>{h(r)==="basic-validation"?E(O):h(r)==="nested-objects"?E(P,1):h(r)==="array-property"?E(I,2):h(r)==="calculated-fields"?E(D,3):h(r)==="calculated-class"?E(F,4):h(r)==="reset-demo"?E(W,5):h(r)==="snapshot-demo"?E(Y,6):h(r)==="action-demo"?E(K,7):h(r)==="async-validation"?E(T,8):h(r)==="options-demo"?E(C,9):h(r)==="zod-validation"&&E(j,10)})}ne(()=>{Oe(s,"src",`${o}/favicon.png`),q(m,`v${n}`),Oe(b,"href",`${o}/llms.txt`)}),qe("click",v,()=>navigator.clipboard.writeText(`npm i svstate@${n}`)),Is(R,()=>h(r),E=>he(r,E)),z(e,a)}ht(["click"]);ks(pm,{target:document.querySelector("#app")});
