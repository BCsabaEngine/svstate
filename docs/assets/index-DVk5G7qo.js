(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();const br=!1;var Ar=Array.isArray,Kn=Array.prototype.indexOf,vr=Array.from,sn=Object.defineProperty,qt=Object.getOwnPropertyDescriptor,on=Object.getOwnPropertyDescriptors,Zn=Object.prototype,Xn=Array.prototype,Cr=Object.getPrototypeOf,Wr=Object.isExtensible;const et=()=>{};function Qn(e){return e()}function ir(e){for(var t=0;t<e.length;t++)e[t]()}function ln(){var e,t,r=new Promise((a,n)=>{e=a,t=n});return{promise:r,resolve:e,reject:t}}const me=2,sr=4,Kt=8,un=1<<24,Je=16,Ge=32,_t=64,kr=128,qe=512,ge=1024,xe=2048,Ke=4096,De=8192,ze=16384,Lr=32768,mt=65536,Hr=1<<17,cn=1<<18,Mt=1<<19,dn=1<<20,Ue=1<<25,ht=32768,yr=1<<21,qr=1<<22,tt=1<<23,rt=Symbol("$state"),ea=Symbol("legacy props"),ta=Symbol(""),Lt=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function ra(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function na(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function aa(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ia(e){throw new Error("https://svelte.dev/e/effect_orphan")}function sa(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function oa(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function la(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ua(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function ca(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function da(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const fa=1,va=2,fn=4,ma=8,ha=16,pa=1,ga=2,_a=4,ba=8,ya=16,xa=1,Ea=2,ve=Symbol(),wa="http://www.w3.org/1999/xhtml";function $a(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function Sa(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function vn(e){return e===this.v}function mn(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function hn(e){return!mn(e,this.v)}let Zt=!1,Na=!1;function Da(){Zt=!0}let le=null;function It(e){le=e}function Oe(e,t=!1,r){le={p:le,i:!1,c:null,e:null,s:e,x:null,l:Zt&&!t?{s:null,u:null,$:[]}:null}}function Fe(e){var t=le,r=t.e;if(r!==null){t.e=null;for(var a of r)qn(a)}return t.i=!0,le=t.p,{}}function Xt(){return!Zt||le!==null&&le.l===null}let ut=[];function pn(){var e=ut;ut=[],ir(e)}function mr(e){if(ut.length===0&&!Bt){var t=ut;queueMicrotask(()=>{t===ut&&pn()})}ut.push(e)}function Aa(){for(;ut.length>0;)pn()}function gn(e){var t=z;if(t===null)return O.f|=tt,e;if((t.f&Lr)===0){if((t.f&kr)===0)throw e;t.b.error(e)}else Tt(e,t)}function Tt(e,t){for(;t!==null;){if((t.f&kr)!==0)try{t.b.error(e);return}catch(r){e=r}t=t.parent}throw e}const Ca=-7169;function ue(e,t){e.f=e.f&Ca|t}function Pr(e){(e.f&qe)!==0||e.deps===null?ue(e,ge):ue(e,Ke)}function _n(e){if(e!==null)for(const t of e)(t.f&me)===0||(t.f&ht)===0||(t.f^=ht,_n(t.deps))}function bn(e,t,r){(e.f&xe)!==0?t.add(e):(e.f&Ke)!==0&&r.add(e),_n(e.deps),ue(e,ge)}const rr=new Set;let B=null,jt=null,Ie=null,ke=[],hr=null,xr=!1,Bt=!1;class Me{committed=!1;current=new Map;previous=new Map;#t=new Set;#s=new Set;#e=0;#a=0;#i=null;#n=new Set;#r=new Set;skipped_effects=new Set;is_fork=!1;is_deferred(){return this.is_fork||this.#a>0}process(t){ke=[],jt=null,this.apply();var r=[],a=[];for(const n of t)this.#o(n,r,a);this.is_fork||this.#u(),this.is_deferred()?(this.#l(a),this.#l(r)):(jt=this,B=null,Yr(a),Yr(r),jt=null,this.#i?.resolve()),Ie=null}#o(t,r,a){t.f^=ge;for(var n=t.first,i=null;n!==null;){var s=n.f,o=(s&(Ge|_t))!==0,l=o&&(s&ge)!==0,u=l||(s&De)!==0||this.skipped_effects.has(n);if(!u&&n.fn!==null){o?n.f^=ge:i!==null&&(s&(sr|Kt|un))!==0?i.b.defer_effect(n):(s&sr)!==0?r.push(n):tr(n)&&((s&Je)!==0&&this.#n.add(n),Gt(n));var f=n.first;if(f!==null){n=f;continue}}var d=n.parent;for(n=n.next;n===null&&d!==null;)d===i&&(i=null),n=d.next,d=d.parent}}#l(t){for(var r=0;r<t.length;r+=1)bn(t[r],this.#n,this.#r)}capture(t,r){r!==ve&&!this.previous.has(t)&&this.previous.set(t,r),(t.f&tt)===0&&(this.current.set(t,t.v),Ie?.set(t,t.v))}activate(){B=this,this.apply()}deactivate(){B===this&&(B=null,Ie=null)}flush(){if(this.activate(),ke.length>0){if(yn(),B!==null&&B!==this)return}else this.#e===0&&this.process([]);this.deactivate()}discard(){for(const t of this.#s)t(this);this.#s.clear()}#u(){if(this.#a===0){for(const t of this.#t)t();this.#t.clear()}this.#e===0&&this.#c()}#c(){if(rr.size>1){this.previous.clear();var t=Ie,r=!0;for(const n of rr){if(n===this){r=!1;continue}const i=[];for(const[o,l]of this.current){if(n.current.has(o))if(r&&l!==n.current.get(o))n.current.set(o,l);else continue;i.push(o)}if(i.length===0)continue;const s=[...n.current.keys()].filter(o=>!this.current.has(o));if(s.length>0){var a=ke;ke=[];const o=new Set,l=new Map;for(const u of i)xn(u,s,o,l);if(ke.length>0){B=n,n.apply();for(const u of ke)n.#o(u,[],[]);n.deactivate()}ke=a}}B=null,Ie=t}this.committed=!0,rr.delete(this)}increment(t){this.#e+=1,t&&(this.#a+=1)}decrement(t){this.#e-=1,t&&(this.#a-=1),this.revive()}revive(){for(const t of this.#n)this.#r.delete(t),ue(t,xe),Ye(t);for(const t of this.#r)ue(t,Ke),Ye(t);this.flush()}oncommit(t){this.#t.add(t)}ondiscard(t){this.#s.add(t)}settled(){return(this.#i??=ln()).promise}static ensure(){if(B===null){const t=B=new Me;rr.add(B),Bt||Me.enqueue(()=>{B===t&&t.flush()})}return B}static enqueue(t){mr(t)}apply(){}}function ka(e){var t=Bt;Bt=!0;try{for(var r;;){if(Aa(),ke.length===0&&(B?.flush(),ke.length===0))return hr=null,r;yn()}}finally{Bt=t}}function yn(){var e=ft;xr=!0;var t=null;try{var r=0;for(ur(!0);ke.length>0;){var a=Me.ensure();if(r++>1e3){var n,i;La()}a.process(ke),nt.clear()}}finally{xr=!1,ur(e),hr=null}}function La(){try{sa()}catch(e){Tt(e,hr)}}let Be=null;function Yr(e){var t=e.length;if(t!==0){for(var r=0;r<t;){var a=e[r++];if((a.f&(ze|De))===0&&tr(a)&&(Be=new Set,Gt(a),a.deps===null&&a.first===null&&a.nodes===null&&(a.teardown===null&&a.ac===null?Tn(a):a.fn=null),Be?.size>0)){nt.clear();for(const n of Be){if((n.f&(ze|De))!==0)continue;const i=[n];let s=n.parent;for(;s!==null;)Be.has(s)&&(Be.delete(s),i.push(s)),s=s.parent;for(let o=i.length-1;o>=0;o--){const l=i[o];(l.f&(ze|De))===0&&Gt(l)}}Be.clear()}}Be=null}}function xn(e,t,r,a){if(!r.has(e)&&(r.add(e),e.reactions!==null))for(const n of e.reactions){const i=n.f;(i&me)!==0?xn(n,t,r,a):(i&(qr|Je))!==0&&(i&xe)===0&&En(n,t,a)&&(ue(n,xe),Ye(n))}}function En(e,t,r){const a=r.get(e);if(a!==void 0)return a;if(e.deps!==null)for(const n of e.deps){if(t.includes(n))return!0;if((n.f&me)!==0&&En(n,t,r))return r.set(n,!0),!0}return r.set(e,!1),!1}function Ye(e){for(var t=hr=e;t.parent!==null;){t=t.parent;var r=t.f;if(xr&&t===z&&(r&Je)!==0&&(r&cn)===0)return;if((r&(_t|Ge))!==0){if((r&ge)===0)return;t.f^=ge}}ke.push(t)}function qa(e){let t=0,r=pt(0),a;return()=>{Rr()&&(c(r),Fr(()=>(t===0&&(a=st(()=>e(()=>Ut(r)))),t+=1,()=>{mr(()=>{t-=1,t===0&&(a?.(),a=void 0,Ut(r))})})))}}var Pa=mt|Mt|kr;function Ia(e,t,r){new Ta(e,t,r)}class Ta{parent;is_pending=!1;#t;#s=null;#e;#a;#i;#n=null;#r=null;#o=null;#l=null;#u=null;#c=0;#d=0;#v=!1;#m=new Set;#h=new Set;#f=null;#y=qa(()=>(this.#f=pt(this.#c),()=>{this.#f=null}));constructor(t,r,a){this.#t=t,this.#e=r,this.#a=a,this.parent=z.b,this.is_pending=!!this.#e.pending,this.#i=pr(()=>{z.b=this;{var n=this.#_();try{this.#n=Le(()=>a(n))}catch(i){this.error(i)}this.#d>0?this.#g():this.is_pending=!1}return()=>{this.#u?.remove()}},Pa)}#x(){try{this.#n=Le(()=>this.#a(this.#t))}catch(t){this.error(t)}}#E(){const t=this.#e.pending;t&&(this.#r=Le(()=>t(this.#t)),Me.enqueue(()=>{var r=this.#_();this.#n=this.#p(()=>(Me.ensure(),Le(()=>this.#a(r)))),this.#d>0?this.#g():(dt(this.#r,()=>{this.#r=null}),this.is_pending=!1)}))}#_(){var t=this.#t;return this.is_pending&&(this.#u=We(),this.#t.before(this.#u),t=this.#u),t}defer_effect(t){bn(t,this.#m,this.#h)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#e.pending}#p(t){var r=z,a=O,n=le;Re(this.#i),$e(this.#i),It(this.#i.ctx);try{return t()}catch(i){return gn(i),null}finally{Re(r),$e(a),It(n)}}#g(){const t=this.#e.pending;this.#n!==null&&(this.#l=document.createDocumentFragment(),this.#l.append(this.#u),On(this.#n,this.#l)),this.#r===null&&(this.#r=Le(()=>t(this.#t)))}#b(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#b(t);return}if(this.#d+=t,this.#d===0){this.is_pending=!1;for(const r of this.#m)ue(r,xe),Ye(r);for(const r of this.#h)ue(r,Ke),Ye(r);this.#m.clear(),this.#h.clear(),this.#r&&dt(this.#r,()=>{this.#r=null}),this.#l&&(this.#t.before(this.#l),this.#l=null)}}update_pending_count(t){this.#b(t),this.#c+=t,this.#f&&gt(this.#f,this.#c)}get_effect_pending(){return this.#y(),c(this.#f)}error(t){var r=this.#e.onerror;let a=this.#e.failed;if(this.#v||!r&&!a)throw t;this.#n&&(Se(this.#n),this.#n=null),this.#r&&(Se(this.#r),this.#r=null),this.#o&&(Se(this.#o),this.#o=null);var n=!1,i=!1;const s=()=>{if(n){Sa();return}n=!0,i&&da(),Me.ensure(),this.#c=0,this.#o!==null&&dt(this.#o,()=>{this.#o=null}),this.is_pending=this.has_pending_snippet(),this.#n=this.#p(()=>(this.#v=!1,Le(()=>this.#a(this.#t)))),this.#d>0?this.#g():this.is_pending=!1};var o=O;try{$e(null),i=!0,r?.(t,s),i=!1}catch(l){Tt(l,this.#i&&this.#i.parent)}finally{$e(o)}a&&mr(()=>{this.#o=this.#p(()=>{Me.ensure(),this.#v=!0;try{return Le(()=>{a(this.#t,()=>t,()=>s)})}catch(l){return Tt(l,this.#i.parent),null}finally{this.#v=!1}})})}}function Ma(e,t,r,a){const n=Xt()?Qt:j;if(r.length===0&&e.length===0){a(t.map(n));return}var i=B,s=z,o=Ra();function l(){Promise.all(r.map(u=>Oa(u))).then(u=>{o();try{a([...t.map(n),...u])}catch(f){(s.f&ze)===0&&Tt(f,s)}i?.deactivate(),or()}).catch(u=>{Tt(u,s)})}e.length>0?Promise.all(e).then(()=>{o();try{return l()}finally{i?.deactivate(),or()}}):l()}function Ra(){var e=z,t=O,r=le,a=B;return function(i=!0){Re(e),$e(t),It(r),i&&a?.activate()}}function or(){Re(null),$e(null),It(null)}function Qt(e){var t=me|xe,r=O!==null&&(O.f&me)!==0?O:null;return z!==null&&(z.f|=Mt),{ctx:le,deps:null,effects:null,equals:vn,f:t,fn:e,reactions:null,rv:0,v:ve,wv:0,parent:r??z,ac:null}}function Oa(e,t,r){let a=z;a===null&&ra();var n=a.b,i=void 0,s=pt(ve),o=!O,l=new Map;return Ga(()=>{var u=ln();i=u.promise;try{Promise.resolve(e()).then(u.resolve,u.reject).then(()=>{f===B&&f.committed&&f.deactivate(),or()})}catch(h){u.reject(h),or()}var f=B;if(o){var d=n.is_rendered();n.update_pending_count(1),f.increment(d),l.get(f)?.reject(Lt),l.delete(f),l.set(f,u)}const v=(h,_=void 0)=>{if(f.activate(),_)_!==Lt&&(s.f|=tt,gt(s,_));else{(s.f&tt)!==0&&(s.f^=tt),gt(s,h);for(const[L,g]of l){if(l.delete(L),L===f)break;g.reject(Lt)}}o&&(n.update_pending_count(-1),f.decrement(d))};u.promise.then(v,h=>v(null,h||"unknown"))}),Or(()=>{for(const u of l.values())u.reject(Lt)}),new Promise(u=>{function f(d){function v(){d===i?u(s):f(i)}d.then(v,v)}f(i)})}function Yt(e){const t=Qt(e);return Fn(t),t}function j(e){const t=Qt(e);return t.equals=hn,t}function wn(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)Se(t[r])}}function Fa(e){for(var t=e.parent;t!==null;){if((t.f&me)===0)return(t.f&ze)===0?t:null;t=t.parent}return null}function Ir(e){var t,r=z;Re(Fa(e));try{e.f&=~ht,wn(e),t=Un(e)}finally{Re(r)}return t}function $n(e){var t=Ir(e);if(!e.equals(t)&&(e.wv=jn(),(!B?.is_fork||e.deps===null)&&(e.v=t,e.deps===null))){ue(e,ge);return}at||(Ie!==null?(Rr()||B?.is_fork)&&Ie.set(e,t):Pr(e))}let Er=new Set;const nt=new Map;let Sn=!1;function pt(e,t){var r={f:0,v:e,reactions:null,equals:vn,rv:0,wv:0};return r}function Ce(e,t){const r=pt(e);return Fn(r),r}function it(e,t=!1,r=!0){const a=pt(e);return t||(a.equals=hn),Zt&&r&&le!==null&&le.l!==null&&(le.l.s??=[]).push(a),a}function E(e,t){return pe(e,st(()=>c(e))),t}function pe(e,t,r=!1){O!==null&&(!Te||(O.f&Hr)!==0)&&Xt()&&(O.f&(me|Je|qr|Hr))!==0&&!He?.includes(e)&&ca();let a=r?ct(t):t;return gt(e,a)}function gt(e,t){if(!e.equals(t)){var r=e.v;at?nt.set(e,t):nt.set(e,r),e.v=t;var a=Me.ensure();if(a.capture(e,r),(e.f&me)!==0){const n=e;(e.f&xe)!==0&&Ir(n),Pr(n)}e.wv=jn(),Nn(e,xe),Xt()&&z!==null&&(z.f&ge)!==0&&(z.f&(Ge|_t))===0&&(Ae===null?Qa([e]):Ae.push(e)),!a.is_fork&&Er.size>0&&!Sn&&Va()}return t}function Va(){Sn=!1;var e=ft;ur(!0);const t=Array.from(Er);try{for(const r of t)(r.f&ge)!==0&&ue(r,Ke),tr(r)&&Gt(r)}finally{ur(e)}Er.clear()}function Ut(e){pe(e,e.v+1)}function Nn(e,t){var r=e.reactions;if(r!==null)for(var a=Xt(),n=r.length,i=0;i<n;i++){var s=r[i],o=s.f;if(!(!a&&s===z)){var l=(o&xe)===0;if(l&&ue(s,t),(o&me)!==0){var u=s;Ie?.delete(u),(o&ht)===0&&(o&qe&&(s.f|=ht),Nn(u,Ke))}else l&&((o&Je)!==0&&Be!==null&&Be.add(s),Ye(s))}}}function ct(e){if(typeof e!="object"||e===null||rt in e)return e;const t=Cr(e);if(t!==Zn&&t!==Xn)return e;var r=new Map,a=Ar(e),n=Ce(0),i=vt,s=o=>{if(vt===i)return o();var l=O,u=vt;$e(null),en(i);var f=o();return $e(l),en(u),f};return a&&r.set("length",Ce(e.length)),new Proxy(e,{defineProperty(o,l,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&la();var f=r.get(l);return f===void 0?f=s(()=>{var d=Ce(u.value);return r.set(l,d),d}):pe(f,u.value,!0),!0},deleteProperty(o,l){var u=r.get(l);if(u===void 0){if(l in o){const f=s(()=>Ce(ve));r.set(l,f),Ut(n)}}else pe(u,ve),Ut(n);return!0},get(o,l,u){if(l===rt)return e;var f=r.get(l),d=l in o;if(f===void 0&&(!d||qt(o,l)?.writable)&&(f=s(()=>{var h=ct(d?o[l]:ve),_=Ce(h);return _}),r.set(l,f)),f!==void 0){var v=c(f);return v===ve?void 0:v}return Reflect.get(o,l,u)},getOwnPropertyDescriptor(o,l){var u=Reflect.getOwnPropertyDescriptor(o,l);if(u&&"value"in u){var f=r.get(l);f&&(u.value=c(f))}else if(u===void 0){var d=r.get(l),v=d?.v;if(d!==void 0&&v!==ve)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return u},has(o,l){if(l===rt)return!0;var u=r.get(l),f=u!==void 0&&u.v!==ve||Reflect.has(o,l);if(u!==void 0||z!==null&&(!f||qt(o,l)?.writable)){u===void 0&&(u=s(()=>{var v=f?ct(o[l]):ve,h=Ce(v);return h}),r.set(l,u));var d=c(u);if(d===ve)return!1}return f},set(o,l,u,f){var d=r.get(l),v=l in o;if(a&&l==="length")for(var h=u;h<d.v;h+=1){var _=r.get(h+"");_!==void 0?pe(_,ve):h in o&&(_=s(()=>Ce(ve)),r.set(h+"",_))}if(d===void 0)(!v||qt(o,l)?.writable)&&(d=s(()=>Ce(void 0)),pe(d,ct(u)),r.set(l,d));else{v=d.v!==ve;var L=s(()=>ct(u));pe(d,L)}var g=Reflect.getOwnPropertyDescriptor(o,l);if(g?.set&&g.set.call(f,u),!v){if(a&&typeof l=="string"){var y=r.get("length"),S=Number(l);Number.isInteger(S)&&S>=y.v&&pe(y,S+1)}Ut(n)}return!0},ownKeys(o){c(n);var l=Reflect.ownKeys(o).filter(d=>{var v=r.get(d);return v===void 0||v.v!==ve});for(var[u,f]of r)f.v!==ve&&!(u in o)&&l.push(u);return l},setPrototypeOf(){ua()}})}function Jr(e){try{if(e!==null&&typeof e=="object"&&rt in e)return e[rt]}catch{}return e}function ja(e,t){return Object.is(Jr(e),Jr(t))}var Gr,Dn,An,Cn;function Ba(){if(Gr===void 0){Gr=window,Dn=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;An=qt(t,"firstChild").get,Cn=qt(t,"nextSibling").get,Wr(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Wr(r)&&(r.__t=void 0)}}function We(e=""){return document.createTextNode(e)}function lr(e){return An.call(e)}function er(e){return Cn.call(e)}function p(e,t){return lr(e)}function re(e,t=!1){{var r=lr(e);return r instanceof Comment&&r.data===""?er(r):r}}function m(e,t=1,r=!1){let a=e;for(;t--;)a=er(a);return a}function Ua(e){e.textContent=""}function kn(){return!1}let Kr=!1;function za(){Kr||(Kr=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function Tr(e){var t=O,r=z;$e(null),Re(null);try{return e()}finally{$e(t),Re(r)}}function Mr(e,t,r,a=r){e.addEventListener(t,()=>Tr(r));const n=e.__on_r;n?e.__on_r=()=>{n(),a(!0)}:e.__on_r=()=>a(!0),za()}function Ln(e){z===null&&(O===null&&ia(),aa()),at&&na()}function Wa(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function Ve(e,t,r){var a=z;a!==null&&(a.f&De)!==0&&(e|=De);var n={ctx:le,deps:null,nodes:null,f:e|xe|qe,first:null,fn:t,last:null,next:null,parent:a,b:a&&a.b,prev:null,teardown:null,wv:0,ac:null};if(r)try{Gt(n),n.f|=Lr}catch(o){throw Se(n),o}else t!==null&&Ye(n);var i=n;if(r&&i.deps===null&&i.teardown===null&&i.nodes===null&&i.first===i.last&&(i.f&Mt)===0&&(i=i.first,(e&Je)!==0&&(e&mt)!==0&&i!==null&&(i.f|=mt)),i!==null&&(i.parent=a,a!==null&&Wa(i,a),O!==null&&(O.f&me)!==0&&(e&_t)===0)){var s=O;(s.effects??=[]).push(i)}return n}function Rr(){return O!==null&&!Te}function Or(e){const t=Ve(Kt,null,!1);return ue(t,ge),t.teardown=e,t}function Zr(e){Ln();var t=z.f,r=!O&&(t&Ge)!==0&&(t&Lr)===0;if(r){var a=le;(a.e??=[]).push(e)}else return qn(e)}function qn(e){return Ve(sr|dn,e,!1)}function Ha(e){return Ln(),Ve(Kt|dn,e,!0)}function Ya(e){Me.ensure();const t=Ve(_t|Mt,e,!0);return(r={})=>new Promise(a=>{r.outro?dt(t,()=>{Se(t),a(void 0)}):(Se(t),a(void 0))})}function Ja(e){return Ve(sr,e,!1)}function Ga(e){return Ve(qr|Mt,e,!0)}function Fr(e,t=0){return Ve(Kt|t,e,!0)}function X(e,t=[],r=[],a=[]){Ma(a,t,r,n=>{Ve(Kt,()=>e(...n.map(c)),!0)})}function pr(e,t=0){var r=Ve(Je|t,e,!0);return r}function Le(e){return Ve(Ge|Mt,e,!0)}function Pn(e){var t=e.teardown;if(t!==null){const r=at,a=O;Qr(!0),$e(null);try{t.call(null)}finally{Qr(r),$e(a)}}}function In(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){const n=r.ac;n!==null&&Tr(()=>{n.abort(Lt)});var a=r.next;(r.f&_t)!==0?r.parent=null:Se(r,t),r=a}}function Ka(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&Ge)===0&&Se(t),t=r}}function Se(e,t=!0){var r=!1;(t||(e.f&cn)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(Za(e.nodes.start,e.nodes.end),r=!0),In(e,t&&!r),cr(e,0),ue(e,ze);var a=e.nodes&&e.nodes.t;if(a!==null)for(const i of a)i.stop();Pn(e);var n=e.parent;n!==null&&n.first!==null&&Tn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function Za(e,t){for(;e!==null;){var r=e===t?null:er(e);e.remove(),e=r}}function Tn(e){var t=e.parent,r=e.prev,a=e.next;r!==null&&(r.next=a),a!==null&&(a.prev=r),t!==null&&(t.first===e&&(t.first=a),t.last===e&&(t.last=r))}function dt(e,t,r=!0){var a=[];Mn(e,a,!0);var n=()=>{r&&Se(e),t&&t()},i=a.length;if(i>0){var s=()=>--i||n();for(var o of a)o.out(s)}else n()}function Mn(e,t,r){if((e.f&De)===0){e.f^=De;var a=e.nodes&&e.nodes.t;if(a!==null)for(const o of a)(o.is_global||r)&&t.push(o);for(var n=e.first;n!==null;){var i=n.next,s=(n.f&mt)!==0||(n.f&Ge)!==0&&(e.f&Je)!==0;Mn(n,t,s?r:!1),n=i}}}function Vr(e){Rn(e,!0)}function Rn(e,t){if((e.f&De)!==0){e.f^=De,(e.f&ge)===0&&(ue(e,xe),Ye(e));for(var r=e.first;r!==null;){var a=r.next,n=(r.f&mt)!==0||(r.f&Ge)!==0;Rn(r,n?t:!1),r=a}var i=e.nodes&&e.nodes.t;if(i!==null)for(const s of i)(s.is_global||t)&&s.in()}}function On(e,t){if(e.nodes)for(var r=e.nodes.start,a=e.nodes.end;r!==null;){var n=r===a?null:er(r);t.append(r),r=n}}let Ct=null;function Xa(e){var t=Ct;try{if(Ct=new Set,st(e),t!==null)for(var r of Ct)t.add(r);return Ct}finally{Ct=t}}function Xr(e){for(var t of Xa(e))gt(t,t.v)}let ft=!1;function ur(e){ft=e}let at=!1;function Qr(e){at=e}let O=null,Te=!1;function $e(e){O=e}let z=null;function Re(e){z=e}let He=null;function Fn(e){O!==null&&(He===null?He=[e]:He.push(e))}let ye=null,Ne=0,Ae=null;function Qa(e){Ae=e}let Vn=1,Jt=0,vt=Jt;function en(e){vt=e}function jn(){return++Vn}function tr(e){var t=e.f;if((t&xe)!==0)return!0;if(t&me&&(e.f&=~ht),(t&Ke)!==0){for(var r=e.deps,a=r.length,n=0;n<a;n++){var i=r[n];if(tr(i)&&$n(i),i.wv>e.wv)return!0}(t&qe)!==0&&Ie===null&&ue(e,ge)}return!1}function Bn(e,t,r=!0){var a=e.reactions;if(a!==null&&!He?.includes(e))for(var n=0;n<a.length;n++){var i=a[n];(i.f&me)!==0?Bn(i,t,!1):t===i&&(r?ue(i,xe):(i.f&ge)!==0&&ue(i,Ke),Ye(i))}}function Un(e){var t=ye,r=Ne,a=Ae,n=O,i=He,s=le,o=Te,l=vt,u=e.f;ye=null,Ne=0,Ae=null,O=(u&(Ge|_t))===0?e:null,He=null,It(e.ctx),Te=!1,vt=++Jt,e.ac!==null&&(Tr(()=>{e.ac.abort(Lt)}),e.ac=null);try{e.f|=yr;var f=e.fn,d=f(),v=e.deps;if(ye!==null){var h;if(cr(e,Ne),v!==null&&Ne>0)for(v.length=Ne+ye.length,h=0;h<ye.length;h++)v[Ne+h]=ye[h];else e.deps=v=ye;if(Rr()&&(e.f&qe)!==0)for(h=Ne;h<v.length;h++)(v[h].reactions??=[]).push(e)}else v!==null&&Ne<v.length&&(cr(e,Ne),v.length=Ne);if(Xt()&&Ae!==null&&!Te&&v!==null&&(e.f&(me|Ke|xe))===0)for(h=0;h<Ae.length;h++)Bn(Ae[h],e);return n!==null&&n!==e&&(Jt++,Ae!==null&&(a===null?a=Ae:a.push(...Ae))),(e.f&tt)!==0&&(e.f^=tt),d}catch(_){return gn(_)}finally{e.f^=yr,ye=t,Ne=r,Ae=a,O=n,He=i,It(s),Te=o,vt=l}}function ei(e,t){let r=t.reactions;if(r!==null){var a=Kn.call(r,e);if(a!==-1){var n=r.length-1;n===0?r=t.reactions=null:(r[a]=r[n],r.pop())}}if(r===null&&(t.f&me)!==0&&(ye===null||!ye.includes(t))){var i=t;(i.f&qe)!==0&&(i.f^=qe,i.f&=~ht),Pr(i),wn(i),cr(i,0)}}function cr(e,t){var r=e.deps;if(r!==null)for(var a=t;a<r.length;a++)ei(e,r[a])}function Gt(e){var t=e.f;if((t&ze)===0){ue(e,ge);var r=z,a=ft;z=e,ft=!0;try{(t&(Je|un))!==0?Ka(e):In(e),Pn(e);var n=Un(e);e.teardown=typeof n=="function"?n:null,e.wv=Vn;var i;br&&Na&&(e.f&xe)!==0&&e.deps}finally{ft=a,z=r}}}async function ti(){await Promise.resolve(),ka()}function c(e){var t=e.f,r=(t&me)!==0;if(Ct?.add(e),O!==null&&!Te){var a=z!==null&&(z.f&ze)!==0;if(!a&&!He?.includes(e)){var n=O.deps;if((O.f&yr)!==0)e.rv<Jt&&(e.rv=Jt,ye===null&&n!==null&&n[Ne]===e?Ne++:ye===null?ye=[e]:ye.includes(e)||ye.push(e));else{(O.deps??=[]).push(e);var i=e.reactions;i===null?e.reactions=[O]:i.includes(O)||i.push(O)}}}if(at&&nt.has(e))return nt.get(e);if(r){var s=e;if(at){var o=s.v;return((s.f&ge)===0&&s.reactions!==null||Wn(s))&&(o=Ir(s)),nt.set(s,o),o}var l=(s.f&qe)===0&&!Te&&O!==null&&(ft||(O.f&qe)!==0),u=s.deps===null;tr(s)&&(l&&(s.f|=qe),$n(s)),l&&!u&&zn(s)}if(Ie?.has(e))return Ie.get(e);if((e.f&tt)!==0)throw e.v;return e.v}function zn(e){if(e.deps!==null){e.f|=qe;for(const t of e.deps)(t.reactions??=[]).push(e),(t.f&me)!==0&&(t.f&qe)===0&&zn(t)}}function Wn(e){if(e.v===ve)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(nt.has(t)||(t.f&me)!==0&&Wn(t))return!0;return!1}function st(e){var t=Te;try{return Te=!0,e()}finally{Te=t}}function ri(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(rt in e)wr(e);else if(!Array.isArray(e))for(let t in e){const r=e[t];typeof r=="object"&&r&&rt in r&&wr(r)}}}function wr(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let a in e)try{wr(e[a],t)}catch{}const r=Cr(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const a=on(r);for(let n in a){const i=a[n].get;if(i)try{i.call(e)}catch{}}}}}const ni=["touchstart","touchmove"];function ai(e){return ni.includes(e)}const Hn=new Set,$r=new Set;function bt(e){for(var t=0;t<e.length;t++)Hn.add(e[t]);for(var r of $r)r(e)}let tn=null;function nr(e){var t=this,r=t.ownerDocument,a=e.type,n=e.composedPath?.()||[],i=n[0]||e.target;tn=e;var s=0,o=tn===e&&e.__root;if(o){var l=n.indexOf(o);if(l!==-1&&(t===document||t===window)){e.__root=t;return}var u=n.indexOf(t);if(u===-1)return;l<=u&&(s=l)}if(i=n[s]||e.target,i!==t){sn(e,"currentTarget",{configurable:!0,get(){return i||r}});var f=O,d=z;$e(null),Re(null);try{for(var v,h=[];i!==null;){var _=i.assignedSlot||i.parentNode||i.host||null;try{var L=i["__"+a];L!=null&&(!i.disabled||e.target===i)&&L.call(i,e)}catch(g){v?h.push(g):v=g}if(e.cancelBubble||_===t||_===null)break;i=_}if(v){for(let g of h)queueMicrotask(()=>{throw g});throw v}}finally{e.__root=t,delete e.currentTarget,$e(f),Re(d)}}}function ii(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function dr(e,t){var r=z;r.nodes===null&&(r.nodes={start:e,end:t,a:null,t:null})}function q(e,t){var r=(t&xa)!==0,a=(t&Ea)!==0,n,i=!e.startsWith("<!>");return()=>{n===void 0&&(n=ii(i?e:"<!>"+e),r||(n=lr(n)));var s=a||Dn?document.importNode(n,!0):n.cloneNode(!0);if(r){var o=lr(s),l=s.lastChild;dr(o,l)}else dr(s,s);return s}}function si(e=""){{var t=We(e+"");return dr(t,t),t}}function Qe(){var e=document.createDocumentFragment(),t=document.createComment(""),r=We();return e.append(t,r),dr(t,r),e}function $(e,t){e!==null&&e.before(t)}function U(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??=e.nodeValue)&&(e.__t=r,e.nodeValue=r+"")}function oi(e,t){return li(e,t)}const Dt=new Map;function li(e,{target:t,anchor:r,props:a={},events:n,context:i,intro:s=!0}){Ba();var o=new Set,l=d=>{for(var v=0;v<d.length;v++){var h=d[v];if(!o.has(h)){o.add(h);var _=ai(h);t.addEventListener(h,nr,{passive:_});var L=Dt.get(h);L===void 0?(document.addEventListener(h,nr,{passive:_}),Dt.set(h,1)):Dt.set(h,L+1)}}};l(vr(Hn)),$r.add(l);var u=void 0,f=Ya(()=>{var d=r??t.appendChild(We());return Ia(d,{pending:()=>{}},v=>{if(i){Oe({});var h=le;h.c=i}n&&(a.$$events=n),u=e(v,a)||{},i&&Fe()}),()=>{for(var v of o){t.removeEventListener(v,nr);var h=Dt.get(v);--h===0?(document.removeEventListener(v,nr),Dt.delete(v)):Dt.set(v,h)}$r.delete(l),d!==r&&d.parentNode?.removeChild(d)}});return ui.set(u,f),u}let ui=new WeakMap;class Yn{anchor;#t=new Map;#s=new Map;#e=new Map;#a=new Set;#i=!0;constructor(t,r=!0){this.anchor=t,this.#i=r}#n=()=>{var t=B;if(this.#t.has(t)){var r=this.#t.get(t),a=this.#s.get(r);if(a)Vr(a),this.#a.delete(r);else{var n=this.#e.get(r);n&&(this.#s.set(r,n.effect),this.#e.delete(r),n.fragment.lastChild.remove(),this.anchor.before(n.fragment),a=n.effect)}for(const[i,s]of this.#t){if(this.#t.delete(i),i===t)break;const o=this.#e.get(s);o&&(Se(o.effect),this.#e.delete(s))}for(const[i,s]of this.#s){if(i===r||this.#a.has(i))continue;const o=()=>{if(Array.from(this.#t.values()).includes(i)){var u=document.createDocumentFragment();On(s,u),u.append(We()),this.#e.set(i,{effect:s,fragment:u})}else Se(s);this.#a.delete(i),this.#s.delete(i)};this.#i||!a?(this.#a.add(i),dt(s,o,!1)):o()}}};#r=t=>{this.#t.delete(t);const r=Array.from(this.#t.values());for(const[a,n]of this.#e)r.includes(a)||(Se(n.effect),this.#e.delete(a))};ensure(t,r){var a=B,n=kn();if(r&&!this.#s.has(t)&&!this.#e.has(t))if(n){var i=document.createDocumentFragment(),s=We();i.append(s),this.#e.set(t,{effect:Le(()=>r(s)),fragment:i})}else this.#s.set(t,Le(()=>r(this.anchor)));if(this.#t.set(a,t),n){for(const[o,l]of this.#s)o===t?a.skipped_effects.delete(l):a.skipped_effects.add(l);for(const[o,l]of this.#e)o===t?a.skipped_effects.delete(l.effect):a.skipped_effects.add(l.effect);a.oncommit(this.#n),a.ondiscard(this.#r)}else this.#n()}}function ae(e,t,r=!1){var a=new Yn(e),n=r?mt:0;function i(s,o){a.ensure(s,o)}pr(()=>{var s=!1;t((o,l=!0)=>{s=!0,i(l,o)}),s||i(!1,null)},n)}function jr(e,t){return t}function ci(e,t,r){for(var a=[],n=t.length,i,s=t.length,o=0;o<n;o++){let d=t[o];dt(d,()=>{if(i){if(i.pending.delete(d),i.done.add(d),i.pending.size===0){var v=e.outrogroups;Sr(vr(i.done)),v.delete(i),v.size===0&&(e.outrogroups=null)}}else s-=1},!1)}if(s===0){var l=a.length===0&&r!==null;if(l){var u=r,f=u.parentNode;Ua(f),f.append(u),e.items.clear()}Sr(t,!l)}else i={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(i)}function Sr(e,t=!0){for(var r=0;r<e.length;r++)Se(e[r],t)}var rn;function Br(e,t,r,a,n,i=null){var s=e,o=new Map,l=(t&fn)!==0;if(l){var u=e;s=u.appendChild(We())}var f=null,d=j(()=>{var y=r();return Ar(y)?y:y==null?[]:vr(y)}),v,h=!0;function _(){g.fallback=f,di(g,v,s,t,a),f!==null&&(v.length===0?(f.f&Ue)===0?Vr(f):(f.f^=Ue,Ft(f,null,s)):dt(f,()=>{f=null}))}var L=pr(()=>{v=c(d);for(var y=v.length,S=new Set,C=B,N=kn(),D=0;D<y;D+=1){var A=v[D],b=a(A,D),w=h?null:o.get(b);w?(w.v&&gt(w.v,A),w.i&&gt(w.i,D),N&&C.skipped_effects.delete(w.e)):(w=fi(o,h?s:rn??=We(),A,b,D,n,t,r),h||(w.e.f|=Ue),o.set(b,w)),S.add(b)}if(y===0&&i&&!f&&(h?f=Le(()=>i(s)):(f=Le(()=>i(rn??=We())),f.f|=Ue)),!h)if(N){for(const[k,x]of o)S.has(k)||C.skipped_effects.add(x.e);C.oncommit(_),C.ondiscard(()=>{})}else _();c(d)}),g={effect:L,items:o,outrogroups:null,fallback:f};h=!1}function di(e,t,r,a,n){var i=(a&ma)!==0,s=t.length,o=e.items,l=e.effect.first,u,f=null,d,v=[],h=[],_,L,g,y;if(i)for(y=0;y<s;y+=1)_=t[y],L=n(_,y),g=o.get(L).e,(g.f&Ue)===0&&(g.nodes?.a?.measure(),(d??=new Set).add(g));for(y=0;y<s;y+=1){if(_=t[y],L=n(_,y),g=o.get(L).e,e.outrogroups!==null)for(const x of e.outrogroups)x.pending.delete(g),x.done.delete(g);if((g.f&Ue)!==0)if(g.f^=Ue,g===l)Ft(g,null,r);else{var S=f?f.next:l;g===e.effect.last&&(e.effect.last=g.prev),g.prev&&(g.prev.next=g.next),g.next&&(g.next.prev=g.prev),Xe(e,f,g),Xe(e,g,S),Ft(g,S,r),f=g,v=[],h=[],l=f.next;continue}if((g.f&De)!==0&&(Vr(g),i&&(g.nodes?.a?.unfix(),(d??=new Set).delete(g))),g!==l){if(u!==void 0&&u.has(g)){if(v.length<h.length){var C=h[0],N;f=C.prev;var D=v[0],A=v[v.length-1];for(N=0;N<v.length;N+=1)Ft(v[N],C,r);for(N=0;N<h.length;N+=1)u.delete(h[N]);Xe(e,D.prev,A.next),Xe(e,f,D),Xe(e,A,C),l=C,f=A,y-=1,v=[],h=[]}else u.delete(g),Ft(g,l,r),Xe(e,g.prev,g.next),Xe(e,g,f===null?e.effect.first:f.next),Xe(e,f,g),f=g;continue}for(v=[],h=[];l!==null&&l!==g;)(u??=new Set).add(l),h.push(l),l=l.next;if(l===null)continue}(g.f&Ue)===0&&v.push(g),f=g,l=g.next}if(e.outrogroups!==null){for(const x of e.outrogroups)x.pending.size===0&&(Sr(vr(x.done)),e.outrogroups?.delete(x));e.outrogroups.size===0&&(e.outrogroups=null)}if(l!==null||u!==void 0){var b=[];if(u!==void 0)for(g of u)(g.f&De)===0&&b.push(g);for(;l!==null;)(l.f&De)===0&&l!==e.fallback&&b.push(l),l=l.next;var w=b.length;if(w>0){var k=(a&fn)!==0&&s===0?r:null;if(i){for(y=0;y<w;y+=1)b[y].nodes?.a?.measure();for(y=0;y<w;y+=1)b[y].nodes?.a?.fix()}ci(e,b,k)}}i&&mr(()=>{if(d!==void 0)for(g of d)g.nodes?.a?.apply()})}function fi(e,t,r,a,n,i,s,o){var l=(s&fa)!==0?(s&ha)===0?it(r,!1,!1):pt(r):null,u=(s&va)!==0?pt(n):null;return{v:l,i:u,e:Le(()=>(i(t,l??r,u??n,o),()=>{e.delete(a)}))}}function Ft(e,t,r){if(e.nodes)for(var a=e.nodes.start,n=e.nodes.end,i=t&&(t.f&Ue)===0?t.nodes.start:r;a!==null;){var s=er(a);if(i.before(a),a===n)return;a=s}}function Xe(e,t,r){t===null?e.effect.first=r:t.next=r,r===null?e.effect.last=t:r.prev=t}function Pt(e,t,...r){var a=new Yn(e);pr(()=>{const n=t()??null;a.ensure(n,n&&(i=>n(i,...r)))},mt)}function vi(e,t,r){var a=e==null?"":""+e;return a===""?null:a}function Pe(e,t,r,a,n,i){var s=e.__className;if(s!==r||s===void 0){var o=vi(r);o==null?e.removeAttribute("class"):t?e.className=o:e.setAttribute("class",o),e.__className=r}return i}function Jn(e,t,r=!1){if(e.multiple){if(t==null)return;if(!Ar(t))return $a();for(var a of e.options)a.selected=t.includes(zt(a));return}for(a of e.options){var n=zt(a);if(ja(n,t)){a.selected=!0;return}}(!r||t!==void 0)&&(e.selectedIndex=-1)}function mi(e){var t=new MutationObserver(()=>{Jn(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Or(()=>{t.disconnect()})}function hi(e,t,r=t){var a=new WeakSet,n=!0;Mr(e,"change",i=>{var s=i?"[selected]":":checked",o;if(e.multiple)o=[].map.call(e.querySelectorAll(s),zt);else{var l=e.querySelector(s)??e.querySelector("option:not([disabled])");o=l&&zt(l)}r(o),B!==null&&a.add(B)}),Ja(()=>{var i=t();if(e===document.activeElement){var s=jt??B;if(a.has(s))return}if(Jn(e,i,n),n&&i===void 0){var o=e.querySelector(":checked");o!==null&&(i=zt(o),r(i))}e.__value=i,n=!1}),mi(e)}function zt(e){return"__value"in e?e.__value:e.value}const pi=Symbol("is custom element"),gi=Symbol("is html");function he(e,t,r,a){var n=_i(e);n[t]!==(n[t]=r)&&(t==="loading"&&(e[ta]=r),r==null?e.removeAttribute(t):typeof r!="string"&&bi(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function _i(e){return e.__attributes??={[pi]:e.nodeName.includes("-"),[gi]:e.namespaceURI===wa}}var nn=new Map;function bi(e){var t=e.getAttribute("is")||e.nodeName,r=nn.get(t);if(r)return r;nn.set(t,r=[]);for(var a,n=e,i=Element.prototype;i!==n;){a=on(n);for(var s in a)a[s].set&&r.push(s);n=Cr(n)}return r}function fr(e,t,r=t){var a=new WeakSet;Mr(e,"input",async n=>{var i=n?e.defaultValue:e.value;if(i=gr(e)?_r(i):i,r(i),B!==null&&a.add(B),await ti(),i!==(i=t())){var s=e.selectionStart,o=e.selectionEnd,l=e.value.length;if(e.value=i??"",o!==null){var u=e.value.length;s===o&&o===l&&u>l?(e.selectionStart=u,e.selectionEnd=u):(e.selectionStart=s,e.selectionEnd=Math.min(o,u))}}}),st(t)==null&&e.value&&(r(gr(e)?_r(e.value):e.value),B!==null&&a.add(B)),Fr(()=>{var n=t();if(e===document.activeElement){var i=jt??B;if(a.has(i))return}gr(e)&&n===_r(e.value)||e.type==="date"&&!n&&!e.value||n!==e.value&&(e.value=n??"")})}function yi(e,t,r=t){Mr(e,"change",a=>{var n=a?e.defaultChecked:e.checked;r(n)}),st(t)==null&&r(e.checked),Fr(()=>{var a=t();e.checked=!!a})}function gr(e){var t=e.type;return t==="number"||t==="range"}function _r(e){return e===""?null:+e}function Rt(e=!1){const t=le,r=t.l.u;if(!r)return;let a=()=>ri(t.s);if(e){let n=0,i={};const s=Qt(()=>{let o=!1;const l=t.s;for(const u in l)l[u]!==i[u]&&(i[u]=l[u],o=!0);return o&&n++,n});a=()=>c(s)}r.b.length&&Ha(()=>{an(t,a),ir(r.b)}),Zr(()=>{const n=st(()=>r.m.map(Qn));return()=>{for(const i of n)typeof i=="function"&&i()}}),r.a.length&&Zr(()=>{an(t,a),ir(r.a)})}function an(e,t){if(e.l.s)for(const r of e.l.s)c(r);t()}function Ur(e,t,r){if(e==null)return t(void 0),r&&r(void 0),et;const a=st(()=>e.subscribe(t,r));return a.unsubscribe?()=>a.unsubscribe():a}const At=[];function xi(e,t){return{subscribe:kt(e,t).subscribe}}function kt(e,t=et){let r=null;const a=new Set;function n(o){if(mn(e,o)&&(e=o,r)){const l=!At.length;for(const u of a)u[1](),At.push(u,e);if(l){for(let u=0;u<At.length;u+=2)At[u][0](At[u+1]);At.length=0}}}function i(o){n(o(e))}function s(o,l=et){const u=[o,l];return a.add(u),a.size===1&&(r=t(n,i)||et),o(e),()=>{a.delete(u),a.size===0&&r&&(r(),r=null)}}return{set:n,update:i,subscribe:s}}function Ei(e,t,r){const a=!Array.isArray(e),n=a?[e]:e;if(!n.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const i=t.length<2;return xi(r,(s,o)=>{let l=!1;const u=[];let f=0,d=et;const v=()=>{if(f)return;d();const _=t(a?u[0]:u,s,o);i?s(_):d=typeof _=="function"?_:et},h=n.map((_,L)=>Ur(_,g=>{u[L]=g,f&=~(1<<L),l&&v()},()=>{f|=1<<L}));return l=!0,v(),function(){ir(h),d(),l=!1}})}function Vt(e){let t;return Ur(e,r=>t=r)(),t}let ar=!1,Nr=Symbol();function te(e,t,r){const a=r[t]??={store:null,source:it(void 0),unsubscribe:et};if(a.store!==e&&!(Nr in r))if(a.unsubscribe(),a.store=e??null,e==null)a.source.v=void 0,a.unsubscribe=et;else{var n=!0;a.unsubscribe=Ur(e,i=>{n?a.source.v=i:pe(a.source,i)}),n=!1}return e&&Nr in r?Vt(e):c(a.source)}function yt(){const e={};function t(){Or(()=>{for(var r in e)e[r].unsubscribe();sn(e,Nr,{enumerable:!1,value:!0})})}return[e,t]}function wi(e){var t=ar;try{return ar=!1,[e(),ar]}finally{ar=t}}function we(e,t,r,a){var n=!Zt||(r&ga)!==0,i=(r&ba)!==0,s=(r&ya)!==0,o=a,l=!0,u=()=>(l&&(l=!1,o=s?st(a):a),o),f;if(i){var d=rt in e||ea in e;f=qt(e,t)?.set??(d&&t in e?C=>e[t]=C:void 0)}var v,h=!1;i?[v,h]=wi(()=>e[t]):v=e[t],v===void 0&&a!==void 0&&(v=u(),f&&(n&&oa(),f(v)));var _;if(n?_=()=>{var C=e[t];return C===void 0?u():(l=!0,C)}:_=()=>{var C=e[t];return C!==void 0&&(o=void 0),C===void 0?o:C},n&&(r&_a)===0)return _;if(f){var L=e.$$legacy;return(function(C,N){return arguments.length>0?((!n||!N||L||h)&&f(N?_():C),C):_()})}var g=!1,y=((r&pa)!==0?Qt:j)(()=>(g=!1,_()));i&&c(y);var S=z;return(function(C,N){if(arguments.length>0){const D=N?c(y):n&&i?ct(C):C;return pe(y,D),g=!0,o!==void 0&&(o=D),C}return at&&g||(S.f&ze)!==0?y.v:c(y)})}const $i="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add($i);const Si=e=>typeof e=="object"&&e!==null&&!(e instanceof Date)&&!(e instanceof Map)&&!(e instanceof Set)&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof RegExp)&&!(e instanceof Error)&&!(e instanceof Promise),Ni=(e,t)=>{const r=(n,i)=>new Proxy(n,{get(s,o,l){const u=Reflect.get(s,o,l);if(Si(u)){const f=Number.isInteger(Number(o))?"":String(o),d=f?i?`${i}.${f}`:f:i;return r(u,d)}return u},set(s,o,l,u){const f=Reflect.get(s,o,u);if(f!==l){Reflect.set(s,o,l,u);const d=Number.isInteger(Number(o))?"":String(o),v=d?i?`${i}.${d}`:d:i;t(a,v,l,f)}return!0}}),a=r(e,"");return a},Gn=e=>Object.values(e).some(t=>typeof t=="string"?!!t:Gn(t)),Di=e=>!!e&&Gn(e),lt=e=>{if(e===null||typeof e!="object")return e;if(e instanceof Date)return new Date(e);if(Array.isArray(e))return e.map(r=>lt(r));const t={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=lt(e[r]));return t},Ai={resetDirtyOnAction:!0,debounceValidation:0,allowConcurrentActions:!1,persistActionError:!1};function xt(e,t,r){const a={...Ai,...r},{validator:n,effect:i}=t??{},s=kt(),o=Ei(s,Di),l=kt(!1),u=kt(!1),f=kt(),d=kt([{title:"Initial",data:lt(e)}]),v=ct(e),h=(A,b=!0)=>{const w=Vt(d),k={title:A,data:lt(v)},x=w.at(-1);b&&x&&x.title===A?d.set([...w.slice(0,-1),k]):d.set([...w,k])};let _=!1,L;const g=()=>{if(n)if(a.debounceValidation>0)clearTimeout(L),L=setTimeout(()=>{s.set(n(y))},a.debounceValidation);else{if(_)return;_=!0,queueMicrotask(()=>{s.set(n(y)),_=!1})}},y=Ni(v,(A,b,w,k)=>{if(a.persistActionError||f.set(void 0),l.set(!0),i?.({snapshot:h,target:A,property:b,currentValue:w,oldValue:k})instanceof Promise)throw new Error("svstate: effect callback must be synchronous. Use action for async operations.");g()});return n&&s.set(n(y)),{data:y,execute:async A=>{if(!(!a.allowConcurrentActions&&Vt(u))){f.set(void 0),u.set(!0);try{await t?.action?.(A),a.resetDirtyOnAction&&l.set(!1),d.set([{title:"Initial",data:lt(v)}]),await t?.actionCompleted?.()}catch(b){await t?.actionCompleted?.(b),f.set(b instanceof Error?b:void 0)}finally{u.set(!1)}}},state:{errors:s,hasErrors:o,isDirty:l,actionInProgress:u,actionError:f,snapshots:d},rollback:(A=1)=>{const b=Vt(d);if(b.length<=1)return;const w=Math.max(0,b.length-1-A),k=b[w];k&&(Object.assign(v,lt(k.data)),d.set(b.slice(0,w+1)),n&&s.set(n(y)))},reset:()=>{const b=Vt(d)[0];b&&(Object.assign(v,lt(b.data)),d.set([b]),n&&s.set(n(y)))}}}const Ci={trim:e=>e.trim(),normalize:e=>e.replaceAll(/\s{2,}/g," "),upper:e=>e.toLocaleUpperCase(),lower:e=>e.toLocaleLowerCase()};function H(e,...t){let r="";const a=s=>{r||(r=s)},n=t.reduce((s,o)=>Ci[o](s),e),i={required(){return!r&&!n&&a("Required"),i},noSpace(){return!r&&n.includes(" ")&&a("No space allowed"),i},minLength(s){return!r&&n.length<s&&a(`Min length ${s}`),i},maxLength(s){return!r&&n.length>s&&a(`Max length ${s}`),i},uppercase(){return!r&&n!==n.toLocaleUpperCase()&&a("Uppercase only"),i},lowercase(){return!r&&n!==n.toLocaleLowerCase()&&a("Lowercase only"),i},startsWith(s){if(r)return i;const o=Array.isArray(s)?s:[s];return n&&!o.some(l=>n.startsWith(l))&&a(`Must start with ${o.join(", ")}`),i},regexp(s,o){return!r&&n&&!s.test(n)&&a(o??"Not allowed chars"),i},inArray(s){if(r)return i;const o=Array.isArray(s)?s:Object.keys(s);return n&&!o.includes(n)&&a(`Must be one of: ${o.join(", ")}`),i},email(){return!r&&n&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)&&a("Invalid email format"),i},website(s="optional"){if(r||!n||s==="optional")return i;const o=/^https?:\/\//.test(n);return s==="required"&&!o?a("Must start with http:// or https://"):s==="forbidden"&&o&&a("Must not start with http:// or https://"),i},endsWith(s){if(r||!n)return i;const o=Array.isArray(s)?s:[s];return o.some(l=>n.endsWith(l))||a(`Must end with ${o.join(", ")}`),i},contains(s){return!r&&n&&!n.includes(s)&&a(`Must contain "${s}"`),i},alphanumeric(){return!r&&n&&!/^[\dA-Za-z]+$/.test(n)&&a("Only letters and numbers allowed"),i},numeric(){return!r&&n&&!/^\d+$/.test(n)&&a("Only numbers allowed"),i},getError(){return r}};return i}function Dr(e){let t="";const r=n=>{t||(t=n)},a={required(){return!t&&Number.isNaN(e)&&r("Required"),a},min(n){return!t&&e<n&&r(`Minimum ${n}`),a},max(n){return!t&&e>n&&r(`Maximum ${n}`),a},between(n,i){return!t&&(e<n||e>i)&&r(`Must be between ${n} and ${i}`),a},integer(){return!t&&!Number.isInteger(e)&&r("Must be an integer"),a},positive(){return!t&&e<=0&&r("Must be positive"),a},negative(){return!t&&e>=0&&r("Must be negative"),a},nonNegative(){return!t&&e<0&&r("Must be non-negative"),a},multipleOf(n){return!t&&e%n!==0&&r(`Must be a multiple of ${n}`),a},decimal(n){return t||Number.isNaN(e)||(String(e).split(".")[1]?.length??0)>n&&r(`Maximum ${n} decimal places`),a},percentage(){return!t&&(e<0||e>100)&&r("Must be between 0 and 100"),a},getError(){return t}};return a}function ki(e){let t="";const r=n=>{t||(t=n)},a={required(){return!t&&e.length===0&&r("Required"),a},minLength(n){return!t&&e.length<n&&r(`Minimum ${n} items`),a},maxLength(n){return!t&&e.length>n&&r(`Maximum ${n} items`),a},unique(){if(t)return a;const n=new Set;for(const i of e){const s=typeof i=="object"?JSON.stringify(i):String(i);if(n.has(s)){r("Items must be unique");break}n.add(s)}return a},getError(){return t}};return a}var Li=q('<h6 class="mb-2 text-sm font-medium text-gray-700"> </h6>'),qi=q('<div><!> <pre class="overflow-auto rounded-lg bg-gray-900 p-4 text-xs text-gray-100"> </pre></div>');function _e(e,t){var r=qi(),a=p(r);{var n=o=>{var l=Li(),u=p(l);X(()=>U(u,t.title)),$(o,l)};ae(a,o=>{t.title&&o(n)})}var i=m(a,2),s=p(i);X(()=>U(s,t.code)),$(e,r)}var Pi=q('<div><div class="rounded-lg border border-gray-300 bg-gray-50 p-4 shadow-inner"><h6 class="mb-2 text-sm font-medium text-gray-700">State Object</h6> <pre class="overflow-auto text-xs text-gray-600"> </pre></div> <div class="rounded-lg border border-gray-300 bg-gray-50 p-4 shadow-inner"><h6 class="mb-2 text-sm font-medium text-gray-700">State Info</h6> <div class="space-y-1 text-xs text-gray-600"><div><span class="font-medium">isDirty:</span> </div> <div><span class="font-medium">hasErrors:</span> </div></div></div> <div class="rounded-lg border border-gray-300 bg-gray-50 p-4 shadow-inner"><h6 class="mb-2 text-sm font-medium text-gray-700">Errors</h6> <pre class="overflow-auto text-xs text-gray-600"> </pre></div> <button class="w-full cursor-pointer rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500" type="button">Fill with Valid Data</button></div>');function Et(e,t){let r=we(t,"width",3,"w-80");var a=Pi(),n=p(a),i=m(p(n),2),s=p(i),o=m(n,2),l=m(p(o),2),u=p(l),f=m(p(u)),d=m(u,2),v=m(p(d)),h=m(o,2),_=m(p(h),2),L=p(_),g=m(h,2);g.__click=function(...y){t.onFill?.apply(this,y)},X((y,S)=>{Pe(a,1,`${r()??""} flex-shrink-0 space-y-4`),U(s,y),U(f,` ${t.isDirty??""}`),U(v,` ${t.hasErrors??""}`),U(L,S)},[()=>JSON.stringify(t.data,void 0,2),()=>JSON.stringify(t.errors,void 0,2)]),$(e,a)}bt(["click"]);var Ii=q('<p class="mt-1 text-sm text-red-600"> </p>');function Wt(e,t){var r=Qe(),a=re(r);{var n=i=>{var s=Ii(),o=p(s);X(()=>U(o,t.error)),$(i,s)};ae(a,i=>{t.error&&i(n)})}$(e,r)}var Ti=q("<div><label> </label> <input/> <!></div>");function Z(e,t){Oe(t,!0);let r=we(t,"type",3,"text"),a=we(t,"placeholder",3,""),n=we(t,"value",15),i=we(t,"error",3,""),s=we(t,"required",3,!0),o=we(t,"disabled",3,!1),l=we(t,"variant",3,"default");const u=Yt(()=>l()==="nested"?"bg-white":"bg-gray-50");var f=Ti(),d=p(f),v=p(d),h=m(d,2),_=m(h,2);{let L=Yt(()=>i()??"");Wt(_,{get error(){return c(L)}})}X(()=>{Pe(d,1,`mb-2 block text-sm text-gray-900 ${s()?"font-bold":""}`),he(d,"for",t.id),U(v,t.label),he(h,"id",t.id),Pe(h,1,`block w-full rounded-lg border p-2.5 text-sm ${i()?"border-red-500 bg-red-50 text-red-900 placeholder-red-400 focus:border-red-500 focus:ring-red-500":`border-gray-300 ${c(u)} text-gray-900 focus:border-blue-500 focus:ring-blue-500`} ${o()?"cursor-not-allowed opacity-50":""}`),h.disabled=o(),he(h,"max",t.max),he(h,"min",t.min),he(h,"placeholder",a()),he(h,"step",t.step),he(h,"type",r())}),fr(h,n),$(e,f),Fe()}var Mi=q('<div class="flex gap-6"><div class="max-w-xl flex-1 rounded-lg border border-gray-200 bg-white p-6 shadow-sm"><h5 class="mb-4 text-xl font-medium text-gray-900"> </h5> <!></div> <!></div> <!>',1);function wt(e,t){var r=Mi(),a=re(r),n=p(a),i=p(n),s=p(i),o=m(i,2);Pt(o,()=>t.main);var l=m(n,2);Pt(l,()=>t.sidebar);var u=m(a,2);{var f=d=>{var v=Qe(),h=re(v);Pt(h,()=>t.sourceCode),$(d,v)};ae(u,d=>{t.sourceCode&&d(f)})}X(()=>U(s,t.title)),$(e,r)}var Ri=q('<div class="space-y-4 p-4"><!></div>'),Oi=q('<div class="mt-6 rounded-lg border border-gray-200 bg-white shadow-sm"><button type="button"><span>Source Code</span> <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M19 9l-7 7-7-7" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg></button> <!></div>');function $t(e,t){let r=Ce(!1);var a=Oi(),n=p(a);n.__click=()=>pe(r,!c(r));var i=m(p(n),2),s=m(n,2);{var o=l=>{var u=Ri(),f=p(u);Pt(f,()=>t.children),$(l,u)};ae(s,l=>{c(r)&&l(o)})}X(()=>{Pe(n,1,`flex w-full cursor-pointer items-center justify-between px-4 py-3 text-left text-sm font-medium text-gray-900 hover:bg-gray-50 ${c(r)?"border-b border-gray-200":""}`),Pe(i,0,`h-5 w-5 transform transition-transform ${c(r)?"rotate-180":""}`)}),$(e,a)}bt(["click"]);var Fi=q('<div class="mb-4 flex gap-2"><span> </span> <span> </span></div>');function St(e,t){var r=Fi(),a=p(r),n=p(a),i=m(a,2),s=p(i);X(()=>{Pe(a,1,`rounded px-2.5 py-0.5 text-xs font-medium ${t.hasErrors?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`),U(n,t.hasErrors?"Has Errors":"Valid"),Pe(i,1,`rounded px-2.5 py-0.5 text-xs font-medium ${t.isDirty?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`),U(s,t.isDirty?"Modified":"Clean")}),$(e,r)}var Vi=q('<div class="mt-4 rounded-lg border border-red-200 bg-red-50 p-3"><div class="flex items-center gap-2"><svg class="h-5 w-5 text-red-500" fill="currentColor" viewBox="0 0 20 20"><path clip-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" fill-rule="evenodd"></path></svg> <span class="text-sm font-medium text-red-800"> </span></div></div>'),ji=q('<div class="mt-4 rounded-lg border border-green-200 bg-green-50 p-3"><div class="flex items-center gap-2"><svg class="h-5 w-5 text-green-500" fill="currentColor" viewBox="0 0 20 20"><path clip-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" fill-rule="evenodd"></path></svg> <span class="text-sm font-medium text-green-800"> </span></div></div>'),Bi=q('<span class="inline-flex items-center gap-2"><svg class="h-4 w-4 animate-spin" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" fill="currentColor"></path></svg> Submitting...</span>'),Ui=q('<!> <div class="mb-4 flex items-center gap-2"><span> </span></div> <div class="space-y-4"><!> <!> <div class="flex items-center gap-2"><input id="simulateError" class="h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-50" type="checkbox"/> <label class="text-sm text-gray-700" for="simulateError">Simulate server error</label></div></div> <!> <!> <div class="mt-6"><button class="w-full cursor-pointer rounded-lg bg-green-600 px-4 py-2 text-sm font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 disabled:cursor-not-allowed disabled:opacity-50" type="button"><!></button></div>',1),zi=q('<div class="w-80 flex-shrink-0 space-y-4"><!> <div class="rounded-lg border border-gray-300 bg-gray-50 p-4 shadow-inner"><h6 class="mb-2 text-sm font-medium text-gray-700">Action State</h6> <div class="space-y-1 text-xs text-gray-600"><div><span class="font-medium">actionInProgress:</span> </div> <div><span class="font-medium">actionError:</span> </div></div></div></div>'),Wi=q("<!> <!> <!>",1);function Hi(e,t){Oe(t,!0);const r=()=>te(y,"$hasErrors",o),a=()=>te(S,"$isDirty",o),n=()=>te(C,"$actionInProgress",o),i=()=>te(g,"$errors",o),s=()=>te(N,"$actionError",o),[o,l]=yt(),u=()=>Math.random().toString(36).slice(2,8),f=(x,V)=>Math.floor(Math.random()*(V-x+1))+x,d={title:`Task ${u()}`,description:`This is a sample task description with ID ${u()}`};let v=Ce(!1),h=Ce(void 0);const{data:_,execute:L,state:{errors:g,hasErrors:y,isDirty:S,actionInProgress:C,actionError:N}}=xt(d,{validator:x=>({title:H(x.title,"trim").required().minLength(3).maxLength(50).getError(),description:H(x.description,"trim").required().minLength(10).maxLength(200).getError()}),action:async()=>{const x=f(100,1e3);if(await new Promise(V=>setTimeout(V,x)),c(v))throw new Error(`Simulated server error after ${x}ms`);pe(h,`Submitted successfully in ${x}ms!`)},actionCompleted:x=>{x&&pe(h,void 0)}}),D=()=>{_.title=`Task ${u()}`,_.description=`This is a sample task description with ID ${u()}`},A=()=>{pe(h,void 0),L()},b=`const { data, execute, state: { errors, hasErrors, isDirty, actionInProgress, actionError } } =
  createSvState(sourceData, {
    validator: (source) => ({
      title: stringValidator(source.title, 'trim').required().minLength(3).maxLength(50).getError(),
      description: stringValidator(source.description, 'trim').required().minLength(10).getError()
    }),
    action: async () => {
      // Simulate API call with 100-1000ms delay
      const delay = randomInt(100, 1000);
      await new Promise((resolve) => setTimeout(resolve, delay));

      if (shouldFail) {
        throw new Error('Simulated server error');
      }
    },
    actionCompleted: (error) => {
      // Called after action completes (success or failure)
      console.log(error ? 'Action failed' : 'Action succeeded');
    }
  });`,w=`// Execute the action
<button onclick={() => execute()} disabled={$hasErrors || $actionInProgress}>
  {$actionInProgress ? 'Submitting...' : 'Submit'}
</button>

// With parameters (if action accepts them)
execute({ userId: 123 });`,k=`// Display action error
{#if $actionError}
  <div class="error">
    {$actionError.message}
  </div>
{/if}

// Check if action is in progress
{#if $actionInProgress}
  <div class="loading">Submitting...</div>
{/if}`;wt(e,{title:"Action Demo",main:W=>{var T=Ui(),M=re(T);St(M,{get hasErrors(){return r()},get isDirty(){return a()}});var R=m(M,2),I=p(R),J=p(I),Q=m(R,2),ie=p(Q);{let K=Yt(()=>i()?.title);Z(ie,{id:"title",get disabled(){return n()},get error(){return c(K)},label:"Title",placeholder:"Enter task title",get value(){return _.title},set value(be){_.title=be}})}var ce=m(ie,2);{let K=Yt(()=>i()?.description);Z(ce,{id:"description",get disabled(){return n()},get error(){return c(K)},label:"Description",placeholder:"Enter task description (min 10 characters)",get value(){return _.description},set value(be){_.description=be}})}var G=m(ce,2),ee=p(G),ne=m(Q,2);{var de=K=>{var be=Vi(),Nt=p(be),Ze=m(p(Nt),2),Ot=p(Ze);X(()=>U(Ot,s().message)),$(K,be)};ae(ne,K=>{s()&&K(de)})}var P=m(ne,2);{var F=K=>{var be=ji(),Nt=p(be),Ze=m(p(Nt),2),Ot=p(Ze);X(()=>U(Ot,c(h))),$(K,be)};ae(P,K=>{c(h)&&K(F)})}var je=m(P,2),se=p(je);se.__click=A;var fe=p(se);{var oe=K=>{var be=Bi();$(K,be)},Ee=K=>{var be=si("Submit");$(K,be)};ae(fe,K=>{n()?K(oe):K(Ee,!1)})}X(()=>{Pe(I,1,`rounded px-2.5 py-0.5 text-xs font-medium ${n()?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`),U(J,n()?"In Progress":"Idle"),ee.disabled=n(),se.disabled=r()||n()}),yi(ee,()=>c(v),K=>pe(v,K)),$(W,T)},sidebar:W=>{var T=zi(),M=p(T);Et(M,{get data(){return _},get errors(){return i()},get hasErrors(){return r()},get isDirty(){return a()},onFill:D});var R=m(M,2),I=m(p(R),2),J=p(I),Q=m(p(J)),ie=m(J,2),ce=m(p(ie));X(()=>{U(Q,` ${n()??""}`),U(ce,` ${s()?.message??"none"??""}`)}),$(W,T)},sourceCode:W=>{$t(W,{children:(T,M)=>{var R=Wi(),I=re(R);_e(I,{code:b,title:"State Setup with Action"});var J=m(I,2);_e(J,{code:w,title:"Execute Action"});var Q=m(J,2);_e(Q,{code:k,title:"Error & Loading States"}),$(T,R)}})}}),Fe(),l()}bt(["click"]);Da();var Yi=q('<div class="rounded-lg border border-gray-200 bg-gray-50 p-4"><div class="mb-3 flex items-center justify-between"><span class="text-xs font-medium text-gray-500"> </span> <button class="cursor-pointer rounded px-2 py-1 text-xs text-red-600 hover:bg-red-50 hover:text-red-700" type="button">Remove</button></div> <!></div>');function Ji(e,t){let r=we(t,"label",3,"Item");var a=Yi(),n=p(a),i=p(n),s=p(i),o=m(i,2);o.__click=function(...u){t.onRemove?.apply(this,u)};var l=m(n,2);Pt(l,()=>t.children),X(()=>U(s,`${r()??""} #${t.index+1}`)),$(e,a)}bt(["click"]);var Gi=q('<div class="rounded-lg border-2 border-dashed border-gray-300 p-6 text-center"><p class="text-sm text-gray-500"> </p></div>');function Ki(e,t){var r=Gi(),a=p(r),n=p(a);X(()=>U(n,t.message)),$(e,r)}var Zi=q('<div class="mb-3"><!></div>'),Xi=q('<div class="grid grid-cols-2 gap-3"><div><label class="mb-1 block text-xs font-bold text-gray-700">Name</label> <input placeholder="Enter name" type="text"/> <!></div> <div><label class="mb-1 block text-xs font-bold text-gray-700">Email</label> <input placeholder="Enter email" type="email"/> <!></div></div>'),Qi=q('<div class="space-y-3"></div>'),es=q('<!> <div class="space-y-6"><!> <div><div class="mb-3 flex items-center justify-between border-b border-gray-200 pb-2"><h6 class="text-sm font-semibold text-gray-700">Contacts <span class="ml-2 rounded bg-gray-100 px-2 py-0.5 text-xs font-normal text-gray-600"> </span></h6> <button class="cursor-pointer rounded-lg bg-green-600 px-3 py-1.5 text-xs font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500" type="button">+ Add Contact</button></div> <!> <!></div></div>',1),ts=q("<!> <!>",1);function rs(e,t){Oe(t,!1);const r=()=>te(d,"$hasErrors",i),a=()=>te(v,"$isDirty",i),n=()=>te(f,"$errors",i),[i,s]=yt(),l=xt({listName:"",items:[]},{validator:C=>({listName:H(C.listName,"trim").required().minLength(2).getError(),items:ki(C.items).required().minLength(1).getError(),...Object.fromEntries(C.items.map((N,D)=>[`item_${D}`,{name:H(N.name,"trim").required().minLength(2).getError(),email:H(N.email,"trim").required().email().getError()}]))})}),u=it(l.data),f=l.state.errors,d=l.state.hasErrors,v=l.state.isDirty,h=()=>{E(u,c(u).items=[...c(u).items,{name:"",email:""}])},_=C=>{E(u,c(u).items=c(u).items.filter((N,D)=>D!==C))},L=()=>Math.random().toString(36).slice(2,8),g=()=>{E(u,c(u).listName=`Contact List ${L()}`),E(u,c(u).items=[{name:"John Doe",email:"john@example.com"},{name:"Jane Smith",email:"jane@example.com"},{name:"Bob Wilson",email:"bob@example.com"}])},y=`const sourceData = {
  listName: '',
  items: [] as { name: string; email: string }[]
};

const { data, state: { errors, hasErrors, isDirty } } = createSvState(sourceData, {
  validator: (source) => ({
    listName: stringValidator(source.listName, 'trim').required().minLength(2).getError(),
    items: arrayValidator(source.items).required().minLength(1).getError(),
    // Per-item validation using indexed keys
    ...Object.fromEntries(
      source.items.map((item, index) => [
        \`item_\${index}\`,
        {
          name: stringValidator(item.name, 'trim').required().minLength(2).getError(),
          email: stringValidator(item.email, 'trim').required().email().getError()
        }
      ])
    )
  })
});`,S=`// Define type for item errors
type ItemErrors = Record<string, { name?: string; email?: string }>;

{#each data.items as item, index}
  <input bind:value={item.name} />
  <ErrorText error={($errors as ItemErrors)?.[...\`item_\${index}\`]?.name ?? ''} />

  <input bind:value={item.email} />
  <ErrorText error={($errors as ItemErrors)?.[...\`item_\${index}\`]?.email ?? ''} />
{/each}`;Rt(),wt(e,{title:"Array Property Demo",main:A=>{var b=es(),w=re(b);St(w,{get hasErrors(){return r()},get isDirty(){return a()}});var k=m(w,2),x=p(k);{let G=j(()=>n()?.listName);Z(x,{id:"listName",get error(){return c(G)},label:"List Name",placeholder:"Enter list name",get value(){return c(u).listName},set value(ee){E(u,c(u).listName=ee)},$$legacy:!0})}var V=m(x,2),Y=p(V),W=p(Y),T=m(p(W)),M=p(T),R=m(W,2);R.__click=h;var I=m(Y,2);{var J=G=>{var ee=Zi(),ne=p(ee);Wt(ne,{get error(){return n().items}}),$(G,ee)};ae(I,G=>{n()?.items&&G(J)})}var Q=m(I,2);{var ie=G=>{Ki(G,{message:'No contacts yet. Click "Add Contact" to get started.'})},ce=G=>{var ee=Qi();Br(ee,5,()=>c(u).items,jr,(ne,de,P)=>{Ji(ne,{index:P,label:"Contact",onRemove:()=>_(P),children:(F,je)=>{var se=Xi(),fe=p(se),oe=p(fe);he(oe,"for",`item-name-${P}`);var Ee=m(oe,2);he(Ee,"id",`item-name-${P}`);var K=m(Ee,2);{let ot=j(()=>n()?.[`item_${P}`]?.name??"");Wt(K,{get error(){return c(ot)}})}var be=m(fe,2),Nt=p(be);he(Nt,"for",`item-email-${P}`);var Ze=m(Nt,2);he(Ze,"id",`item-email-${P}`);var Ot=m(Ze,2);{let ot=j(()=>n()?.[`item_${P}`]?.email??"");Wt(Ot,{get error(){return c(ot)}})}X(()=>{Pe(Ee,1,`block w-full rounded-lg border p-2 text-sm ${n()?.[`item_${P}`]?.name?"border-red-500 bg-red-50 text-red-900 placeholder-red-400":"border-gray-300 bg-white text-gray-900"}`),Pe(Ze,1,`block w-full rounded-lg border p-2 text-sm ${n()?.[`item_${P}`]?.email?"border-red-500 bg-red-50 text-red-900 placeholder-red-400":"border-gray-300 bg-white text-gray-900"}`)}),fr(Ee,()=>c(de).name,ot=>(c(de).name=ot,Xr(()=>c(u)))),fr(Ze,()=>c(de).email,ot=>(c(de).email=ot,Xr(()=>c(u)))),$(F,se)},$$slots:{default:!0}})}),$(G,ee)};ae(Q,G=>{c(u).items.length===0?G(ie):G(ce,!1)})}X(()=>U(M,`${c(u).items.length??""} items`)),$(A,b)},sidebar:A=>{Et(A,{get data(){return c(u)},get errors(){return n()},get hasErrors(){return r()},get isDirty(){return a()},onFill:g,width:"w-96"})},sourceCode:A=>{$t(A,{children:(b,w)=>{var k=ts(),x=re(k);_e(x,{code:y,title:"State Setup with Array Item Validation"});var V=m(x,2);_e(V,{code:S,title:"Array Form Binding Examples"}),$(b,k)}})}}),Fe(),s()}bt(["click"]);var ns=q("<div><label> </label> <textarea></textarea> <!></div>");function zr(e,t){Oe(t,!0);let r=we(t,"placeholder",3,""),a=we(t,"value",15),n=we(t,"error",3,""),i=we(t,"required",3,!1),s=we(t,"rows",3,3);var o=ns(),l=p(o),u=p(l),f=m(l,2),d=m(f,2);{let v=Yt(()=>n()??"");Wt(d,{get error(){return c(v)}})}X(()=>{Pe(l,1,`mb-2 block text-sm text-gray-900 ${i()?"font-bold":""}`),he(l,"for",t.id),U(u,t.label),he(f,"id",t.id),Pe(f,1,`block w-full rounded-lg border p-2.5 text-sm ${n()?"border-red-500 bg-red-50 text-red-900 placeholder-red-400 focus:border-red-500 focus:ring-red-500":"border-gray-300 bg-gray-50 text-gray-900 focus:border-blue-500 focus:ring-blue-500"}`),he(f,"placeholder",r()),he(f,"rows",s())}),fr(f,a),$(e,o),Fe()}var as=q('<!> <div class="space-y-4"><!> <!> <!> <!> <!></div>',1),is=q("<!> <!>",1);function ss(e,t){Oe(t,!1);const r=()=>te(h,"$hasErrors",i),a=()=>te(_,"$isDirty",i),n=()=>te(v,"$errors",i),[i,s]=yt(),o={username:"",email:"",age:0,bio:"",website:""},l=()=>Math.random().toString(36).slice(2,8),u=(S,C)=>Math.floor(Math.random()*(C-S+1))+S,f=xt(o,{validator:S=>({username:H(S.username,"trim").required().minLength(3).maxLength(20).noSpace().getError(),email:H(S.email,"trim").required().email().getError(),age:Dr(S.age).required().min(18).max(120).integer().getError(),bio:H(S.bio).maxLength(200).getError(),website:H(S.website,"trim").website("required").getError()})}),d=it(f.data),v=f.state.errors,h=f.state.hasErrors,_=f.state.isDirty,L=()=>{E(d,c(d).username=`user${l()}`),E(d,c(d).email=`${l()}@example.com`),E(d,c(d).age=u(18,65)),E(d,c(d).bio="Hello, I am a demo user!"),E(d,c(d).website=`https://${l()}.com`)},g=`const sourceData = {
  username: '',
  email: '',
  age: 0,
  bio: '',
  website: ''
};

const { data, state: { errors, hasErrors, isDirty } } = createSvState(sourceData, {
  validator: (source) => ({
    username: stringValidator(source.username, 'trim').required().minLength(3).maxLength(20).noSpace().getError(),
    email: stringValidator(source.email, 'trim').required().email().getError(),
    age: numberValidator(source.age).required().min(18).max(120).integer().getError(),
    bio: stringValidator(source.bio).maxLength(200).getError(),
    website: stringValidator(source.website, 'trim').website('required').getError()
  })
});`,y=`<input
  id="username"
  type="text"
  placeholder="Enter username"
  class="... {$errors?.username ? 'error-styles' : 'normal-styles'}"
  bind:value={data.username}
/>
<ErrorText error={$errors?.username ?? ''} />`;Rt(),wt(e,{title:"Basic Validation Demo",main:D=>{var A=as(),b=re(A);St(b,{get hasErrors(){return r()},get isDirty(){return a()}});var w=m(b,2),k=p(w);{let T=j(()=>n()?.username);Z(k,{id:"username",get error(){return c(T)},label:"Username",placeholder:"Enter username",get value(){return c(d).username},set value(M){E(d,c(d).username=M)},$$legacy:!0})}var x=m(k,2);{let T=j(()=>n()?.email);Z(x,{id:"email",get error(){return c(T)},label:"Email",placeholder:"Enter email",type:"email",get value(){return c(d).email},set value(M){E(d,c(d).email=M)},$$legacy:!0})}var V=m(x,2);{let T=j(()=>n()?.age);Z(V,{id:"age",get error(){return c(T)},label:"Age",placeholder:"Enter age",type:"number",get value(){return c(d).age},set value(M){E(d,c(d).age=M)},$$legacy:!0})}var Y=m(V,2);{let T=j(()=>n()?.bio);zr(Y,{id:"bio",get error(){return c(T)},label:"Bio",placeholder:"Tell us about yourself",get value(){return c(d).bio},set value(M){E(d,c(d).bio=M)},$$legacy:!0})}var W=m(Y,2);{let T=j(()=>n()?.website);Z(W,{id:"website",get error(){return c(T)},label:"Website",placeholder:"https://example.com",required:!1,get value(){return c(d).website},set value(M){E(d,c(d).website=M)},$$legacy:!0})}$(D,A)},sidebar:D=>{Et(D,{get data(){return c(d)},get errors(){return n()},get hasErrors(){return r()},get isDirty(){return a()},onFill:L})},sourceCode:D=>{$t(D,{children:(A,b)=>{var w=is(),k=re(w);_e(k,{code:g,title:"State Setup"});var x=m(k,2);_e(x,{code:y,title:"Form Binding Example"}),$(A,w)}})}}),Fe(),s()}var os=q('<span class="font-normal text-gray-500"> </span>'),ls=q('<h6 class="mb-3 border-b border-gray-200 pb-2 text-sm font-semibold text-gray-700"> <!></h6>');function Ht(e,t){var r=ls(),a=p(r),n=m(a);{var i=s=>{var o=os(),l=p(o);X(()=>U(l,`(${t.subtitle??""})`)),$(s,o)};ae(n,s=>{t.subtitle&&s(i)})}X(()=>U(a,`${t.title??""} `)),$(e,r)}var us=q('<!> <div class="space-y-6"><!> <div><!> <div class="grid grid-cols-2 gap-4"><!> <!></div></div> <div><!> <div class="rounded-lg border border-blue-200 bg-blue-50 p-4"><div class="space-y-2"><div class="flex justify-between text-sm"><span class="text-gray-600">Subtotal:</span> <span class="font-medium text-gray-900"> </span></div> <div class="flex justify-between text-sm"><span class="text-gray-600">Tax (8%):</span> <span class="font-medium text-gray-900"> </span></div> <div class="flex justify-between border-t border-blue-200 pt-2 text-base"><span class="font-semibold text-gray-700">Total:</span> <span class="font-bold text-blue-600"> </span></div></div></div></div></div>',1),cs=q("<!> <!>",1);function ds(e,t){Oe(t,!1);const r=()=>te(_,"$hasErrors",i),a=()=>te(L,"$isDirty",i),n=()=>te(h,"$errors",i),[i,s]=yt(),o=()=>Math.random().toString(36).slice(2,8),l=(N,D)=>Math.floor(Math.random()*(D-N+1))+N,u=.08,f={productName:`Widget ${o()}`,item:{unitPrice:0,quantity:1},subtotal:0,tax:0,total:0},d=xt(f,{validator:N=>({productName:H(N.productName,"trim").required().minLength(2).getError(),item:{unitPrice:Dr(N.item.unitPrice).required().positive().getError(),quantity:Dr(N.item.quantity).required().integer().min(1).max(100).getError()}}),effect:({property:N})=>{(N==="item.unitPrice"||N==="item.quantity")&&(E(v,c(v).subtotal=c(v).item.unitPrice*c(v).item.quantity),E(v,c(v).tax=c(v).subtotal*u),E(v,c(v).total=c(v).subtotal+c(v).tax))}}),v=it(d.data),h=d.state.errors,_=d.state.hasErrors,L=d.state.isDirty,g=()=>{E(v,c(v).productName=`Widget ${o()}`),E(v,c(v).item.unitPrice=l(10,100)),E(v,c(v).item.quantity=l(1,10))},y=N=>`$${N.toFixed(2)}`,S=`const sourceData = {
  productName: '',
  item: { unitPrice: 0, quantity: 1 },
  subtotal: 0, tax: 0, total: 0  // Calculated fields (set by effect)
};

const TAX_RATE = 0.08;

const { data, state: { errors, hasErrors, isDirty } } = createSvState(sourceData, {
  validator: (source) => ({
    productName: stringValidator(source.productName, 'trim').required().minLength(2).getError(),
    item: {
      unitPrice: numberValidator(source.item.unitPrice).required().positive().getError(),
      quantity: numberValidator(source.item.quantity).required().integer().min(1).max(100).getError()
    }
  }),
  effect: ({ property }) => {
    if (property === 'item.unitPrice' || property === 'item.quantity') {
      data.subtotal = data.item.unitPrice * data.item.quantity;
      data.tax = data.subtotal * TAX_RATE;
      data.total = data.subtotal + data.tax;
    }
  }
});`,C=`effect: ({ property }) => {
  if (property === 'item.unitPrice' || property === 'item.quantity') {
    data.subtotal = data.item.unitPrice * data.item.quantity;
    data.tax = data.subtotal * TAX_RATE;
    data.total = data.subtotal + data.tax;
  }
}`;Rt(),wt(e,{title:"Calculated Fields Demo",main:b=>{var w=us(),k=re(w);St(k,{get hasErrors(){return r()},get isDirty(){return a()}});var x=m(k,2),V=p(x);{let fe=j(()=>n()?.productName);Z(V,{id:"productName",get error(){return c(fe)},label:"Product Name",placeholder:"Enter product name",get value(){return c(v).productName},set value(oe){E(v,c(v).productName=oe)},$$legacy:!0})}var Y=m(V,2),W=p(Y);Ht(W,{subtitle:"nested object",title:"Item Details"});var T=m(W,2),M=p(T);{let fe=j(()=>n()?.item?.unitPrice);Z(M,{id:"unitPrice",get error(){return c(fe)},label:"Unit Price ($)",min:0,placeholder:"0.00",step:.01,type:"number",get value(){return c(v).item.unitPrice},set value(oe){E(v,c(v).item.unitPrice=oe)},$$legacy:!0})}var R=m(M,2);{let fe=j(()=>n()?.item?.quantity);Z(R,{id:"quantity",get error(){return c(fe)},label:"Quantity",max:100,min:1,placeholder:"1",type:"number",get value(){return c(v).item.quantity},set value(oe){E(v,c(v).item.quantity=oe)},$$legacy:!0})}var I=m(Y,2),J=p(I);Ht(J,{subtitle:"computed by effect",title:"Calculated Totals"});var Q=m(J,2),ie=p(Q),ce=p(ie),G=m(p(ce),2),ee=p(G),ne=m(ce,2),de=m(p(ne),2),P=p(de),F=m(ne,2),je=m(p(F),2),se=p(je);X((fe,oe,Ee)=>{U(ee,fe),U(P,oe),U(se,Ee)},[()=>y(c(v).subtotal),()=>y(c(v).tax),()=>y(c(v).total)]),$(b,w)},sidebar:b=>{Et(b,{get data(){return c(v)},get errors(){return n()},get hasErrors(){return r()},get isDirty(){return a()},onFill:g})},sourceCode:b=>{$t(b,{children:(w,k)=>{var x=cs(),V=re(x);_e(V,{code:S,title:"State Setup with Effect"});var Y=m(V,2);_e(Y,{code:C,title:"Effect Function"}),$(w,x)}})}}),Fe(),s()}var fs=q('<span class="font-normal normal-case"> </span>'),vs=q('<div class="rounded-lg border border-gray-200 bg-gray-50 p-4"><h6 class="mb-3 text-xs font-semibold uppercase tracking-wide text-gray-500"> <!></h6> <!></div>');function ms(e,t){var r=vs(),a=p(r),n=p(a),i=m(n);{var s=l=>{var u=fs(),f=p(u);X(()=>U(f,`(${t.subtitle??""})`)),$(l,u)};ae(i,l=>{t.subtitle&&l(s)})}var o=m(a,2);Pt(o,()=>t.children),X(()=>U(n,`${t.title??""} `)),$(e,r)}var hs=q('<div class="space-y-4"><!> <!></div>'),ps=q('<!> <div class="space-y-6"><div><!> <!></div> <div><!> <div class="space-y-4"><!> <div class="grid grid-cols-2 gap-4"><!> <!></div></div></div> <div><!> <div class="space-y-4"><div class="grid grid-cols-2 gap-4"><!> <!></div> <!></div></div></div>',1),gs=q("<!> <!>",1);function _s(e,t){Oe(t,!1);const r=()=>te(h,"$hasErrors",i),a=()=>te(_,"$isDirty",i),n=()=>te(v,"$errors",i),[i,s]=yt(),o={name:"",address:{street:"",city:"",zip:""},company:{name:"",department:"",contact:{phone:"",email:""}}},l=()=>Math.random().toString(36).slice(2,8),u=(S,C)=>Math.floor(Math.random()*(C-S+1))+S,f=xt(o,{validator:S=>({name:H(S.name,"trim").required().minLength(2).maxLength(50).getError(),address:{street:H(S.address.street,"trim").required().minLength(5).getError(),city:H(S.address.city,"trim").required().minLength(2).getError(),zip:H(S.address.zip,"trim").required().minLength(5).maxLength(10).getError()},company:{name:H(S.company.name,"trim").required().minLength(2).getError(),department:H(S.company.department,"trim").maxLength(50).getError(),contact:{phone:H(S.company.contact.phone,"trim").required().minLength(10).getError(),email:H(S.company.contact.email,"trim").required().email().getError()}}})}),d=it(f.data),v=f.state.errors,h=f.state.hasErrors,_=f.state.isDirty,L=()=>{E(d,c(d).name=`John ${l()}`),E(d,c(d).address.street=`${u(100,9999)} Main Street`),E(d,c(d).address.city="New York"),E(d,c(d).address.zip=`${u(1e4,99999)}`),E(d,c(d).company.name=`Acme ${l()} Inc`),E(d,c(d).company.department="Engineering"),E(d,c(d).company.contact.phone=`555-${u(100,999)}-${u(1e3,9999)}`),E(d,c(d).company.contact.email=`contact@${l()}.com`)},g=`const sourceData = {
  name: '',
  address: { street: '', city: '', zip: '' },       // 2-level nested
  company: {                                         // 3-level nested
    name: '',
    department: '',
    contact: { phone: '', email: '' }
  }
};

const { data, state: { errors, hasErrors, isDirty } } = createSvState(sourceData, {
  validator: (source) => ({
    name: stringValidator(source.name, 'trim').required().minLength(2).maxLength(50).getError(),
    address: {
      street: stringValidator(source.address.street, 'trim').required().minLength(5).getError(),
      city: stringValidator(source.address.city, 'trim').required().minLength(2).getError(),
      zip: stringValidator(source.address.zip, 'trim').required().minLength(5).maxLength(10).getError()
    },
    company: {
      name: stringValidator(source.company.name, 'trim').required().minLength(2).getError(),
      department: stringValidator(source.company.department, 'trim').maxLength(50).getError(),
      contact: {
        phone: stringValidator(source.company.contact.phone, 'trim').required().minLength(10).getError(),
        email: stringValidator(source.company.contact.email, 'trim').required().email().getError()
      }
    }
  })
});`,y=`<!-- 2-level nested binding -->
<input bind:value={data.address.street} />
<ErrorText error={$errors?.address?.street ?? ''} />

<!-- 3-level nested binding -->
<input bind:value={data.company.contact.phone} />
<ErrorText error={$errors?.company?.contact?.phone ?? ''} />`;Rt(),wt(e,{title:"Nested Objects Demo",main:D=>{var A=ps(),b=re(A);St(b,{get hasErrors(){return r()},get isDirty(){return a()}});var w=m(b,2),k=p(w),x=p(k);Ht(x,{title:"Personal Info"});var V=m(x,2);{let P=j(()=>n()?.name);Z(V,{id:"name",get error(){return c(P)},label:"Full Name",placeholder:"Enter your full name",get value(){return c(d).name},set value(F){E(d,c(d).name=F)},$$legacy:!0})}var Y=m(k,2),W=p(Y);Ht(W,{subtitle:"2-level nested",title:"Address"});var T=m(W,2),M=p(T);{let P=j(()=>n()?.address?.street);Z(M,{id:"street",get error(){return c(P)},label:"Street",placeholder:"Enter street address",get value(){return c(d).address.street},set value(F){E(d,c(d).address.street=F)},$$legacy:!0})}var R=m(M,2),I=p(R);{let P=j(()=>n()?.address?.city);Z(I,{id:"city",get error(){return c(P)},label:"City",placeholder:"Enter city",get value(){return c(d).address.city},set value(F){E(d,c(d).address.city=F)},$$legacy:!0})}var J=m(I,2);{let P=j(()=>n()?.address?.zip);Z(J,{id:"zip",get error(){return c(P)},label:"ZIP Code",placeholder:"Enter ZIP",get value(){return c(d).address.zip},set value(F){E(d,c(d).address.zip=F)},$$legacy:!0})}var Q=m(Y,2),ie=p(Q);Ht(ie,{subtitle:"3-level nested",title:"Company"});var ce=m(ie,2),G=p(ce),ee=p(G);{let P=j(()=>n()?.company?.name);Z(ee,{id:"company-name",get error(){return c(P)},label:"Company Name",placeholder:"Enter company name",get value(){return c(d).company.name},set value(F){E(d,c(d).company.name=F)},$$legacy:!0})}var ne=m(ee,2);{let P=j(()=>n()?.company?.department);Z(ne,{id:"department",get error(){return c(P)},label:"Department",placeholder:"Enter department",required:!1,get value(){return c(d).company.department},set value(F){E(d,c(d).company.department=F)},$$legacy:!0})}var de=m(G,2);ms(de,{subtitle:"3rd level",title:"Contact Info",children:(P,F)=>{var je=hs(),se=p(je);{let oe=j(()=>n()?.company?.contact?.phone);Z(se,{id:"contact-phone",get error(){return c(oe)},label:"Phone",placeholder:"Enter phone number",variant:"nested",get value(){return c(d).company.contact.phone},set value(Ee){E(d,c(d).company.contact.phone=Ee)},$$legacy:!0})}var fe=m(se,2);{let oe=j(()=>n()?.company?.contact?.email);Z(fe,{id:"contact-email",get error(){return c(oe)},label:"Email",placeholder:"Enter email address",type:"email",variant:"nested",get value(){return c(d).company.contact.email},set value(Ee){E(d,c(d).company.contact.email=Ee)},$$legacy:!0})}$(P,je)}}),$(D,A)},sidebar:D=>{Et(D,{get data(){return c(d)},get errors(){return n()},get hasErrors(){return r()},get isDirty(){return a()},onFill:L,width:"w-96"})},sourceCode:D=>{$t(D,{children:(A,b)=>{var w=gs(),k=re(w);_e(k,{code:g,title:"State Setup with Nested Validation"});var x=m(k,2);_e(x,{code:y,title:"Nested Form Binding Examples"}),$(A,w)}})}}),Fe(),s()}var bs=q('<div class="mt-6"><button class="w-full cursor-pointer rounded-lg bg-orange-600 px-4 py-2 text-sm font-medium text-white hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-orange-500" type="button">Reset to Initial Values</button></div>'),ys=q('<!> <div class="space-y-4"><!> <!> <!> <!> <!></div> <!>',1),xs=q("<!> <!>",1);function Es(e,t){Oe(t,!1);const r=()=>te(h,"$hasErrors",i),a=()=>te(_,"$isDirty",i),n=()=>te(v,"$errors",i),[i,s]=yt(),o={firstName:"Alice",lastName:"Smith",email:"alice.smith@example.com",phone:"",bio:""},l=()=>Math.random().toString(36).slice(2,8),u=xt(o,{validator:S=>({firstName:H(S.firstName,"trim").required().minLength(2).maxLength(30).getError(),lastName:H(S.lastName,"trim").required().minLength(2).maxLength(30).getError(),email:H(S.email,"trim").required().email().getError(),phone:H(S.phone,"trim").required().minLength(10).getError(),bio:H(S.bio).maxLength(200).getError()})}),f=it(u.data),d=u.reset,v=u.state.errors,h=u.state.hasErrors,_=u.state.isDirty,L=()=>{E(f,c(f).firstName="John"),E(f,c(f).lastName=`Doe${l()}`),E(f,c(f).email=`john.doe.${l()}@example.com`),E(f,c(f).phone=`555-${l().slice(0,3)}-${l().slice(0,4)}`),E(f,c(f).bio="Software developer with a passion for clean code.")},g=`const sourceData = {
  firstName: 'Alice',
  lastName: 'Smith',
  email: 'alice.smith@example.com',
  phone: '',
  bio: ''
};

const { data, reset, state: { errors, hasErrors, isDirty } } = createSvState(sourceData, {
  validator: (source) => ({
    firstName: stringValidator(source.firstName, 'trim').required().minLength(2).maxLength(30).getError(),
    lastName: stringValidator(source.lastName, 'trim').required().minLength(2).maxLength(30).getError(),
    email: stringValidator(source.email, 'trim').required().email().getError(),
    phone: stringValidator(source.phone, 'trim').required().minLength(10).getError(),
    bio: stringValidator(source.bio).maxLength(200).getError()
  })
});`,y=`<!-- Reset button only appears when form is dirty -->
{#if $isDirty}
  <button onclick={reset} type="button">
    Reset to Initial Values
  </button>
{/if}

<!-- isDirty becomes true on any change -->
<!-- reset() restores to initial snapshot and clears history -->`;Rt(),wt(e,{title:"Reset Demo",main:D=>{var A=ys(),b=re(A);St(b,{get hasErrors(){return r()},get isDirty(){return a()}});var w=m(b,2),k=p(w);{let R=j(()=>n()?.firstName);Z(k,{id:"firstName",get error(){return c(R)},label:"First Name",placeholder:"Enter first name",get value(){return c(f).firstName},set value(I){E(f,c(f).firstName=I)},$$legacy:!0})}var x=m(k,2);{let R=j(()=>n()?.lastName);Z(x,{id:"lastName",get error(){return c(R)},label:"Last Name",placeholder:"Enter last name",get value(){return c(f).lastName},set value(I){E(f,c(f).lastName=I)},$$legacy:!0})}var V=m(x,2);{let R=j(()=>n()?.email);Z(V,{id:"email",get error(){return c(R)},label:"Email",placeholder:"Enter email",type:"email",get value(){return c(f).email},set value(I){E(f,c(f).email=I)},$$legacy:!0})}var Y=m(V,2);{let R=j(()=>n()?.phone);Z(Y,{id:"phone",get error(){return c(R)},label:"Phone",placeholder:"555-123-4567",get value(){return c(f).phone},set value(I){E(f,c(f).phone=I)},$$legacy:!0})}var W=m(Y,2);{let R=j(()=>n()?.bio);zr(W,{id:"bio",get error(){return c(R)},label:"Bio",placeholder:"Tell us about yourself",required:!1,get value(){return c(f).bio},set value(I){E(f,c(f).bio=I)},$$legacy:!0})}var T=m(w,2);{var M=R=>{var I=bs(),J=p(I);J.__click=d,$(R,I)};ae(T,R=>{a()&&R(M)})}$(D,A)},sidebar:D=>{Et(D,{get data(){return c(f)},get errors(){return n()},get hasErrors(){return r()},get isDirty(){return a()},onFill:L})},sourceCode:D=>{$t(D,{children:(A,b)=>{var w=xs(),k=re(w);_e(k,{code:g,title:"State Setup with Reset"});var x=m(k,2);_e(x,{code:y,title:"Conditional Reset Button"}),$(A,w)}})}}),Fe(),s()}bt(["click"]);var ws=q('<button class="flex-1 cursor-pointer rounded-lg bg-orange-600 px-4 py-2 text-sm font-medium text-white hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-orange-500" type="button">Reset All</button>'),$s=q('<!> <div class="mb-4 flex items-center gap-2"><span class="rounded bg-purple-100 px-2.5 py-0.5 text-xs font-medium text-purple-800"> </span></div> <div class="space-y-4"><!> <!> <!> <!> <!></div> <div class="mt-6 flex gap-3"><button class="flex-1 cursor-pointer rounded-lg bg-amber-600 px-4 py-2 text-sm font-medium text-white hover:bg-amber-700 focus:outline-none focus:ring-2 focus:ring-amber-500 disabled:cursor-not-allowed disabled:opacity-50" type="button">Undo Last Change</button> <!></div>',1),Ss=q('<p class="text-xs text-gray-500">No snapshots yet</p>'),Ns=q('<li class="flex items-center gap-2 text-xs text-gray-600"><span class="flex h-5 w-5 flex-shrink-0 items-center justify-center rounded-full bg-purple-200 text-xs font-medium text-purple-800"></span> <span class="truncate"> </span></li>'),Ds=q('<ul class="max-h-48 space-y-1 overflow-y-auto"></ul>'),As=q('<div class="w-96 flex-shrink-0 space-y-4"><!> <div class="rounded-lg border border-gray-300 bg-gray-50 p-4 shadow-inner"><h6 class="mb-2 text-sm font-medium text-gray-700">Snapshot History</h6> <!></div></div>'),Cs=q("<!> <!> <!>",1);function ks(e,t){Oe(t,!1);const r=()=>te(g,"$hasErrors",s),a=()=>te(y,"$isDirty",s),n=()=>te(S,"$snapshots",s),i=()=>te(L,"$errors",s),[s,o]=yt(),l={firstName:"Alice",lastName:"Smith",email:"alice.smith@example.com",phone:"",bio:""},u=()=>Math.random().toString(36).slice(2,8),f=b=>b.charAt(0).toUpperCase()+b.slice(1).replaceAll(/([A-Z])/g," $1"),d=xt(l,{validator:b=>({firstName:H(b.firstName,"trim").required().minLength(2).maxLength(30).getError(),lastName:H(b.lastName,"trim").required().minLength(2).maxLength(30).getError(),email:H(b.email,"trim").required().email().getError(),phone:H(b.phone,"trim").required().minLength(10).getError(),bio:H(b.bio).maxLength(200).getError()}),effect:({snapshot:b,property:w})=>{b(`Changed ${f(w)}`)}}),v=it(d.data),h=d.reset,_=d.rollback,L=d.state.errors,g=d.state.hasErrors,y=d.state.isDirty,S=d.state.snapshots,C=()=>{E(v,c(v).firstName="John"),E(v,c(v).lastName=`Doe${u()}`),E(v,c(v).email=`john.doe.${u()}@example.com`),E(v,c(v).phone=`555-${u().slice(0,3)}-${u().slice(0,4)}`),E(v,c(v).bio="Software developer with a passion for clean code.")},N=`const sourceData = {
  firstName: 'Alice', lastName: 'Smith', email: 'alice.smith@example.com', phone: '', bio: ''
};

const { data, reset, rollback, state: { errors, hasErrors, isDirty, snapshots } } =
  createSvState(sourceData, {
    validator: (source) => ({ /* validation rules */ }),
    effect: ({ snapshot, property }) => {
      snapshot(\`Changed \${formatFieldName(property)}\`);
    }
  });`,D=`// Effect callback creates snapshots on each change
effect: ({ snapshot, property }) => {
  snapshot(\`Changed \${property}\`);  // Creates undo point
  // If same title, replaces last snapshot (debouncing)
  // Use snapshot(title, false) to always create new
}`,A=`// Undo last change (disabled if only initial snapshot)
<button onclick={() => rollback()} disabled={$snapshots.length <= 1}>
  Undo Last Change
</button>

// Rollback multiple steps at once
rollback(3);  // Undo 3 changes

// Reset to initial state (clears all snapshots)
<button onclick={reset}>Reset All</button>`;Rt(),wt(e,{title:"Snapshot & Rollback Demo",main:x=>{var V=$s(),Y=re(V);St(Y,{get hasErrors(){return r()},get isDirty(){return a()}});var W=m(Y,2),T=p(W),M=p(T),R=m(W,2),I=p(R);{let P=j(()=>i()?.firstName);Z(I,{id:"firstName",get error(){return c(P)},label:"First Name",placeholder:"Enter first name",get value(){return c(v).firstName},set value(F){E(v,c(v).firstName=F)},$$legacy:!0})}var J=m(I,2);{let P=j(()=>i()?.lastName);Z(J,{id:"lastName",get error(){return c(P)},label:"Last Name",placeholder:"Enter last name",get value(){return c(v).lastName},set value(F){E(v,c(v).lastName=F)},$$legacy:!0})}var Q=m(J,2);{let P=j(()=>i()?.email);Z(Q,{id:"email",get error(){return c(P)},label:"Email",placeholder:"Enter email",type:"email",get value(){return c(v).email},set value(F){E(v,c(v).email=F)},$$legacy:!0})}var ie=m(Q,2);{let P=j(()=>i()?.phone);Z(ie,{id:"phone",get error(){return c(P)},label:"Phone",placeholder:"555-123-4567",get value(){return c(v).phone},set value(F){E(v,c(v).phone=F)},$$legacy:!0})}var ce=m(ie,2);{let P=j(()=>i()?.bio);zr(ce,{id:"bio",get error(){return c(P)},label:"Bio",placeholder:"Tell us about yourself",required:!1,get value(){return c(v).bio},set value(F){E(v,c(v).bio=F)},$$legacy:!0})}var G=m(R,2),ee=p(G);ee.__click=()=>_();var ne=m(ee,2);{var de=P=>{var F=ws();F.__click=h,$(P,F)};ae(ne,P=>{a()&&P(de)})}X(()=>{U(M,`${n().length??""} Snapshot${n().length===1?"":"s"}`),ee.disabled=n().length<=1}),$(x,V)},sidebar:x=>{var V=As(),Y=p(V);Et(Y,{get data(){return c(v)},get errors(){return i()},get hasErrors(){return r()},get isDirty(){return a()},onFill:C,width:"w-96"});var W=m(Y,2),T=m(p(W),2);{var M=I=>{var J=Ss();$(I,J)},R=I=>{var J=Ds();Br(J,5,n,jr,(Q,ie,ce)=>{var G=Ns(),ee=p(G);ee.textContent=ce+1;var ne=m(ee,2),de=p(ne);X(()=>U(de,c(ie).title)),$(Q,G)}),$(I,J)};ae(T,I=>{n().length===0?I(M):I(R,!1)})}$(x,V)},sourceCode:x=>{$t(x,{children:(V,Y)=>{var W=Cs(),T=re(W);_e(T,{code:N,title:"State Setup with Snapshots"});var M=m(T,2);_e(M,{code:D,title:"Effect with Snapshot Creation"});var R=m(M,2);_e(R,{code:A,title:"Rollback & Reset Usage"}),$(V,W)}})}}),Fe(),o()}bt(["click"]);var Ls=q("<option> </option>"),qs=q(`<div class="min-h-screen bg-gray-100 p-8"><header class="mb-8 flex items-center gap-6"><img class="h-32 w-32" alt="svstate logo"/> <div><h1 class="text-4xl font-bold text-gray-900">svstate <span class="ml-2 text-xl font-normal text-gray-500"> </span></h1> <p class="mt-2 max-w-2xl text-gray-600">A Svelte 5 library that provides a supercharged $state() with deep reactive proxies, validation, snapshot/undo,
				and side effects.</p></div></header> <div class="flex gap-6"><aside class="w-64 flex-shrink-0"><div class="rounded-lg border border-gray-200 bg-white p-4 shadow-sm"><label class="mb-2 block text-sm font-medium text-gray-900" for="demo-select">Demo Mode</label> <select id="demo-select" class="block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500"></select></div></aside> <main class="flex-1"><!></main></div></div>`);function Ps(e){const t=[{value:"basic-validation",name:"Basic Validation"},{value:"nested-objects",name:"Nested Objects"},{value:"array-property",name:"Array Property"},{value:"calculated-fields",name:"Calculated Fields"},{value:"reset-demo",name:"Reset"},{value:"snapshot-demo",name:"Snapshot & Rollback"},{value:"action-demo",name:"Action & Error"}];let r=Ce("basic-validation");const a="0.0.1",n="/svstate";var i=qs(),s=p(i),o=p(s),l=m(o,2),u=p(l),f=m(p(u)),d=p(f),v=m(s,2),h=p(v),_=p(h),L=m(p(_),2);Br(L,21,()=>t,jr,(N,D)=>{var A=Ls(),b=p(A),w={};X(()=>{U(b,c(D).name),w!==(w=c(D).value)&&(A.value=(A.__value=c(D).value)??"")}),$(N,A)});var g=m(h,2),y=p(g);{var S=N=>{ss(N,{})},C=N=>{var D=Qe(),A=re(D);{var b=k=>{_s(k,{})},w=k=>{var x=Qe(),V=re(x);{var Y=T=>{rs(T,{})},W=T=>{var M=Qe(),R=re(M);{var I=Q=>{ds(Q,{})},J=Q=>{var ie=Qe(),ce=re(ie);{var G=ne=>{Es(ne,{})},ee=ne=>{var de=Qe(),P=re(de);{var F=se=>{ks(se,{})},je=se=>{var fe=Qe(),oe=re(fe);{var Ee=K=>{Hi(K,{})};ae(oe,K=>{c(r)==="action-demo"&&K(Ee)},!0)}$(se,fe)};ae(P,se=>{c(r)==="snapshot-demo"?se(F):se(je,!1)},!0)}$(ne,de)};ae(ce,ne=>{c(r)==="reset-demo"?ne(G):ne(ee,!1)},!0)}$(Q,ie)};ae(R,Q=>{c(r)==="calculated-fields"?Q(I):Q(J,!1)},!0)}$(T,M)};ae(V,T=>{c(r)==="array-property"?T(Y):T(W,!1)},!0)}$(k,x)};ae(A,k=>{c(r)==="nested-objects"?k(b):k(w,!1)},!0)}$(N,D)};ae(y,N=>{c(r)==="basic-validation"?N(S):N(C,!1)})}X(()=>{he(o,"src",`${n}/favicon.png`),U(d,`v${a}`)}),hi(L,()=>c(r),N=>pe(r,N)),$(e,i)}oi(Ps,{target:document.querySelector("#app")});
