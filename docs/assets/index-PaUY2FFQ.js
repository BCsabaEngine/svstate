(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();const vr=!1;var $r=Array.isArray,Kn=Array.prototype.indexOf,or=Array.from,en=Object.defineProperty,xt=Object.getOwnPropertyDescriptor,tn=Object.getOwnPropertyDescriptors,Zn=Object.prototype,Xn=Array.prototype,Sr=Object.getPrototypeOf,Vr=Object.isExtensible;const Je=()=>{};function Qn(e){return e()}function er(e){for(var t=0;t<e.length;t++)e[t]()}function rn(){var e,t,r=new Promise((a,n)=>{e=a,t=n});return{promise:r,resolve:e,reject:t}}const oe=2,tr=4,zt=8,nn=1<<24,Be=16,Ue=32,mt=64,Nr=128,De=512,ue=1024,de=2048,ze=4096,be=8192,Fe=16384,Dr=32768,ct=65536,jr=1<<17,an=1<<18,St=1<<19,sn=1<<20,Oe=1<<25,ft=32768,mr=1<<21,Ar=1<<22,Ge=1<<23,Ke=Symbol("$state"),ea=Symbol("legacy props"),ta=Symbol(""),yt=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function ra(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function na(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function aa(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ia(e){throw new Error("https://svelte.dev/e/effect_orphan")}function sa(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function oa(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function la(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ua(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function ca(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function fa(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const da=1,va=2,on=4,ma=8,ha=16,pa=1,ga=2,_a=4,ba=8,ya=16,xa=1,Ea=2,ie=Symbol(),wa="http://www.w3.org/1999/xhtml";function $a(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function Sa(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function ln(e){return e===this.v}function un(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function cn(e){return!un(e,this.v)}let Wt=!1,Na=!1;function Da(){Wt=!0}let re=null;function wt(e){re=e}function We(e,t=!1,r){re={p:re,i:!1,c:null,e:null,s:e,x:null,l:Wt&&!t?{s:null,u:null,$:[]}:null}}function He(e){var t=re,r=t.e;if(r!==null){t.e=null;for(var a of r)An(a)}return t.i=!0,re=t.p,{}}function Ht(){return!Wt||re!==null&&re.l===null}let it=[];function fn(){var e=it;it=[],er(e)}function lr(e){if(it.length===0&&!Rt){var t=it;queueMicrotask(()=>{t===it&&fn()})}it.push(e)}function Aa(){for(;it.length>0;)fn()}function dn(e){var t=V;if(t===null)return T.f|=Ge,e;if((t.f&Dr)===0){if((t.f&Nr)===0)throw e;t.b.error(e)}else $t(e,t)}function $t(e,t){for(;t!==null;){if((t.f&Nr)!==0)try{t.b.error(e);return}catch(r){e=r}t=t.parent}throw e}const Ca=-7169;function ne(e,t){e.f=e.f&Ca|t}function Cr(e){(e.f&De)!==0||e.deps===null?ne(e,ue):ne(e,ze)}function vn(e){if(e!==null)for(const t of e)(t.f&oe)===0||(t.f&ft)===0||(t.f^=ft,vn(t.deps))}function mn(e,t,r){(e.f&de)!==0?t.add(e):(e.f&ze)!==0&&r.add(e),vn(e.deps),ne(e,ue)}const Zt=new Set;let F=null,It=null,Ae=null,$e=[],ur=null,hr=!1,Rt=!1;class Pe{committed=!1;current=new Map;previous=new Map;#t=new Set;#s=new Set;#e=0;#a=0;#i=null;#n=new Set;#r=new Set;skipped_effects=new Set;is_fork=!1;is_deferred(){return this.is_fork||this.#a>0}process(t){$e=[],It=null,this.apply();var r=[],a=[];for(const n of t)this.#o(n,r,a);this.is_fork||this.#u(),this.is_deferred()?(this.#l(a),this.#l(r)):(It=this,F=null,Br(a),Br(r),It=null,this.#i?.resolve()),Ae=null}#o(t,r,a){t.f^=ue;for(var n=t.first,i=null;n!==null;){var s=n.f,o=(s&(Ue|mt))!==0,l=o&&(s&ue)!==0,u=l||(s&be)!==0||this.skipped_effects.has(n);if(!u&&n.fn!==null){o?n.f^=ue:i!==null&&(s&(tr|zt|nn))!==0?i.b.defer_effect(n):(s&tr)!==0?r.push(n):Gt(n)&&((s&Be)!==0&&this.#n.add(n),Ut(n));var v=n.first;if(v!==null){n=v;continue}}var c=n.parent;for(n=n.next;n===null&&c!==null;)c===i&&(i=null),n=c.next,c=c.parent}}#l(t){for(var r=0;r<t.length;r+=1)mn(t[r],this.#n,this.#r)}capture(t,r){r!==ie&&!this.previous.has(t)&&this.previous.set(t,r),(t.f&Ge)===0&&(this.current.set(t,t.v),Ae?.set(t,t.v))}activate(){F=this,this.apply()}deactivate(){F===this&&(F=null,Ae=null)}flush(){if(this.activate(),$e.length>0){if(hn(),F!==null&&F!==this)return}else this.#e===0&&this.process([]);this.deactivate()}discard(){for(const t of this.#s)t(this);this.#s.clear()}#u(){if(this.#a===0){for(const t of this.#t)t();this.#t.clear()}this.#e===0&&this.#c()}#c(){if(Zt.size>1){this.previous.clear();var t=Ae,r=!0;for(const n of Zt){if(n===this){r=!1;continue}const i=[];for(const[o,l]of this.current){if(n.current.has(o))if(r&&l!==n.current.get(o))n.current.set(o,l);else continue;i.push(o)}if(i.length===0)continue;const s=[...n.current.keys()].filter(o=>!this.current.has(o));if(s.length>0){var a=$e;$e=[];const o=new Set,l=new Map;for(const u of i)pn(u,s,o,l);if($e.length>0){F=n,n.apply();for(const u of $e)n.#o(u,[],[]);n.deactivate()}$e=a}}F=null,Ae=t}this.committed=!0,Zt.delete(this)}increment(t){this.#e+=1,t&&(this.#a+=1)}decrement(t){this.#e-=1,t&&(this.#a-=1),this.revive()}revive(){for(const t of this.#n)this.#r.delete(t),ne(t,de),je(t);for(const t of this.#r)ne(t,ze),je(t);this.flush()}oncommit(t){this.#t.add(t)}ondiscard(t){this.#s.add(t)}settled(){return(this.#i??=rn()).promise}static ensure(){if(F===null){const t=F=new Pe;Zt.add(F),Rt||Pe.enqueue(()=>{F===t&&t.flush()})}return F}static enqueue(t){lr(t)}apply(){}}function ka(e){var t=Rt;Rt=!0;try{for(var r;;){if(Aa(),$e.length===0&&(F?.flush(),$e.length===0))return ur=null,r;hn()}}finally{Rt=t}}function hn(){var e=lt;hr=!0;var t=null;try{var r=0;for(ar(!0);$e.length>0;){var a=Pe.ensure();if(r++>1e3){var n,i;qa()}a.process($e),Ze.clear()}}finally{hr=!1,ar(e),ur=null}}function qa(){try{sa()}catch(e){$t(e,ur)}}let Re=null;function Br(e){var t=e.length;if(t!==0){for(var r=0;r<t;){var a=e[r++];if((a.f&(Fe|be))===0&&Gt(a)&&(Re=new Set,Ut(a),a.deps===null&&a.first===null&&a.nodes===null&&(a.teardown===null&&a.ac===null?Ln(a):a.fn=null),Re?.size>0)){Ze.clear();for(const n of Re){if((n.f&(Fe|be))!==0)continue;const i=[n];let s=n.parent;for(;s!==null;)Re.has(s)&&(Re.delete(s),i.push(s)),s=s.parent;for(let o=i.length-1;o>=0;o--){const l=i[o];(l.f&(Fe|be))===0&&Ut(l)}}Re.clear()}}Re=null}}function pn(e,t,r,a){if(!r.has(e)&&(r.add(e),e.reactions!==null))for(const n of e.reactions){const i=n.f;(i&oe)!==0?pn(n,t,r,a):(i&(Ar|Be))!==0&&(i&de)===0&&gn(n,t,a)&&(ne(n,de),je(n))}}function gn(e,t,r){const a=r.get(e);if(a!==void 0)return a;if(e.deps!==null)for(const n of e.deps){if(t.includes(n))return!0;if((n.f&oe)!==0&&gn(n,t,r))return r.set(n,!0),!0}return r.set(e,!1),!1}function je(e){for(var t=ur=e;t.parent!==null;){t=t.parent;var r=t.f;if(hr&&t===V&&(r&Be)!==0&&(r&an)===0)return;if((r&(mt|Ue))!==0){if((r&ue)===0)return;t.f^=ue}}$e.push(t)}function La(e){let t=0,r=dt(0),a;return()=>{Lr()&&(f(r),Cn(()=>(t===0&&(a=ht(()=>e(()=>Ot(r)))),t+=1,()=>{lr(()=>{t-=1,t===0&&(a?.(),a=void 0,Ot(r))})})))}}var Pa=ct|St|Nr;function Ta(e,t,r){new Ma(e,t,r)}class Ma{parent;is_pending=!1;#t;#s=null;#e;#a;#i;#n=null;#r=null;#o=null;#l=null;#u=null;#c=0;#f=0;#v=!1;#m=new Set;#h=new Set;#d=null;#y=La(()=>(this.#d=dt(this.#c),()=>{this.#d=null}));constructor(t,r,a){this.#t=t,this.#e=r,this.#a=a,this.parent=V.b,this.is_pending=!!this.#e.pending,this.#i=cr(()=>{V.b=this;{var n=this.#_();try{this.#n=Se(()=>a(n))}catch(i){this.error(i)}this.#f>0?this.#g():this.is_pending=!1}return()=>{this.#u?.remove()}},Pa)}#x(){try{this.#n=Se(()=>this.#a(this.#t))}catch(t){this.error(t)}}#E(){const t=this.#e.pending;t&&(this.#r=Se(()=>t(this.#t)),Pe.enqueue(()=>{var r=this.#_();this.#n=this.#p(()=>(Pe.ensure(),Se(()=>this.#a(r)))),this.#f>0?this.#g():(ot(this.#r,()=>{this.#r=null}),this.is_pending=!1)}))}#_(){var t=this.#t;return this.is_pending&&(this.#u=Xe(),this.#t.before(this.#u),t=this.#u),t}defer_effect(t){mn(t,this.#m,this.#h)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#e.pending}#p(t){var r=V,a=T,n=re;Te(this.#i),he(this.#i),wt(this.#i.ctx);try{return t()}catch(i){return dn(i),null}finally{Te(r),he(a),wt(n)}}#g(){const t=this.#e.pending;this.#n!==null&&(this.#l=document.createDocumentFragment(),this.#l.append(this.#u),Mn(this.#n,this.#l)),this.#r===null&&(this.#r=Se(()=>t(this.#t)))}#b(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#b(t);return}if(this.#f+=t,this.#f===0){this.is_pending=!1;for(const r of this.#m)ne(r,de),je(r);for(const r of this.#h)ne(r,ze),je(r);this.#m.clear(),this.#h.clear(),this.#r&&ot(this.#r,()=>{this.#r=null}),this.#l&&(this.#t.before(this.#l),this.#l=null)}}update_pending_count(t){this.#b(t),this.#c+=t,this.#d&&vt(this.#d,this.#c)}get_effect_pending(){return this.#y(),f(this.#d)}error(t){var r=this.#e.onerror;let a=this.#e.failed;if(this.#v||!r&&!a)throw t;this.#n&&(pe(this.#n),this.#n=null),this.#r&&(pe(this.#r),this.#r=null),this.#o&&(pe(this.#o),this.#o=null);var n=!1,i=!1;const s=()=>{if(n){Sa();return}n=!0,i&&fa(),Pe.ensure(),this.#c=0,this.#o!==null&&ot(this.#o,()=>{this.#o=null}),this.is_pending=this.has_pending_snippet(),this.#n=this.#p(()=>(this.#v=!1,Se(()=>this.#a(this.#t)))),this.#f>0?this.#g():this.is_pending=!1};var o=T;try{he(null),i=!0,r?.(t,s),i=!1}catch(l){$t(l,this.#i&&this.#i.parent)}finally{he(o)}a&&lr(()=>{this.#o=this.#p(()=>{Pe.ensure(),this.#v=!0;try{return Se(()=>{a(this.#t,()=>t,()=>s)})}catch(l){return $t(l,this.#i.parent),null}finally{this.#v=!1}})})}}function Ia(e,t,r,a){const n=Ht()?Yt:I;if(r.length===0&&e.length===0){a(t.map(n));return}var i=F,s=V,o=Ra();function l(){Promise.all(r.map(u=>Oa(u))).then(u=>{o();try{a([...t.map(n),...u])}catch(v){(s.f&Fe)===0&&$t(v,s)}i?.deactivate(),rr()}).catch(u=>{$t(u,s)})}e.length>0?Promise.all(e).then(()=>{o();try{return l()}finally{i?.deactivate(),rr()}}):l()}function Ra(){var e=V,t=T,r=re,a=F;return function(i=!0){Te(e),he(t),wt(r),i&&a?.activate()}}function rr(){Te(null),he(null),wt(null)}function Yt(e){var t=oe|de,r=T!==null&&(T.f&oe)!==0?T:null;return V!==null&&(V.f|=St),{ctx:re,deps:null,effects:null,equals:ln,f:t,fn:e,reactions:null,rv:0,v:ie,wv:0,parent:r??V,ac:null}}function Oa(e,t,r){let a=V;a===null&&ra();var n=a.b,i=void 0,s=dt(ie),o=!T,l=new Map;return Ga(()=>{var u=rn();i=u.promise;try{Promise.resolve(e()).then(u.resolve,u.reject).then(()=>{v===F&&v.committed&&v.deactivate(),rr()})}catch(h){u.reject(h),rr()}var v=F;if(o){var c=n.is_rendered();n.update_pending_count(1),v.increment(c),l.get(v)?.reject(yt),l.delete(v),l.set(v,u)}const d=(h,b=void 0)=>{if(v.activate(),b)b!==yt&&(s.f|=Ge,vt(s,b));else{(s.f&Ge)!==0&&(s.f^=Ge),vt(s,h);for(const[q,g]of l){if(l.delete(q),q===v)break;g.reject(yt)}}o&&(n.update_pending_count(-1),v.decrement(c))};u.promise.then(d,h=>d(null,h||"unknown"))}),Pr(()=>{for(const u of l.values())u.reject(yt)}),new Promise(u=>{function v(c){function d(){c===i?u(s):v(i)}c.then(d,d)}v(i)})}function pr(e){const t=Yt(e);return In(t),t}function I(e){const t=Yt(e);return t.equals=cn,t}function _n(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)pe(t[r])}}function Fa(e){for(var t=e.parent;t!==null;){if((t.f&oe)===0)return(t.f&Fe)===0?t:null;t=t.parent}return null}function kr(e){var t,r=V;Te(Fa(e));try{e.f&=~ft,_n(e),t=Vn(e)}finally{Te(r)}return t}function bn(e){var t=kr(e);if(!e.equals(t)&&(e.wv=On(),(!F?.is_fork||e.deps===null)&&(e.v=t,e.deps===null))){ne(e,ue);return}Qe||(Ae!==null?(Lr()||F?.is_fork)&&Ae.set(e,t):Cr(e))}let gr=new Set;const Ze=new Map;let yn=!1;function dt(e,t){var r={f:0,v:e,reactions:null,equals:ln,rv:0,wv:0};return r}function Le(e,t){const r=dt(e);return In(r),r}function et(e,t=!1,r=!0){const a=dt(e);return t||(a.equals=cn),Wt&&r&&re!==null&&re.l!==null&&(re.l.s??=[]).push(a),a}function x(e,t){return Ne(e,ht(()=>f(e))),t}function Ne(e,t,r=!1){T!==null&&(!Ce||(T.f&jr)!==0)&&Ht()&&(T.f&(oe|Be|Ar|jr))!==0&&!Ve?.includes(e)&&ca();let a=r?st(t):t;return vt(e,a)}function vt(e,t){if(!e.equals(t)){var r=e.v;Qe?Ze.set(e,t):Ze.set(e,r),e.v=t;var a=Pe.ensure();if(a.capture(e,r),(e.f&oe)!==0){const n=e;(e.f&de)!==0&&kr(n),Cr(n)}e.wv=On(),xn(e,de),Ht()&&V!==null&&(V.f&ue)!==0&&(V.f&(Ue|mt))===0&&(we===null?Qa([e]):we.push(e)),!a.is_fork&&gr.size>0&&!yn&&Va()}return t}function Va(){yn=!1;var e=lt;ar(!0);const t=Array.from(gr);try{for(const r of t)(r.f&ue)!==0&&ne(r,ze),Gt(r)&&Ut(r)}finally{ar(e)}gr.clear()}function Ot(e){Ne(e,e.v+1)}function xn(e,t){var r=e.reactions;if(r!==null)for(var a=Ht(),n=r.length,i=0;i<n;i++){var s=r[i],o=s.f;if(!(!a&&s===V)){var l=(o&de)===0;if(l&&ne(s,t),(o&oe)!==0){var u=s;Ae?.delete(u),(o&ft)===0&&(o&De&&(s.f|=ft),xn(u,ze))}else l&&((o&Be)!==0&&Re!==null&&Re.add(s),je(s))}}}function st(e){if(typeof e!="object"||e===null||Ke in e)return e;const t=Sr(e);if(t!==Zn&&t!==Xn)return e;var r=new Map,a=$r(e),n=Le(0),i=ut,s=o=>{if(ut===i)return o();var l=T,u=ut;he(null),Gr(i);var v=o();return he(l),Gr(u),v};return a&&r.set("length",Le(e.length)),new Proxy(e,{defineProperty(o,l,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&la();var v=r.get(l);return v===void 0?v=s(()=>{var c=Le(u.value);return r.set(l,c),c}):Ne(v,u.value,!0),!0},deleteProperty(o,l){var u=r.get(l);if(u===void 0){if(l in o){const v=s(()=>Le(ie));r.set(l,v),Ot(n)}}else Ne(u,ie),Ot(n);return!0},get(o,l,u){if(l===Ke)return e;var v=r.get(l),c=l in o;if(v===void 0&&(!c||xt(o,l)?.writable)&&(v=s(()=>{var h=st(c?o[l]:ie),b=Le(h);return b}),r.set(l,v)),v!==void 0){var d=f(v);return d===ie?void 0:d}return Reflect.get(o,l,u)},getOwnPropertyDescriptor(o,l){var u=Reflect.getOwnPropertyDescriptor(o,l);if(u&&"value"in u){var v=r.get(l);v&&(u.value=f(v))}else if(u===void 0){var c=r.get(l),d=c?.v;if(c!==void 0&&d!==ie)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return u},has(o,l){if(l===Ke)return!0;var u=r.get(l),v=u!==void 0&&u.v!==ie||Reflect.has(o,l);if(u!==void 0||V!==null&&(!v||xt(o,l)?.writable)){u===void 0&&(u=s(()=>{var d=v?st(o[l]):ie,h=Le(d);return h}),r.set(l,u));var c=f(u);if(c===ie)return!1}return v},set(o,l,u,v){var c=r.get(l),d=l in o;if(a&&l==="length")for(var h=u;h<c.v;h+=1){var b=r.get(h+"");b!==void 0?Ne(b,ie):h in o&&(b=s(()=>Le(ie)),r.set(h+"",b))}if(c===void 0)(!d||xt(o,l)?.writable)&&(c=s(()=>Le(void 0)),Ne(c,st(u)),r.set(l,c));else{d=c.v!==ie;var q=s(()=>st(u));Ne(c,q)}var g=Reflect.getOwnPropertyDescriptor(o,l);if(g?.set&&g.set.call(v,u),!d){if(a&&typeof l=="string"){var y=r.get("length"),w=Number(l);Number.isInteger(w)&&w>=y.v&&Ne(y,w+1)}Ot(n)}return!0},ownKeys(o){f(n);var l=Reflect.ownKeys(o).filter(c=>{var d=r.get(c);return d===void 0||d.v!==ie});for(var[u,v]of r)v.v!==ie&&!(u in o)&&l.push(u);return l},setPrototypeOf(){ua()}})}function Ur(e){try{if(e!==null&&typeof e=="object"&&Ke in e)return e[Ke]}catch{}return e}function ja(e,t){return Object.is(Ur(e),Ur(t))}var zr,En,wn,$n;function Ba(){if(zr===void 0){zr=window,En=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;wn=xt(t,"firstChild").get,$n=xt(t,"nextSibling").get,Vr(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Vr(r)&&(r.__t=void 0)}}function Xe(e=""){return document.createTextNode(e)}function nr(e){return wn.call(e)}function Jt(e){return $n.call(e)}function p(e,t){return nr(e)}function X(e,t=!1){{var r=nr(e);return r instanceof Comment&&r.data===""?Jt(r):r}}function m(e,t=1,r=!1){let a=e;for(;t--;)a=Jt(a);return a}function Ua(e){e.textContent=""}function Sn(){return!1}let Wr=!1;function za(){Wr||(Wr=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function qr(e){var t=T,r=V;he(null),Te(null);try{return e()}finally{he(t),Te(r)}}function Nn(e,t,r,a=r){e.addEventListener(t,()=>qr(r));const n=e.__on_r;n?e.__on_r=()=>{n(),a(!0)}:e.__on_r=()=>a(!0),za()}function Dn(e){V===null&&(T===null&&ia(),aa()),Qe&&na()}function Wa(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function Me(e,t,r){var a=V;a!==null&&(a.f&be)!==0&&(e|=be);var n={ctx:re,deps:null,nodes:null,f:e|de|De,first:null,fn:t,last:null,next:null,parent:a,b:a&&a.b,prev:null,teardown:null,wv:0,ac:null};if(r)try{Ut(n),n.f|=Dr}catch(o){throw pe(n),o}else t!==null&&je(n);var i=n;if(r&&i.deps===null&&i.teardown===null&&i.nodes===null&&i.first===i.last&&(i.f&St)===0&&(i=i.first,(e&Be)!==0&&(e&ct)!==0&&i!==null&&(i.f|=ct)),i!==null&&(i.parent=a,a!==null&&Wa(i,a),T!==null&&(T.f&oe)!==0&&(e&mt)===0)){var s=T;(s.effects??=[]).push(i)}return n}function Lr(){return T!==null&&!Ce}function Pr(e){const t=Me(zt,null,!1);return ne(t,ue),t.teardown=e,t}function Hr(e){Dn();var t=V.f,r=!T&&(t&Ue)!==0&&(t&Dr)===0;if(r){var a=re;(a.e??=[]).push(e)}else return An(e)}function An(e){return Me(tr|sn,e,!1)}function Ha(e){return Dn(),Me(zt|sn,e,!0)}function Ya(e){Pe.ensure();const t=Me(mt|St,e,!0);return(r={})=>new Promise(a=>{r.outro?ot(t,()=>{pe(t),a(void 0)}):(pe(t),a(void 0))})}function Ja(e){return Me(tr,e,!1)}function Ga(e){return Me(Ar|St,e,!0)}function Cn(e,t=0){return Me(zt|t,e,!0)}function K(e,t=[],r=[],a=[]){Ia(a,t,r,n=>{Me(zt,()=>e(...n.map(f)),!0)})}function cr(e,t=0){var r=Me(Be|t,e,!0);return r}function Se(e){return Me(Ue|St,e,!0)}function kn(e){var t=e.teardown;if(t!==null){const r=Qe,a=T;Jr(!0),he(null);try{t.call(null)}finally{Jr(r),he(a)}}}function qn(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){const n=r.ac;n!==null&&qr(()=>{n.abort(yt)});var a=r.next;(r.f&mt)!==0?r.parent=null:pe(r,t),r=a}}function Ka(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&Ue)===0&&pe(t),t=r}}function pe(e,t=!0){var r=!1;(t||(e.f&an)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(Za(e.nodes.start,e.nodes.end),r=!0),qn(e,t&&!r),ir(e,0),ne(e,Fe);var a=e.nodes&&e.nodes.t;if(a!==null)for(const i of a)i.stop();kn(e);var n=e.parent;n!==null&&n.first!==null&&Ln(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function Za(e,t){for(;e!==null;){var r=e===t?null:Jt(e);e.remove(),e=r}}function Ln(e){var t=e.parent,r=e.prev,a=e.next;r!==null&&(r.next=a),a!==null&&(a.prev=r),t!==null&&(t.first===e&&(t.first=a),t.last===e&&(t.last=r))}function ot(e,t,r=!0){var a=[];Pn(e,a,!0);var n=()=>{r&&pe(e),t&&t()},i=a.length;if(i>0){var s=()=>--i||n();for(var o of a)o.out(s)}else n()}function Pn(e,t,r){if((e.f&be)===0){e.f^=be;var a=e.nodes&&e.nodes.t;if(a!==null)for(const o of a)(o.is_global||r)&&t.push(o);for(var n=e.first;n!==null;){var i=n.next,s=(n.f&ct)!==0||(n.f&Ue)!==0&&(e.f&Be)!==0;Pn(n,t,s?r:!1),n=i}}}function Tr(e){Tn(e,!0)}function Tn(e,t){if((e.f&be)!==0){e.f^=be,(e.f&ue)===0&&(ne(e,de),je(e));for(var r=e.first;r!==null;){var a=r.next,n=(r.f&ct)!==0||(r.f&Ue)!==0;Tn(r,n?t:!1),r=a}var i=e.nodes&&e.nodes.t;if(i!==null)for(const s of i)(s.is_global||t)&&s.in()}}function Mn(e,t){if(e.nodes)for(var r=e.nodes.start,a=e.nodes.end;r!==null;){var n=r===a?null:Jt(r);t.append(r),r=n}}let _t=null;function Xa(e){var t=_t;try{if(_t=new Set,ht(e),t!==null)for(var r of _t)t.add(r);return _t}finally{_t=t}}function Yr(e){for(var t of Xa(e))vt(t,t.v)}let lt=!1;function ar(e){lt=e}let Qe=!1;function Jr(e){Qe=e}let T=null,Ce=!1;function he(e){T=e}let V=null;function Te(e){V=e}let Ve=null;function In(e){T!==null&&(Ve===null?Ve=[e]:Ve.push(e))}let fe=null,ge=0,we=null;function Qa(e){we=e}let Rn=1,Bt=0,ut=Bt;function Gr(e){ut=e}function On(){return++Rn}function Gt(e){var t=e.f;if((t&de)!==0)return!0;if(t&oe&&(e.f&=~ft),(t&ze)!==0){for(var r=e.deps,a=r.length,n=0;n<a;n++){var i=r[n];if(Gt(i)&&bn(i),i.wv>e.wv)return!0}(t&De)!==0&&Ae===null&&ne(e,ue)}return!1}function Fn(e,t,r=!0){var a=e.reactions;if(a!==null&&!Ve?.includes(e))for(var n=0;n<a.length;n++){var i=a[n];(i.f&oe)!==0?Fn(i,t,!1):t===i&&(r?ne(i,de):(i.f&ue)!==0&&ne(i,ze),je(i))}}function Vn(e){var t=fe,r=ge,a=we,n=T,i=Ve,s=re,o=Ce,l=ut,u=e.f;fe=null,ge=0,we=null,T=(u&(Ue|mt))===0?e:null,Ve=null,wt(e.ctx),Ce=!1,ut=++Bt,e.ac!==null&&(qr(()=>{e.ac.abort(yt)}),e.ac=null);try{e.f|=mr;var v=e.fn,c=v(),d=e.deps;if(fe!==null){var h;if(ir(e,ge),d!==null&&ge>0)for(d.length=ge+fe.length,h=0;h<fe.length;h++)d[ge+h]=fe[h];else e.deps=d=fe;if(Lr()&&(e.f&De)!==0)for(h=ge;h<d.length;h++)(d[h].reactions??=[]).push(e)}else d!==null&&ge<d.length&&(ir(e,ge),d.length=ge);if(Ht()&&we!==null&&!Ce&&d!==null&&(e.f&(oe|ze|de))===0)for(h=0;h<we.length;h++)Fn(we[h],e);return n!==null&&n!==e&&(Bt++,we!==null&&(a===null?a=we:a.push(...we))),(e.f&Ge)!==0&&(e.f^=Ge),c}catch(b){return dn(b)}finally{e.f^=mr,fe=t,ge=r,we=a,T=n,Ve=i,wt(s),Ce=o,ut=l}}function ei(e,t){let r=t.reactions;if(r!==null){var a=Kn.call(r,e);if(a!==-1){var n=r.length-1;n===0?r=t.reactions=null:(r[a]=r[n],r.pop())}}if(r===null&&(t.f&oe)!==0&&(fe===null||!fe.includes(t))){var i=t;(i.f&De)!==0&&(i.f^=De,i.f&=~ft),Cr(i),_n(i),ir(i,0)}}function ir(e,t){var r=e.deps;if(r!==null)for(var a=t;a<r.length;a++)ei(e,r[a])}function Ut(e){var t=e.f;if((t&Fe)===0){ne(e,ue);var r=V,a=lt;V=e,lt=!0;try{(t&(Be|nn))!==0?Ka(e):qn(e),kn(e);var n=Vn(e);e.teardown=typeof n=="function"?n:null,e.wv=Rn;var i;vr&&Na&&(e.f&de)!==0&&e.deps}finally{lt=a,V=r}}}async function ti(){await Promise.resolve(),ka()}function f(e){var t=e.f,r=(t&oe)!==0;if(_t?.add(e),T!==null&&!Ce){var a=V!==null&&(V.f&Fe)!==0;if(!a&&!Ve?.includes(e)){var n=T.deps;if((T.f&mr)!==0)e.rv<Bt&&(e.rv=Bt,fe===null&&n!==null&&n[ge]===e?ge++:fe===null?fe=[e]:fe.includes(e)||fe.push(e));else{(T.deps??=[]).push(e);var i=e.reactions;i===null?e.reactions=[T]:i.includes(T)||i.push(T)}}}if(Qe&&Ze.has(e))return Ze.get(e);if(r){var s=e;if(Qe){var o=s.v;return((s.f&ue)===0&&s.reactions!==null||Bn(s))&&(o=kr(s)),Ze.set(s,o),o}var l=(s.f&De)===0&&!Ce&&T!==null&&(lt||(T.f&De)!==0),u=s.deps===null;Gt(s)&&(l&&(s.f|=De),bn(s)),l&&!u&&jn(s)}if(Ae?.has(e))return Ae.get(e);if((e.f&Ge)!==0)throw e.v;return e.v}function jn(e){if(e.deps!==null){e.f|=De;for(const t of e.deps)(t.reactions??=[]).push(e),(t.f&oe)!==0&&(t.f&De)===0&&jn(t)}}function Bn(e){if(e.v===ie)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Ze.has(t)||(t.f&oe)!==0&&Bn(t))return!0;return!1}function ht(e){var t=Ce;try{return Ce=!0,e()}finally{Ce=t}}function ri(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Ke in e)_r(e);else if(!Array.isArray(e))for(let t in e){const r=e[t];typeof r=="object"&&r&&Ke in r&&_r(r)}}}function _r(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let a in e)try{_r(e[a],t)}catch{}const r=Sr(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const a=tn(r);for(let n in a){const i=a[n].get;if(i)try{i.call(e)}catch{}}}}}const ni=["touchstart","touchmove"];function ai(e){return ni.includes(e)}const Un=new Set,br=new Set;function Nt(e){for(var t=0;t<e.length;t++)Un.add(e[t]);for(var r of br)r(e)}let Kr=null;function Xt(e){var t=this,r=t.ownerDocument,a=e.type,n=e.composedPath?.()||[],i=n[0]||e.target;Kr=e;var s=0,o=Kr===e&&e.__root;if(o){var l=n.indexOf(o);if(l!==-1&&(t===document||t===window)){e.__root=t;return}var u=n.indexOf(t);if(u===-1)return;l<=u&&(s=l)}if(i=n[s]||e.target,i!==t){en(e,"currentTarget",{configurable:!0,get(){return i||r}});var v=T,c=V;he(null),Te(null);try{for(var d,h=[];i!==null;){var b=i.assignedSlot||i.parentNode||i.host||null;try{var q=i["__"+a];q!=null&&(!i.disabled||e.target===i)&&q.call(i,e)}catch(g){d?h.push(g):d=g}if(e.cancelBubble||b===t||b===null)break;i=b}if(d){for(let g of h)queueMicrotask(()=>{throw g});throw d}}finally{e.__root=t,delete e.currentTarget,he(v),Te(c)}}}function ii(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function yr(e,t){var r=V;r.nodes===null&&(r.nodes={start:e,end:t,a:null,t:null})}function P(e,t){var r=(t&xa)!==0,a=(t&Ea)!==0,n,i=!e.startsWith("<!>");return()=>{n===void 0&&(n=ii(i?e:"<!>"+e),r||(n=nr(n)));var s=a||En?document.importNode(n,!0):n.cloneNode(!0);if(r){var o=nr(s),l=s.lastChild;yr(o,l)}else yr(s,s);return s}}function nt(){var e=document.createDocumentFragment(),t=document.createComment(""),r=Xe();return e.append(t,r),yr(t,r),e}function A(e,t){e!==null&&e.before(t)}function W(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??=e.nodeValue)&&(e.__t=r,e.nodeValue=r+"")}function si(e,t){return oi(e,t)}const pt=new Map;function oi(e,{target:t,anchor:r,props:a={},events:n,context:i,intro:s=!0}){Ba();var o=new Set,l=c=>{for(var d=0;d<c.length;d++){var h=c[d];if(!o.has(h)){o.add(h);var b=ai(h);t.addEventListener(h,Xt,{passive:b});var q=pt.get(h);q===void 0?(document.addEventListener(h,Xt,{passive:b}),pt.set(h,1)):pt.set(h,q+1)}}};l(or(Un)),br.add(l);var u=void 0,v=Ya(()=>{var c=r??t.appendChild(Xe());return Ta(c,{pending:()=>{}},d=>{if(i){We({});var h=re;h.c=i}n&&(a.$$events=n),u=e(d,a)||{},i&&He()}),()=>{for(var d of o){t.removeEventListener(d,Xt);var h=pt.get(d);--h===0?(document.removeEventListener(d,Xt),pt.delete(d)):pt.set(d,h)}br.delete(l),c!==r&&c.parentNode?.removeChild(c)}});return li.set(u,v),u}let li=new WeakMap;class zn{anchor;#t=new Map;#s=new Map;#e=new Map;#a=new Set;#i=!0;constructor(t,r=!0){this.anchor=t,this.#i=r}#n=()=>{var t=F;if(this.#t.has(t)){var r=this.#t.get(t),a=this.#s.get(r);if(a)Tr(a),this.#a.delete(r);else{var n=this.#e.get(r);n&&(this.#s.set(r,n.effect),this.#e.delete(r),n.fragment.lastChild.remove(),this.anchor.before(n.fragment),a=n.effect)}for(const[i,s]of this.#t){if(this.#t.delete(i),i===t)break;const o=this.#e.get(s);o&&(pe(o.effect),this.#e.delete(s))}for(const[i,s]of this.#s){if(i===r||this.#a.has(i))continue;const o=()=>{if(Array.from(this.#t.values()).includes(i)){var u=document.createDocumentFragment();Mn(s,u),u.append(Xe()),this.#e.set(i,{effect:s,fragment:u})}else pe(s);this.#a.delete(i),this.#s.delete(i)};this.#i||!a?(this.#a.add(i),ot(s,o,!1)):o()}}};#r=t=>{this.#t.delete(t);const r=Array.from(this.#t.values());for(const[a,n]of this.#e)r.includes(a)||(pe(n.effect),this.#e.delete(a))};ensure(t,r){var a=F,n=Sn();if(r&&!this.#s.has(t)&&!this.#e.has(t))if(n){var i=document.createDocumentFragment(),s=Xe();i.append(s),this.#e.set(t,{effect:Se(()=>r(s)),fragment:i})}else this.#s.set(t,Se(()=>r(this.anchor)));if(this.#t.set(a,t),n){for(const[o,l]of this.#s)o===t?a.skipped_effects.delete(l):a.skipped_effects.add(l);for(const[o,l]of this.#e)o===t?a.skipped_effects.delete(l.effect):a.skipped_effects.add(l.effect);a.oncommit(this.#n),a.ondiscard(this.#r)}else this.#n()}}function se(e,t,r=!1){var a=new zn(e),n=r?ct:0;function i(s,o){a.ensure(s,o)}cr(()=>{var s=!1;t((o,l=!0)=>{s=!0,i(l,o)}),s||i(!1,null)},n)}function Mr(e,t){return t}function ui(e,t,r){for(var a=[],n=t.length,i,s=t.length,o=0;o<n;o++){let c=t[o];ot(c,()=>{if(i){if(i.pending.delete(c),i.done.add(c),i.pending.size===0){var d=e.outrogroups;xr(or(i.done)),d.delete(i),d.size===0&&(e.outrogroups=null)}}else s-=1},!1)}if(s===0){var l=a.length===0&&r!==null;if(l){var u=r,v=u.parentNode;Ua(v),v.append(u),e.items.clear()}xr(t,!l)}else i={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(i)}function xr(e,t=!0){for(var r=0;r<e.length;r++)pe(e[r],t)}var Zr;function Ir(e,t,r,a,n,i=null){var s=e,o=new Map,l=(t&on)!==0;if(l){var u=e;s=u.appendChild(Xe())}var v=null,c=I(()=>{var y=r();return $r(y)?y:y==null?[]:or(y)}),d,h=!0;function b(){g.fallback=v,ci(g,d,s,t,a),v!==null&&(d.length===0?(v.f&Oe)===0?Tr(v):(v.f^=Oe,Tt(v,null,s)):ot(v,()=>{v=null}))}var q=cr(()=>{d=f(c);for(var y=d.length,w=new Set,C=F,$=Sn(),S=0;S<y;S+=1){var N=d[S],_=a(N,S),E=h?null:o.get(_);E?(E.v&&vt(E.v,N),E.i&&vt(E.i,S),$&&C.skipped_effects.delete(E.e)):(E=fi(o,h?s:Zr??=Xe(),N,_,S,n,t,r),h||(E.e.f|=Oe),o.set(_,E)),w.add(_)}if(y===0&&i&&!v&&(h?v=Se(()=>i(s)):(v=Se(()=>i(Zr??=Xe())),v.f|=Oe)),!h)if($){for(const[k,D]of o)w.has(k)||C.skipped_effects.add(D.e);C.oncommit(b),C.ondiscard(()=>{})}else b();f(c)}),g={effect:q,items:o,outrogroups:null,fallback:v};h=!1}function ci(e,t,r,a,n){var i=(a&ma)!==0,s=t.length,o=e.items,l=e.effect.first,u,v=null,c,d=[],h=[],b,q,g,y;if(i)for(y=0;y<s;y+=1)b=t[y],q=n(b,y),g=o.get(q).e,(g.f&Oe)===0&&(g.nodes?.a?.measure(),(c??=new Set).add(g));for(y=0;y<s;y+=1){if(b=t[y],q=n(b,y),g=o.get(q).e,e.outrogroups!==null)for(const D of e.outrogroups)D.pending.delete(g),D.done.delete(g);if((g.f&Oe)!==0)if(g.f^=Oe,g===l)Tt(g,null,r);else{var w=v?v.next:l;g===e.effect.last&&(e.effect.last=g.prev),g.prev&&(g.prev.next=g.next),g.next&&(g.next.prev=g.prev),Ye(e,v,g),Ye(e,g,w),Tt(g,w,r),v=g,d=[],h=[],l=v.next;continue}if((g.f&be)!==0&&(Tr(g),i&&(g.nodes?.a?.unfix(),(c??=new Set).delete(g))),g!==l){if(u!==void 0&&u.has(g)){if(d.length<h.length){var C=h[0],$;v=C.prev;var S=d[0],N=d[d.length-1];for($=0;$<d.length;$+=1)Tt(d[$],C,r);for($=0;$<h.length;$+=1)u.delete(h[$]);Ye(e,S.prev,N.next),Ye(e,v,S),Ye(e,N,C),l=C,v=N,y-=1,d=[],h=[]}else u.delete(g),Tt(g,l,r),Ye(e,g.prev,g.next),Ye(e,g,v===null?e.effect.first:v.next),Ye(e,v,g),v=g;continue}for(d=[],h=[];l!==null&&l!==g;)(u??=new Set).add(l),h.push(l),l=l.next;if(l===null)continue}(g.f&Oe)===0&&d.push(g),v=g,l=g.next}if(e.outrogroups!==null){for(const D of e.outrogroups)D.pending.size===0&&(xr(or(D.done)),e.outrogroups?.delete(D));e.outrogroups.size===0&&(e.outrogroups=null)}if(l!==null||u!==void 0){var _=[];if(u!==void 0)for(g of u)(g.f&be)===0&&_.push(g);for(;l!==null;)(l.f&be)===0&&l!==e.fallback&&_.push(l),l=l.next;var E=_.length;if(E>0){var k=(a&on)!==0&&s===0?r:null;if(i){for(y=0;y<E;y+=1)_[y].nodes?.a?.measure();for(y=0;y<E;y+=1)_[y].nodes?.a?.fix()}ui(e,_,k)}}i&&lr(()=>{if(c!==void 0)for(g of c)g.nodes?.a?.apply()})}function fi(e,t,r,a,n,i,s,o){var l=(s&da)!==0?(s&ha)===0?et(r,!1,!1):dt(r):null,u=(s&va)!==0?dt(n):null;return{v:l,i:u,e:Se(()=>(i(t,l??r,u??n,o),()=>{e.delete(a)}))}}function Tt(e,t,r){if(e.nodes)for(var a=e.nodes.start,n=e.nodes.end,i=t&&(t.f&Oe)===0?t.nodes.start:r;a!==null;){var s=Jt(a);if(i.before(a),a===n)return;a=s}}function Ye(e,t,r){t===null?e.effect.first=r:t.next=r,r===null?e.effect.last=t:r.prev=t}function Et(e,t,...r){var a=new zn(e);cr(()=>{const n=t()??null;a.ensure(n,n&&(i=>n(i,...r)))},ct)}function di(e,t,r){var a=e==null?"":""+e;return a===""?null:a}function ke(e,t,r,a,n,i){var s=e.__className;if(s!==r||s===void 0){var o=di(r);o==null?e.removeAttribute("class"):t?e.className=o:e.setAttribute("class",o),e.__className=r}return i}function Wn(e,t,r=!1){if(e.multiple){if(t==null)return;if(!$r(t))return $a();for(var a of e.options)a.selected=t.includes(Ft(a));return}for(a of e.options){var n=Ft(a);if(ja(n,t)){a.selected=!0;return}}(!r||t!==void 0)&&(e.selectedIndex=-1)}function vi(e){var t=new MutationObserver(()=>{Wn(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Pr(()=>{t.disconnect()})}function mi(e,t,r=t){var a=new WeakSet,n=!0;Nn(e,"change",i=>{var s=i?"[selected]":":checked",o;if(e.multiple)o=[].map.call(e.querySelectorAll(s),Ft);else{var l=e.querySelector(s)??e.querySelector("option:not([disabled])");o=l&&Ft(l)}r(o),F!==null&&a.add(F)}),Ja(()=>{var i=t();if(e===document.activeElement){var s=It??F;if(a.has(s))return}if(Wn(e,i,n),n&&i===void 0){var o=e.querySelector(":checked");o!==null&&(i=Ft(o),r(i))}e.__value=i,n=!1}),vi(e)}function Ft(e){return"__value"in e?e.__value:e.value}const hi=Symbol("is custom element"),pi=Symbol("is html");function le(e,t,r,a){var n=gi(e);n[t]!==(n[t]=r)&&(t==="loading"&&(e[ta]=r),r==null?e.removeAttribute(t):typeof r!="string"&&_i(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function gi(e){return e.__attributes??={[hi]:e.nodeName.includes("-"),[pi]:e.namespaceURI===wa}}var Xr=new Map;function _i(e){var t=e.getAttribute("is")||e.nodeName,r=Xr.get(t);if(r)return r;Xr.set(t,r=[]);for(var a,n=e,i=Element.prototype;i!==n;){a=tn(n);for(var s in a)a[s].set&&r.push(s);n=Sr(n)}return r}function sr(e,t,r=t){var a=new WeakSet;Nn(e,"input",async n=>{var i=n?e.defaultValue:e.value;if(i=fr(e)?dr(i):i,r(i),F!==null&&a.add(F),await ti(),i!==(i=t())){var s=e.selectionStart,o=e.selectionEnd,l=e.value.length;if(e.value=i??"",o!==null){var u=e.value.length;s===o&&o===l&&u>l?(e.selectionStart=u,e.selectionEnd=u):(e.selectionStart=s,e.selectionEnd=Math.min(o,u))}}}),ht(t)==null&&e.value&&(r(fr(e)?dr(e.value):e.value),F!==null&&a.add(F)),Cn(()=>{var n=t();if(e===document.activeElement){var i=It??F;if(a.has(i))return}fr(e)&&n===dr(e.value)||e.type==="date"&&!n&&!e.value||n!==e.value&&(e.value=n??"")})}function fr(e){var t=e.type;return t==="number"||t==="range"}function dr(e){return e===""?null:+e}function Dt(e=!1){const t=re,r=t.l.u;if(!r)return;let a=()=>ri(t.s);if(e){let n=0,i={};const s=Yt(()=>{let o=!1;const l=t.s;for(const u in l)l[u]!==i[u]&&(i[u]=l[u],o=!0);return o&&n++,n});a=()=>f(s)}r.b.length&&Ha(()=>{Qr(t,a),er(r.b)}),Hr(()=>{const n=ht(()=>r.m.map(Qn));return()=>{for(const i of n)typeof i=="function"&&i()}}),r.a.length&&Hr(()=>{Qr(t,a),er(r.a)})}function Qr(e,t){if(e.l.s)for(const r of e.l.s)f(r);t()}function Rr(e,t,r){if(e==null)return t(void 0),r&&r(void 0),Je;const a=ht(()=>e.subscribe(t,r));return a.unsubscribe?()=>a.unsubscribe():a}const gt=[];function bi(e,t){return{subscribe:bt(e,t).subscribe}}function bt(e,t=Je){let r=null;const a=new Set;function n(o){if(un(e,o)&&(e=o,r)){const l=!gt.length;for(const u of a)u[1](),gt.push(u,e);if(l){for(let u=0;u<gt.length;u+=2)gt[u][0](gt[u+1]);gt.length=0}}}function i(o){n(o(e))}function s(o,l=Je){const u=[o,l];return a.add(u),a.size===1&&(r=t(n,i)||Je),o(e),()=>{a.delete(u),a.size===0&&r&&(r(),r=null)}}return{set:n,update:i,subscribe:s}}function yi(e,t,r){const a=!Array.isArray(e),n=a?[e]:e;if(!n.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const i=t.length<2;return bi(r,(s,o)=>{let l=!1;const u=[];let v=0,c=Je;const d=()=>{if(v)return;c();const b=t(a?u[0]:u,s,o);i?s(b):c=typeof b=="function"?b:Je},h=n.map((b,q)=>Rr(b,g=>{u[q]=g,v&=~(1<<q),l&&d()},()=>{v|=1<<q}));return l=!0,d(),function(){er(h),c(),l=!1}})}function Mt(e){let t;return Rr(e,r=>t=r)(),t}let Qt=!1,Er=Symbol();function ee(e,t,r){const a=r[t]??={store:null,source:et(void 0),unsubscribe:Je};if(a.store!==e&&!(Er in r))if(a.unsubscribe(),a.store=e??null,e==null)a.source.v=void 0,a.unsubscribe=Je;else{var n=!0;a.unsubscribe=Rr(e,i=>{n?a.source.v=i:Ne(a.source,i)}),n=!1}return e&&Er in r?Mt(e):f(a.source)}function At(){const e={};function t(){Pr(()=>{for(var r in e)e[r].unsubscribe();en(e,Er,{enumerable:!1,value:!0})})}return[e,t]}function xi(e){var t=Qt;try{return Qt=!1,[e(),Qt]}finally{Qt=t}}function _e(e,t,r,a){var n=!Wt||(r&ga)!==0,i=(r&ba)!==0,s=(r&ya)!==0,o=a,l=!0,u=()=>(l&&(l=!1,o=s?ht(a):a),o),v;if(i){var c=Ke in e||ea in e;v=xt(e,t)?.set??(c&&t in e?C=>e[t]=C:void 0)}var d,h=!1;i?[d,h]=xi(()=>e[t]):d=e[t],d===void 0&&a!==void 0&&(d=u(),v&&(n&&oa(),v(d)));var b;if(n?b=()=>{var C=e[t];return C===void 0?u():(l=!0,C)}:b=()=>{var C=e[t];return C!==void 0&&(o=void 0),C===void 0?o:C},n&&(r&_a)===0)return b;if(v){var q=e.$$legacy;return(function(C,$){return arguments.length>0?((!n||!$||q||h)&&v($?b():C),C):b()})}var g=!1,y=((r&pa)!==0?Yt:I)(()=>(g=!1,b()));i&&f(y);var w=V;return(function(C,$){if(arguments.length>0){const S=$?f(y):n&&i?st(C):C;return Ne(y,S),g=!0,o!==void 0&&(o=S),C}return Qe&&g||(w.f&Fe)!==0?y.v:f(y)})}const Ei="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Ei);Da();const wi=e=>typeof e=="object"&&e!==null&&!(e instanceof Date)&&!(e instanceof Map)&&!(e instanceof Set)&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof RegExp)&&!(e instanceof Error)&&!(e instanceof Promise),$i=(e,t)=>{const r=(n,i)=>new Proxy(n,{get(s,o,l){const u=Reflect.get(s,o,l);if(wi(u)){const v=Number.isInteger(Number(o))?"":String(o),c=v?i?`${i}.${v}`:v:i;return r(u,c)}return u},set(s,o,l,u){const v=Reflect.get(s,o,u);if(v!==l){Reflect.set(s,o,l,u);const c=Number.isInteger(Number(o))?"":String(o),d=c?i?`${i}.${c}`:c:i;t(a,d,l,v)}return!0}}),a=r(e,"");return a},Hn=e=>Object.values(e).some(t=>typeof t=="string"?!!t:Hn(t)),Si=e=>!!e&&Hn(e),at=e=>{if(e===null||typeof e!="object")return e;if(e instanceof Date)return new Date(e);if(Array.isArray(e))return e.map(r=>at(r));const t={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=at(e[r]));return t},Ni={resetDirtyOnAction:!0,debounceValidation:0,allowConcurrentActions:!1,persistActionError:!1};function Ct(e,t,r){const a={...Ni,...r},{validator:n,effect:i}=t??{},s=bt(),o=yi(s,Si),l=bt(!1),u=bt(!1),v=bt(),c=bt([{title:"Initial",data:at(e)}]),d=st(e),h=(N,_=!0)=>{const E=Mt(c),k={title:N,data:at(d)},D=E.at(-1);_&&D&&D.title===N?c.set([...E.slice(0,-1),k]):c.set([...E,k])};let b=!1,q;const g=()=>{if(n)if(a.debounceValidation>0)clearTimeout(q),q=setTimeout(()=>{s.set(n(y))},a.debounceValidation);else{if(b)return;b=!0,queueMicrotask(()=>{s.set(n(y)),b=!1})}},y=$i(d,(N,_,E,k)=>{if(a.persistActionError||v.set(void 0),l.set(!0),i?.({snapshot:h,target:N,property:_,currentValue:E,oldValue:k})instanceof Promise)throw new Error("svstate: effect callback must be synchronous. Use action for async operations.");g()});return n&&s.set(n(y)),{data:y,execute:async N=>{if(!(!a.allowConcurrentActions&&Mt(u))){v.set(void 0),u.set(!0);try{await t?.action?.(N),a.resetDirtyOnAction&&l.set(!1),c.set([{title:"Initial",data:at(d)}]),await t?.actionCompleted?.()}catch(_){await t?.actionCompleted?.(_),v.set(_ instanceof Error?_:void 0)}finally{u.set(!1)}}},state:{errors:s,hasErrors:o,isDirty:l,actionInProgress:u,actionError:v,snapshots:c},rollback:(N=1)=>{const _=Mt(c);if(_.length<=1)return;const E=Math.max(0,_.length-1-N),k=_[E];k&&(Object.assign(d,at(k.data)),c.set(_.slice(0,E+1)),n&&s.set(n(y)))},reset:()=>{const _=Mt(c)[0];_&&(Object.assign(d,at(_.data)),c.set([_]),n&&s.set(n(y)))}}}const Di={trim:e=>e.trim(),normalize:e=>e.replaceAll(/\s{2,}/g," "),upper:e=>e.toLocaleUpperCase(),lower:e=>e.toLocaleLowerCase()};function z(e,...t){let r="";const a=s=>{r||(r=s)},n=t.reduce((s,o)=>Di[o](s),e),i={required(){return!r&&!n&&a("Required"),i},noSpace(){return!r&&n.includes(" ")&&a("No space allowed"),i},minLength(s){return!r&&n.length<s&&a(`Min length ${s}`),i},maxLength(s){return!r&&n.length>s&&a(`Max length ${s}`),i},uppercase(){return!r&&n!==n.toLocaleUpperCase()&&a("Uppercase only"),i},lowercase(){return!r&&n!==n.toLocaleLowerCase()&&a("Lowercase only"),i},startsWith(s){if(r)return i;const o=Array.isArray(s)?s:[s];return n&&!o.some(l=>n.startsWith(l))&&a(`Must start with ${o.join(", ")}`),i},regexp(s,o){return!r&&n&&!s.test(n)&&a(o??"Not allowed chars"),i},inArray(s){if(r)return i;const o=Array.isArray(s)?s:Object.keys(s);return n&&!o.includes(n)&&a(`Must be one of: ${o.join(", ")}`),i},email(){return!r&&n&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)&&a("Invalid email format"),i},website(s="optional"){if(r||!n||s==="optional")return i;const o=/^https?:\/\//.test(n);return s==="required"&&!o?a("Must start with http:// or https://"):s==="forbidden"&&o&&a("Must not start with http:// or https://"),i},endsWith(s){if(r||!n)return i;const o=Array.isArray(s)?s:[s];return o.some(l=>n.endsWith(l))||a(`Must end with ${o.join(", ")}`),i},contains(s){return!r&&n&&!n.includes(s)&&a(`Must contain "${s}"`),i},alphanumeric(){return!r&&n&&!/^[\dA-Za-z]+$/.test(n)&&a("Only letters and numbers allowed"),i},numeric(){return!r&&n&&!/^\d+$/.test(n)&&a("Only numbers allowed"),i},getError(){return r}};return i}function wr(e){let t="";const r=n=>{t||(t=n)},a={required(){return!t&&Number.isNaN(e)&&r("Required"),a},min(n){return!t&&e<n&&r(`Minimum ${n}`),a},max(n){return!t&&e>n&&r(`Maximum ${n}`),a},between(n,i){return!t&&(e<n||e>i)&&r(`Must be between ${n} and ${i}`),a},integer(){return!t&&!Number.isInteger(e)&&r("Must be an integer"),a},positive(){return!t&&e<=0&&r("Must be positive"),a},negative(){return!t&&e>=0&&r("Must be negative"),a},nonNegative(){return!t&&e<0&&r("Must be non-negative"),a},multipleOf(n){return!t&&e%n!==0&&r(`Must be a multiple of ${n}`),a},decimal(n){return t||Number.isNaN(e)||(String(e).split(".")[1]?.length??0)>n&&r(`Maximum ${n} decimal places`),a},percentage(){return!t&&(e<0||e>100)&&r("Must be between 0 and 100"),a},getError(){return t}};return a}function Ai(e){let t="";const r=n=>{t||(t=n)},a={required(){return!t&&e.length===0&&r("Required"),a},minLength(n){return!t&&e.length<n&&r(`Minimum ${n} items`),a},maxLength(n){return!t&&e.length>n&&r(`Maximum ${n} items`),a},unique(){if(t)return a;const n=new Set;for(const i of e){const s=typeof i=="object"?JSON.stringify(i):String(i);if(n.has(s)){r("Items must be unique");break}n.add(s)}return a},getError(){return t}};return a}var Ci=P('<div class="rounded-lg border border-gray-200 bg-gray-50 p-4"><div class="mb-3 flex items-center justify-between"><span class="text-xs font-medium text-gray-500"> </span> <button class="cursor-pointer rounded px-2 py-1 text-xs text-red-600 hover:bg-red-50 hover:text-red-700" type="button">Remove</button></div> <!></div>');function ki(e,t){let r=_e(t,"label",3,"Item");var a=Ci(),n=p(a),i=p(n),s=p(i),o=m(i,2);o.__click=function(...u){t.onRemove?.apply(this,u)};var l=m(n,2);Et(l,()=>t.children),K(()=>W(s,`${r()??""} #${t.index+1}`)),A(e,a)}Nt(["click"]);var qi=P('<h6 class="mb-2 text-sm font-medium text-gray-700"> </h6>'),Li=P('<div><!> <pre class="overflow-auto rounded-lg bg-gray-900 p-4 text-xs text-gray-100"> </pre></div>');function ye(e,t){var r=Li(),a=p(r);{var n=o=>{var l=qi(),u=p(l);K(()=>W(u,t.title)),A(o,l)};se(a,o=>{t.title&&o(n)})}var i=m(a,2),s=p(i);K(()=>W(s,t.code)),A(e,r)}var Pi=P('<div><div class="rounded-lg border border-gray-300 bg-gray-50 p-4 shadow-inner"><h6 class="mb-2 text-sm font-medium text-gray-700">State Object</h6> <pre class="overflow-auto text-xs text-gray-600"> </pre></div> <div class="rounded-lg border border-gray-300 bg-gray-50 p-4 shadow-inner"><h6 class="mb-2 text-sm font-medium text-gray-700">State Info</h6> <div class="space-y-1 text-xs text-gray-600"><div><span class="font-medium">isDirty:</span> </div> <div><span class="font-medium">hasErrors:</span> </div></div></div> <div class="rounded-lg border border-gray-300 bg-gray-50 p-4 shadow-inner"><h6 class="mb-2 text-sm font-medium text-gray-700">Errors</h6> <pre class="overflow-auto text-xs text-gray-600"> </pre></div> <button class="w-full cursor-pointer rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500" type="button">Fill with Valid Data</button></div>');function kt(e,t){let r=_e(t,"width",3,"w-80");var a=Pi(),n=p(a),i=m(p(n),2),s=p(i),o=m(n,2),l=m(p(o),2),u=p(l),v=m(p(u)),c=m(u,2),d=m(p(c)),h=m(o,2),b=m(p(h),2),q=p(b),g=m(h,2);g.__click=function(...y){t.onFill?.apply(this,y)},K((y,w)=>{ke(a,1,`${r()??""} flex-shrink-0 space-y-4`),W(s,y),W(v,` ${t.isDirty??""}`),W(d,` ${t.hasErrors??""}`),W(q,w)},[()=>JSON.stringify(t.data,void 0,2),()=>JSON.stringify(t.errors,void 0,2)]),A(e,a)}Nt(["click"]);var Ti=P('<div class="rounded-lg border-2 border-dashed border-gray-300 p-6 text-center"><p class="text-sm text-gray-500"> </p></div>');function Mi(e,t){var r=Ti(),a=p(r),n=p(a);K(()=>W(n,t.message)),A(e,r)}var Ii=P('<p class="mt-1 text-sm text-red-600"> </p>');function Vt(e,t){var r=nt(),a=X(r);{var n=i=>{var s=Ii(),o=p(s);K(()=>W(o,t.error)),A(i,s)};se(a,i=>{t.error&&i(n)})}A(e,r)}var Ri=P("<div><label> </label> <input/> <!></div>");function J(e,t){We(t,!0);let r=_e(t,"type",3,"text"),a=_e(t,"placeholder",3,""),n=_e(t,"value",15),i=_e(t,"error",3,""),s=_e(t,"required",3,!0),o=_e(t,"variant",3,"default");const l=pr(()=>o()==="nested"?"bg-white":"bg-gray-50");var u=Ri(),v=p(u),c=p(v),d=m(v,2),h=m(d,2);{let b=pr(()=>i()??"");Vt(h,{get error(){return f(b)}})}K(()=>{ke(v,1,`mb-2 block text-sm text-gray-900 ${s()?"font-bold":""}`),le(v,"for",t.id),W(c,t.label),le(d,"id",t.id),ke(d,1,`block w-full rounded-lg border p-2.5 text-sm ${i()?"border-red-500 bg-red-50 text-red-900 placeholder-red-400 focus:border-red-500 focus:ring-red-500":`border-gray-300 ${f(l)} text-gray-900 focus:border-blue-500 focus:ring-blue-500`}`),le(d,"max",t.max),le(d,"min",t.min),le(d,"placeholder",a()),le(d,"step",t.step),le(d,"type",r())}),sr(d,n),A(e,u),He()}var Oi=P('<div class="flex gap-6"><div class="max-w-xl flex-1 rounded-lg border border-gray-200 bg-white p-6 shadow-sm"><h5 class="mb-4 text-xl font-medium text-gray-900"> </h5> <!></div> <!></div> <!>',1);function qt(e,t){var r=Oi(),a=X(r),n=p(a),i=p(n),s=p(i),o=m(i,2);Et(o,()=>t.main);var l=m(n,2);Et(l,()=>t.sidebar);var u=m(a,2);{var v=c=>{var d=nt(),h=X(d);Et(h,()=>t.sourceCode),A(c,d)};se(u,c=>{t.sourceCode&&c(v)})}K(()=>W(s,t.title)),A(e,r)}var Fi=P('<div class="space-y-4 p-4"><!></div>'),Vi=P('<div class="mt-6 rounded-lg border border-gray-200 bg-white shadow-sm"><button type="button"><span>Source Code</span> <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M19 9l-7 7-7-7" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg></button> <!></div>');function Lt(e,t){let r=Le(!1);var a=Vi(),n=p(a);n.__click=()=>Ne(r,!f(r));var i=m(p(n),2),s=m(n,2);{var o=l=>{var u=Fi(),v=p(u);Et(v,()=>t.children),A(l,u)};se(s,l=>{f(r)&&l(o)})}K(()=>{ke(n,1,`flex w-full cursor-pointer items-center justify-between px-4 py-3 text-left text-sm font-medium text-gray-900 hover:bg-gray-50 ${f(r)?"border-b border-gray-200":""}`),ke(i,0,`h-5 w-5 transform transition-transform ${f(r)?"rotate-180":""}`)}),A(e,a)}Nt(["click"]);var ji=P('<div class="mb-4 flex gap-2"><span> </span> <span> </span></div>');function Pt(e,t){var r=ji(),a=p(r),n=p(a),i=m(a,2),s=p(i);K(()=>{ke(a,1,`rounded px-2.5 py-0.5 text-xs font-medium ${t.hasErrors?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`),W(n,t.hasErrors?"Has Errors":"Valid"),ke(i,1,`rounded px-2.5 py-0.5 text-xs font-medium ${t.isDirty?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`),W(s,t.isDirty?"Modified":"Clean")}),A(e,r)}var Bi=P('<div class="mb-3"><!></div>'),Ui=P('<div class="grid grid-cols-2 gap-3"><div><label class="mb-1 block text-xs font-bold text-gray-700">Name</label> <input placeholder="Enter name" type="text"/> <!></div> <div><label class="mb-1 block text-xs font-bold text-gray-700">Email</label> <input placeholder="Enter email" type="email"/> <!></div></div>'),zi=P('<div class="space-y-3"></div>'),Wi=P('<!> <div class="space-y-6"><!> <div><div class="mb-3 flex items-center justify-between border-b border-gray-200 pb-2"><h6 class="text-sm font-semibold text-gray-700">Contacts <span class="ml-2 rounded bg-gray-100 px-2 py-0.5 text-xs font-normal text-gray-600"> </span></h6> <button class="cursor-pointer rounded-lg bg-green-600 px-3 py-1.5 text-xs font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500" type="button">+ Add Contact</button></div> <!> <!></div></div>',1),Hi=P("<!> <!>",1);function Yi(e,t){We(t,!1);const r=()=>ee(c,"$hasErrors",i),a=()=>ee(d,"$isDirty",i),n=()=>ee(v,"$errors",i),[i,s]=At(),l=Ct({listName:"",items:[]},{validator:C=>({listName:z(C.listName,"trim").required().minLength(2).getError(),items:Ai(C.items).required().minLength(1).getError(),...Object.fromEntries(C.items.map(($,S)=>[`item_${S}`,{name:z($.name,"trim").required().minLength(2).getError(),email:z($.email,"trim").required().email().getError()}]))})}),u=et(l.data),v=l.state.errors,c=l.state.hasErrors,d=l.state.isDirty,h=()=>{x(u,f(u).items=[...f(u).items,{name:"",email:""}])},b=C=>{x(u,f(u).items=f(u).items.filter(($,S)=>S!==C))},q=()=>Math.random().toString(36).slice(2,8),g=()=>{x(u,f(u).listName=`Contact List ${q()}`),x(u,f(u).items=[{name:"John Doe",email:"john@example.com"},{name:"Jane Smith",email:"jane@example.com"},{name:"Bob Wilson",email:"bob@example.com"}])},y=`const sourceData = {
  listName: '',
  items: [] as { name: string; email: string }[]
};

const { data, state: { errors, hasErrors, isDirty } } = createSvState(sourceData, {
  validator: (source) => ({
    listName: stringValidator(source.listName, 'trim').required().minLength(2).getError(),
    items: arrayValidator(source.items).required().minLength(1).getError(),
    // Per-item validation using indexed keys
    ...Object.fromEntries(
      source.items.map((item, index) => [
        \`item_\${index}\`,
        {
          name: stringValidator(item.name, 'trim').required().minLength(2).getError(),
          email: stringValidator(item.email, 'trim').required().email().getError()
        }
      ])
    )
  })
});`,w=`// Define type for item errors
type ItemErrors = Record<string, { name?: string; email?: string }>;

{#each data.items as item, index}
  <input bind:value={item.name} />
  <ErrorText error={($errors as ItemErrors)?.[...\`item_\${index}\`]?.name ?? ''} />

  <input bind:value={item.email} />
  <ErrorText error={($errors as ItemErrors)?.[...\`item_\${index}\`]?.email ?? ''} />
{/each}`;Dt(),qt(e,{title:"Array Property Demo",main:N=>{var _=Wi(),E=X(_);Pt(E,{get hasErrors(){return r()},get isDirty(){return a()}});var k=m(E,2),D=p(k);{let Y=I(()=>n()?.listName);J(D,{id:"listName",get error(){return f(Y)},label:"List Name",placeholder:"Enter list name",get value(){return f(u).listName},set value(Z){x(u,f(u).listName=Z)},$$legacy:!0})}var U=m(D,2),H=p(U),G=p(H),R=m(p(G)),j=p(R),B=m(G,2);B.__click=h;var M=m(H,2);{var te=Y=>{var Z=Bi(),Q=p(Z);Vt(Q,{get error(){return n().items}}),A(Y,Z)};se(M,Y=>{n()?.items&&Y(te)})}var ae=m(M,2);{var ve=Y=>{Mi(Y,{message:'No contacts yet. Click "Add Contact" to get started.'})},xe=Y=>{var Z=zi();Ir(Z,5,()=>f(u).items,Mr,(Q,ce,L)=>{ki(Q,{index:L,label:"Contact",onRemove:()=>b(L),children:(O,Ie)=>{var tt=Ui(),Ee=p(tt),me=p(Ee);le(me,"for",`item-name-${L}`);var qe=m(me,2);le(qe,"id",`item-name-${L}`);var Yn=m(qe,2);{let rt=I(()=>n()?.[`item_${L}`]?.name??"");Vt(Yn,{get error(){return f(rt)}})}var Jn=m(Ee,2),Fr=p(Jn);le(Fr,"for",`item-email-${L}`);var Kt=m(Fr,2);le(Kt,"id",`item-email-${L}`);var Gn=m(Kt,2);{let rt=I(()=>n()?.[`item_${L}`]?.email??"");Vt(Gn,{get error(){return f(rt)}})}K(()=>{ke(qe,1,`block w-full rounded-lg border p-2 text-sm ${n()?.[`item_${L}`]?.name?"border-red-500 bg-red-50 text-red-900 placeholder-red-400":"border-gray-300 bg-white text-gray-900"}`),ke(Kt,1,`block w-full rounded-lg border p-2 text-sm ${n()?.[`item_${L}`]?.email?"border-red-500 bg-red-50 text-red-900 placeholder-red-400":"border-gray-300 bg-white text-gray-900"}`)}),sr(qe,()=>f(ce).name,rt=>(f(ce).name=rt,Yr(()=>f(u)))),sr(Kt,()=>f(ce).email,rt=>(f(ce).email=rt,Yr(()=>f(u)))),A(O,tt)},$$slots:{default:!0}})}),A(Y,Z)};se(ae,Y=>{f(u).items.length===0?Y(ve):Y(xe,!1)})}K(()=>W(j,`${f(u).items.length??""} items`)),A(N,_)},sidebar:N=>{kt(N,{get data(){return f(u)},get errors(){return n()},get hasErrors(){return r()},get isDirty(){return a()},onFill:g,width:"w-96"})},sourceCode:N=>{Lt(N,{children:(_,E)=>{var k=Hi(),D=X(k);ye(D,{code:y,title:"State Setup with Array Item Validation"});var U=m(D,2);ye(U,{code:w,title:"Array Form Binding Examples"}),A(_,k)}})}}),He(),s()}Nt(["click"]);var Ji=P("<div><label> </label> <textarea></textarea> <!></div>");function Or(e,t){We(t,!0);let r=_e(t,"placeholder",3,""),a=_e(t,"value",15),n=_e(t,"error",3,""),i=_e(t,"required",3,!1),s=_e(t,"rows",3,3);var o=Ji(),l=p(o),u=p(l),v=m(l,2),c=m(v,2);{let d=pr(()=>n()??"");Vt(c,{get error(){return f(d)}})}K(()=>{ke(l,1,`mb-2 block text-sm text-gray-900 ${i()?"font-bold":""}`),le(l,"for",t.id),W(u,t.label),le(v,"id",t.id),ke(v,1,`block w-full rounded-lg border p-2.5 text-sm ${n()?"border-red-500 bg-red-50 text-red-900 placeholder-red-400 focus:border-red-500 focus:ring-red-500":"border-gray-300 bg-gray-50 text-gray-900 focus:border-blue-500 focus:ring-blue-500"}`),le(v,"placeholder",r()),le(v,"rows",s())}),sr(v,a),A(e,o),He()}var Gi=P('<!> <div class="space-y-4"><!> <!> <!> <!> <!></div>',1),Ki=P("<!> <!>",1);function Zi(e,t){We(t,!1);const r=()=>ee(h,"$hasErrors",i),a=()=>ee(b,"$isDirty",i),n=()=>ee(d,"$errors",i),[i,s]=At(),o={username:"",email:"",age:0,bio:"",website:""},l=()=>Math.random().toString(36).slice(2,8),u=(w,C)=>Math.floor(Math.random()*(C-w+1))+w,v=Ct(o,{validator:w=>({username:z(w.username,"trim").required().minLength(3).maxLength(20).noSpace().getError(),email:z(w.email,"trim").required().email().getError(),age:wr(w.age).required().min(18).max(120).integer().getError(),bio:z(w.bio).maxLength(200).getError(),website:z(w.website,"trim").website("required").getError()})}),c=et(v.data),d=v.state.errors,h=v.state.hasErrors,b=v.state.isDirty,q=()=>{x(c,f(c).username=`user${l()}`),x(c,f(c).email=`${l()}@example.com`),x(c,f(c).age=u(18,65)),x(c,f(c).bio="Hello, I am a demo user!"),x(c,f(c).website=`https://${l()}.com`)},g=`const sourceData = {
  username: '',
  email: '',
  age: 0,
  bio: '',
  website: ''
};

const { data, state: { errors, hasErrors, isDirty } } = createSvState(sourceData, {
  validator: (source) => ({
    username: stringValidator(source.username, 'trim').required().minLength(3).maxLength(20).noSpace().getError(),
    email: stringValidator(source.email, 'trim').required().email().getError(),
    age: numberValidator(source.age).required().min(18).max(120).integer().getError(),
    bio: stringValidator(source.bio).maxLength(200).getError(),
    website: stringValidator(source.website, 'trim').website('required').getError()
  })
});`,y=`<input
  id="username"
  type="text"
  placeholder="Enter username"
  class="... {$errors?.username ? 'error-styles' : 'normal-styles'}"
  bind:value={data.username}
/>
<ErrorText error={$errors?.username ?? ''} />`;Dt(),qt(e,{title:"Basic Validation Demo",main:S=>{var N=Gi(),_=X(N);Pt(_,{get hasErrors(){return r()},get isDirty(){return a()}});var E=m(_,2),k=p(E);{let R=I(()=>n()?.username);J(k,{id:"username",get error(){return f(R)},label:"Username",placeholder:"Enter username",get value(){return f(c).username},set value(j){x(c,f(c).username=j)},$$legacy:!0})}var D=m(k,2);{let R=I(()=>n()?.email);J(D,{id:"email",get error(){return f(R)},label:"Email",placeholder:"Enter email",type:"email",get value(){return f(c).email},set value(j){x(c,f(c).email=j)},$$legacy:!0})}var U=m(D,2);{let R=I(()=>n()?.age);J(U,{id:"age",get error(){return f(R)},label:"Age",placeholder:"Enter age",type:"number",get value(){return f(c).age},set value(j){x(c,f(c).age=j)},$$legacy:!0})}var H=m(U,2);{let R=I(()=>n()?.bio);Or(H,{id:"bio",get error(){return f(R)},label:"Bio",placeholder:"Tell us about yourself",get value(){return f(c).bio},set value(j){x(c,f(c).bio=j)},$$legacy:!0})}var G=m(H,2);{let R=I(()=>n()?.website);J(G,{id:"website",get error(){return f(R)},label:"Website",placeholder:"https://example.com",required:!1,get value(){return f(c).website},set value(j){x(c,f(c).website=j)},$$legacy:!0})}A(S,N)},sidebar:S=>{kt(S,{get data(){return f(c)},get errors(){return n()},get hasErrors(){return r()},get isDirty(){return a()},onFill:q})},sourceCode:S=>{Lt(S,{children:(N,_)=>{var E=Ki(),k=X(E);ye(k,{code:g,title:"State Setup"});var D=m(k,2);ye(D,{code:y,title:"Form Binding Example"}),A(N,E)}})}}),He(),s()}var Xi=P('<span class="font-normal text-gray-500"> </span>'),Qi=P('<h6 class="mb-3 border-b border-gray-200 pb-2 text-sm font-semibold text-gray-700"> <!></h6>');function jt(e,t){var r=Qi(),a=p(r),n=m(a);{var i=s=>{var o=Xi(),l=p(o);K(()=>W(l,`(${t.subtitle??""})`)),A(s,o)};se(n,s=>{t.subtitle&&s(i)})}K(()=>W(a,`${t.title??""} `)),A(e,r)}var es=P('<!> <div class="space-y-6"><!> <div><!> <div class="grid grid-cols-2 gap-4"><!> <!></div></div> <div><!> <div class="rounded-lg border border-blue-200 bg-blue-50 p-4"><div class="space-y-2"><div class="flex justify-between text-sm"><span class="text-gray-600">Subtotal:</span> <span class="font-medium text-gray-900"> </span></div> <div class="flex justify-between text-sm"><span class="text-gray-600">Tax (8%):</span> <span class="font-medium text-gray-900"> </span></div> <div class="flex justify-between border-t border-blue-200 pt-2 text-base"><span class="font-semibold text-gray-700">Total:</span> <span class="font-bold text-blue-600"> </span></div></div></div></div></div>',1),ts=P("<!> <!>",1);function rs(e,t){We(t,!1);const r=()=>ee(b,"$hasErrors",i),a=()=>ee(q,"$isDirty",i),n=()=>ee(h,"$errors",i),[i,s]=At(),o=()=>Math.random().toString(36).slice(2,8),l=($,S)=>Math.floor(Math.random()*(S-$+1))+$,u=.08,v={productName:`Widget ${o()}`,item:{unitPrice:0,quantity:1},subtotal:0,tax:0,total:0},c=Ct(v,{validator:$=>({productName:z($.productName,"trim").required().minLength(2).getError(),item:{unitPrice:wr($.item.unitPrice).required().positive().getError(),quantity:wr($.item.quantity).required().integer().min(1).max(100).getError()}}),effect:({property:$})=>{($==="item.unitPrice"||$==="item.quantity")&&(x(d,f(d).subtotal=f(d).item.unitPrice*f(d).item.quantity),x(d,f(d).tax=f(d).subtotal*u),x(d,f(d).total=f(d).subtotal+f(d).tax))}}),d=et(c.data),h=c.state.errors,b=c.state.hasErrors,q=c.state.isDirty,g=()=>{x(d,f(d).productName=`Widget ${o()}`),x(d,f(d).item.unitPrice=l(10,100)),x(d,f(d).item.quantity=l(1,10))},y=$=>`$${$.toFixed(2)}`,w=`const sourceData = {
  productName: '',
  item: { unitPrice: 0, quantity: 1 },
  subtotal: 0, tax: 0, total: 0  // Calculated fields (set by effect)
};

const TAX_RATE = 0.08;

const { data, state: { errors, hasErrors, isDirty } } = createSvState(sourceData, {
  validator: (source) => ({
    productName: stringValidator(source.productName, 'trim').required().minLength(2).getError(),
    item: {
      unitPrice: numberValidator(source.item.unitPrice).required().positive().getError(),
      quantity: numberValidator(source.item.quantity).required().integer().min(1).max(100).getError()
    }
  }),
  effect: ({ property }) => {
    if (property === 'item.unitPrice' || property === 'item.quantity') {
      data.subtotal = data.item.unitPrice * data.item.quantity;
      data.tax = data.subtotal * TAX_RATE;
      data.total = data.subtotal + data.tax;
    }
  }
});`,C=`effect: ({ property }) => {
  if (property === 'item.unitPrice' || property === 'item.quantity') {
    data.subtotal = data.item.unitPrice * data.item.quantity;
    data.tax = data.subtotal * TAX_RATE;
    data.total = data.subtotal + data.tax;
  }
}`;Dt(),qt(e,{title:"Calculated Fields Demo",main:_=>{var E=es(),k=X(E);Pt(k,{get hasErrors(){return r()},get isDirty(){return a()}});var D=m(k,2),U=p(D);{let Ee=I(()=>n()?.productName);J(U,{id:"productName",get error(){return f(Ee)},label:"Product Name",placeholder:"Enter product name",get value(){return f(d).productName},set value(me){x(d,f(d).productName=me)},$$legacy:!0})}var H=m(U,2),G=p(H);jt(G,{subtitle:"nested object",title:"Item Details"});var R=m(G,2),j=p(R);{let Ee=I(()=>n()?.item?.unitPrice);J(j,{id:"unitPrice",get error(){return f(Ee)},label:"Unit Price ($)",min:0,placeholder:"0.00",step:.01,type:"number",get value(){return f(d).item.unitPrice},set value(me){x(d,f(d).item.unitPrice=me)},$$legacy:!0})}var B=m(j,2);{let Ee=I(()=>n()?.item?.quantity);J(B,{id:"quantity",get error(){return f(Ee)},label:"Quantity",max:100,min:1,placeholder:"1",type:"number",get value(){return f(d).item.quantity},set value(me){x(d,f(d).item.quantity=me)},$$legacy:!0})}var M=m(H,2),te=p(M);jt(te,{subtitle:"computed by effect",title:"Calculated Totals"});var ae=m(te,2),ve=p(ae),xe=p(ve),Y=m(p(xe),2),Z=p(Y),Q=m(xe,2),ce=m(p(Q),2),L=p(ce),O=m(Q,2),Ie=m(p(O),2),tt=p(Ie);K((Ee,me,qe)=>{W(Z,Ee),W(L,me),W(tt,qe)},[()=>y(f(d).subtotal),()=>y(f(d).tax),()=>y(f(d).total)]),A(_,E)},sidebar:_=>{kt(_,{get data(){return f(d)},get errors(){return n()},get hasErrors(){return r()},get isDirty(){return a()},onFill:g})},sourceCode:_=>{Lt(_,{children:(E,k)=>{var D=ts(),U=X(D);ye(U,{code:w,title:"State Setup with Effect"});var H=m(U,2);ye(H,{code:C,title:"Effect Function"}),A(E,D)}})}}),He(),s()}var ns=P('<span class="font-normal normal-case"> </span>'),as=P('<div class="rounded-lg border border-gray-200 bg-gray-50 p-4"><h6 class="mb-3 text-xs font-semibold uppercase tracking-wide text-gray-500"> <!></h6> <!></div>');function is(e,t){var r=as(),a=p(r),n=p(a),i=m(n);{var s=l=>{var u=ns(),v=p(u);K(()=>W(v,`(${t.subtitle??""})`)),A(l,u)};se(i,l=>{t.subtitle&&l(s)})}var o=m(a,2);Et(o,()=>t.children),K(()=>W(n,`${t.title??""} `)),A(e,r)}var ss=P('<div class="space-y-4"><!> <!></div>'),os=P('<!> <div class="space-y-6"><div><!> <!></div> <div><!> <div class="space-y-4"><!> <div class="grid grid-cols-2 gap-4"><!> <!></div></div></div> <div><!> <div class="space-y-4"><div class="grid grid-cols-2 gap-4"><!> <!></div> <!></div></div></div>',1),ls=P("<!> <!>",1);function us(e,t){We(t,!1);const r=()=>ee(h,"$hasErrors",i),a=()=>ee(b,"$isDirty",i),n=()=>ee(d,"$errors",i),[i,s]=At(),o={name:"",address:{street:"",city:"",zip:""},company:{name:"",department:"",contact:{phone:"",email:""}}},l=()=>Math.random().toString(36).slice(2,8),u=(w,C)=>Math.floor(Math.random()*(C-w+1))+w,v=Ct(o,{validator:w=>({name:z(w.name,"trim").required().minLength(2).maxLength(50).getError(),address:{street:z(w.address.street,"trim").required().minLength(5).getError(),city:z(w.address.city,"trim").required().minLength(2).getError(),zip:z(w.address.zip,"trim").required().minLength(5).maxLength(10).getError()},company:{name:z(w.company.name,"trim").required().minLength(2).getError(),department:z(w.company.department,"trim").maxLength(50).getError(),contact:{phone:z(w.company.contact.phone,"trim").required().minLength(10).getError(),email:z(w.company.contact.email,"trim").required().email().getError()}}})}),c=et(v.data),d=v.state.errors,h=v.state.hasErrors,b=v.state.isDirty,q=()=>{x(c,f(c).name=`John ${l()}`),x(c,f(c).address.street=`${u(100,9999)} Main Street`),x(c,f(c).address.city="New York"),x(c,f(c).address.zip=`${u(1e4,99999)}`),x(c,f(c).company.name=`Acme ${l()} Inc`),x(c,f(c).company.department="Engineering"),x(c,f(c).company.contact.phone=`555-${u(100,999)}-${u(1e3,9999)}`),x(c,f(c).company.contact.email=`contact@${l()}.com`)},g=`const sourceData = {
  name: '',
  address: { street: '', city: '', zip: '' },       // 2-level nested
  company: {                                         // 3-level nested
    name: '',
    department: '',
    contact: { phone: '', email: '' }
  }
};

const { data, state: { errors, hasErrors, isDirty } } = createSvState(sourceData, {
  validator: (source) => ({
    name: stringValidator(source.name, 'trim').required().minLength(2).maxLength(50).getError(),
    address: {
      street: stringValidator(source.address.street, 'trim').required().minLength(5).getError(),
      city: stringValidator(source.address.city, 'trim').required().minLength(2).getError(),
      zip: stringValidator(source.address.zip, 'trim').required().minLength(5).maxLength(10).getError()
    },
    company: {
      name: stringValidator(source.company.name, 'trim').required().minLength(2).getError(),
      department: stringValidator(source.company.department, 'trim').maxLength(50).getError(),
      contact: {
        phone: stringValidator(source.company.contact.phone, 'trim').required().minLength(10).getError(),
        email: stringValidator(source.company.contact.email, 'trim').required().email().getError()
      }
    }
  })
});`,y=`<!-- 2-level nested binding -->
<input bind:value={data.address.street} />
<ErrorText error={$errors?.address?.street ?? ''} />

<!-- 3-level nested binding -->
<input bind:value={data.company.contact.phone} />
<ErrorText error={$errors?.company?.contact?.phone ?? ''} />`;Dt(),qt(e,{title:"Nested Objects Demo",main:S=>{var N=os(),_=X(N);Pt(_,{get hasErrors(){return r()},get isDirty(){return a()}});var E=m(_,2),k=p(E),D=p(k);jt(D,{title:"Personal Info"});var U=m(D,2);{let L=I(()=>n()?.name);J(U,{id:"name",get error(){return f(L)},label:"Full Name",placeholder:"Enter your full name",get value(){return f(c).name},set value(O){x(c,f(c).name=O)},$$legacy:!0})}var H=m(k,2),G=p(H);jt(G,{subtitle:"2-level nested",title:"Address"});var R=m(G,2),j=p(R);{let L=I(()=>n()?.address?.street);J(j,{id:"street",get error(){return f(L)},label:"Street",placeholder:"Enter street address",get value(){return f(c).address.street},set value(O){x(c,f(c).address.street=O)},$$legacy:!0})}var B=m(j,2),M=p(B);{let L=I(()=>n()?.address?.city);J(M,{id:"city",get error(){return f(L)},label:"City",placeholder:"Enter city",get value(){return f(c).address.city},set value(O){x(c,f(c).address.city=O)},$$legacy:!0})}var te=m(M,2);{let L=I(()=>n()?.address?.zip);J(te,{id:"zip",get error(){return f(L)},label:"ZIP Code",placeholder:"Enter ZIP",get value(){return f(c).address.zip},set value(O){x(c,f(c).address.zip=O)},$$legacy:!0})}var ae=m(H,2),ve=p(ae);jt(ve,{subtitle:"3-level nested",title:"Company"});var xe=m(ve,2),Y=p(xe),Z=p(Y);{let L=I(()=>n()?.company?.name);J(Z,{id:"company-name",get error(){return f(L)},label:"Company Name",placeholder:"Enter company name",get value(){return f(c).company.name},set value(O){x(c,f(c).company.name=O)},$$legacy:!0})}var Q=m(Z,2);{let L=I(()=>n()?.company?.department);J(Q,{id:"department",get error(){return f(L)},label:"Department",placeholder:"Enter department",required:!1,get value(){return f(c).company.department},set value(O){x(c,f(c).company.department=O)},$$legacy:!0})}var ce=m(Y,2);is(ce,{subtitle:"3rd level",title:"Contact Info",children:(L,O)=>{var Ie=ss(),tt=p(Ie);{let me=I(()=>n()?.company?.contact?.phone);J(tt,{id:"contact-phone",get error(){return f(me)},label:"Phone",placeholder:"Enter phone number",variant:"nested",get value(){return f(c).company.contact.phone},set value(qe){x(c,f(c).company.contact.phone=qe)},$$legacy:!0})}var Ee=m(tt,2);{let me=I(()=>n()?.company?.contact?.email);J(Ee,{id:"contact-email",get error(){return f(me)},label:"Email",placeholder:"Enter email address",type:"email",variant:"nested",get value(){return f(c).company.contact.email},set value(qe){x(c,f(c).company.contact.email=qe)},$$legacy:!0})}A(L,Ie)}}),A(S,N)},sidebar:S=>{kt(S,{get data(){return f(c)},get errors(){return n()},get hasErrors(){return r()},get isDirty(){return a()},onFill:q,width:"w-96"})},sourceCode:S=>{Lt(S,{children:(N,_)=>{var E=ls(),k=X(E);ye(k,{code:g,title:"State Setup with Nested Validation"});var D=m(k,2);ye(D,{code:y,title:"Nested Form Binding Examples"}),A(N,E)}})}}),He(),s()}var cs=P('<div class="mt-6"><button class="w-full cursor-pointer rounded-lg bg-orange-600 px-4 py-2 text-sm font-medium text-white hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-orange-500" type="button">Reset to Initial Values</button></div>'),fs=P('<!> <div class="space-y-4"><!> <!> <!> <!> <!></div> <!>',1),ds=P("<!> <!>",1);function vs(e,t){We(t,!1);const r=()=>ee(h,"$hasErrors",i),a=()=>ee(b,"$isDirty",i),n=()=>ee(d,"$errors",i),[i,s]=At(),o={firstName:"Alice",lastName:"Smith",email:"alice.smith@example.com",phone:"",bio:""},l=()=>Math.random().toString(36).slice(2,8),u=Ct(o,{validator:w=>({firstName:z(w.firstName,"trim").required().minLength(2).maxLength(30).getError(),lastName:z(w.lastName,"trim").required().minLength(2).maxLength(30).getError(),email:z(w.email,"trim").required().email().getError(),phone:z(w.phone,"trim").required().minLength(10).getError(),bio:z(w.bio).maxLength(200).getError()})}),v=et(u.data),c=u.reset,d=u.state.errors,h=u.state.hasErrors,b=u.state.isDirty,q=()=>{x(v,f(v).firstName="John"),x(v,f(v).lastName=`Doe${l()}`),x(v,f(v).email=`john.doe.${l()}@example.com`),x(v,f(v).phone=`555-${l().slice(0,3)}-${l().slice(0,4)}`),x(v,f(v).bio="Software developer with a passion for clean code.")},g=`const sourceData = {
  firstName: 'Alice',
  lastName: 'Smith',
  email: 'alice.smith@example.com',
  phone: '',
  bio: ''
};

const { data, reset, state: { errors, hasErrors, isDirty } } = createSvState(sourceData, {
  validator: (source) => ({
    firstName: stringValidator(source.firstName, 'trim').required().minLength(2).maxLength(30).getError(),
    lastName: stringValidator(source.lastName, 'trim').required().minLength(2).maxLength(30).getError(),
    email: stringValidator(source.email, 'trim').required().email().getError(),
    phone: stringValidator(source.phone, 'trim').required().minLength(10).getError(),
    bio: stringValidator(source.bio).maxLength(200).getError()
  })
});`,y=`<!-- Reset button only appears when form is dirty -->
{#if $isDirty}
  <button onclick={reset} type="button">
    Reset to Initial Values
  </button>
{/if}

<!-- isDirty becomes true on any change -->
<!-- reset() restores to initial snapshot and clears history -->`;Dt(),qt(e,{title:"Reset Demo",main:S=>{var N=fs(),_=X(N);Pt(_,{get hasErrors(){return r()},get isDirty(){return a()}});var E=m(_,2),k=p(E);{let B=I(()=>n()?.firstName);J(k,{id:"firstName",get error(){return f(B)},label:"First Name",placeholder:"Enter first name",get value(){return f(v).firstName},set value(M){x(v,f(v).firstName=M)},$$legacy:!0})}var D=m(k,2);{let B=I(()=>n()?.lastName);J(D,{id:"lastName",get error(){return f(B)},label:"Last Name",placeholder:"Enter last name",get value(){return f(v).lastName},set value(M){x(v,f(v).lastName=M)},$$legacy:!0})}var U=m(D,2);{let B=I(()=>n()?.email);J(U,{id:"email",get error(){return f(B)},label:"Email",placeholder:"Enter email",type:"email",get value(){return f(v).email},set value(M){x(v,f(v).email=M)},$$legacy:!0})}var H=m(U,2);{let B=I(()=>n()?.phone);J(H,{id:"phone",get error(){return f(B)},label:"Phone",placeholder:"555-123-4567",get value(){return f(v).phone},set value(M){x(v,f(v).phone=M)},$$legacy:!0})}var G=m(H,2);{let B=I(()=>n()?.bio);Or(G,{id:"bio",get error(){return f(B)},label:"Bio",placeholder:"Tell us about yourself",required:!1,get value(){return f(v).bio},set value(M){x(v,f(v).bio=M)},$$legacy:!0})}var R=m(E,2);{var j=B=>{var M=cs(),te=p(M);te.__click=c,A(B,M)};se(R,B=>{a()&&B(j)})}A(S,N)},sidebar:S=>{kt(S,{get data(){return f(v)},get errors(){return n()},get hasErrors(){return r()},get isDirty(){return a()},onFill:q})},sourceCode:S=>{Lt(S,{children:(N,_)=>{var E=ds(),k=X(E);ye(k,{code:g,title:"State Setup with Reset"});var D=m(k,2);ye(D,{code:y,title:"Conditional Reset Button"}),A(N,E)}})}}),He(),s()}Nt(["click"]);var ms=P('<button class="flex-1 cursor-pointer rounded-lg bg-orange-600 px-4 py-2 text-sm font-medium text-white hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-orange-500" type="button">Reset All</button>'),hs=P('<!> <div class="mb-4 flex items-center gap-2"><span class="rounded bg-purple-100 px-2.5 py-0.5 text-xs font-medium text-purple-800"> </span></div> <div class="space-y-4"><!> <!> <!> <!> <!></div> <div class="mt-6 flex gap-3"><button class="flex-1 cursor-pointer rounded-lg bg-amber-600 px-4 py-2 text-sm font-medium text-white hover:bg-amber-700 focus:outline-none focus:ring-2 focus:ring-amber-500 disabled:cursor-not-allowed disabled:opacity-50" type="button">Undo Last Change</button> <!></div>',1),ps=P('<p class="text-xs text-gray-500">No snapshots yet</p>'),gs=P('<li class="flex items-center gap-2 text-xs text-gray-600"><span class="flex h-5 w-5 flex-shrink-0 items-center justify-center rounded-full bg-purple-200 text-xs font-medium text-purple-800"></span> <span class="truncate"> </span></li>'),_s=P('<ul class="max-h-48 space-y-1 overflow-y-auto"></ul>'),bs=P('<div class="w-96 flex-shrink-0 space-y-4"><!> <div class="rounded-lg border border-gray-300 bg-gray-50 p-4 shadow-inner"><h6 class="mb-2 text-sm font-medium text-gray-700">Snapshot History</h6> <!></div></div>'),ys=P("<!> <!> <!>",1);function xs(e,t){We(t,!1);const r=()=>ee(g,"$hasErrors",s),a=()=>ee(y,"$isDirty",s),n=()=>ee(w,"$snapshots",s),i=()=>ee(q,"$errors",s),[s,o]=At(),l={firstName:"Alice",lastName:"Smith",email:"alice.smith@example.com",phone:"",bio:""},u=()=>Math.random().toString(36).slice(2,8),v=_=>_.charAt(0).toUpperCase()+_.slice(1).replaceAll(/([A-Z])/g," $1"),c=Ct(l,{validator:_=>({firstName:z(_.firstName,"trim").required().minLength(2).maxLength(30).getError(),lastName:z(_.lastName,"trim").required().minLength(2).maxLength(30).getError(),email:z(_.email,"trim").required().email().getError(),phone:z(_.phone,"trim").required().minLength(10).getError(),bio:z(_.bio).maxLength(200).getError()}),effect:({snapshot:_,property:E})=>{_(`Changed ${v(E)}`)}}),d=et(c.data),h=c.reset,b=c.rollback,q=c.state.errors,g=c.state.hasErrors,y=c.state.isDirty,w=c.state.snapshots,C=()=>{x(d,f(d).firstName="John"),x(d,f(d).lastName=`Doe${u()}`),x(d,f(d).email=`john.doe.${u()}@example.com`),x(d,f(d).phone=`555-${u().slice(0,3)}-${u().slice(0,4)}`),x(d,f(d).bio="Software developer with a passion for clean code.")},$=`const sourceData = {
  firstName: 'Alice', lastName: 'Smith', email: 'alice.smith@example.com', phone: '', bio: ''
};

const { data, reset, rollback, state: { errors, hasErrors, isDirty, snapshots } } =
  createSvState(sourceData, {
    validator: (source) => ({ /* validation rules */ }),
    effect: ({ snapshot, property }) => {
      snapshot(\`Changed \${formatFieldName(property)}\`);
    }
  });`,S=`// Effect callback creates snapshots on each change
effect: ({ snapshot, property }) => {
  snapshot(\`Changed \${property}\`);  // Creates undo point
  // If same title, replaces last snapshot (debouncing)
  // Use snapshot(title, false) to always create new
}`,N=`// Undo last change (disabled if only initial snapshot)
<button onclick={() => rollback()} disabled={$snapshots.length <= 1}>
  Undo Last Change
</button>

// Rollback multiple steps at once
rollback(3);  // Undo 3 changes

// Reset to initial state (clears all snapshots)
<button onclick={reset}>Reset All</button>`;Dt(),qt(e,{title:"Snapshot & Rollback Demo",main:D=>{var U=hs(),H=X(U);Pt(H,{get hasErrors(){return r()},get isDirty(){return a()}});var G=m(H,2),R=p(G),j=p(R),B=m(G,2),M=p(B);{let L=I(()=>i()?.firstName);J(M,{id:"firstName",get error(){return f(L)},label:"First Name",placeholder:"Enter first name",get value(){return f(d).firstName},set value(O){x(d,f(d).firstName=O)},$$legacy:!0})}var te=m(M,2);{let L=I(()=>i()?.lastName);J(te,{id:"lastName",get error(){return f(L)},label:"Last Name",placeholder:"Enter last name",get value(){return f(d).lastName},set value(O){x(d,f(d).lastName=O)},$$legacy:!0})}var ae=m(te,2);{let L=I(()=>i()?.email);J(ae,{id:"email",get error(){return f(L)},label:"Email",placeholder:"Enter email",type:"email",get value(){return f(d).email},set value(O){x(d,f(d).email=O)},$$legacy:!0})}var ve=m(ae,2);{let L=I(()=>i()?.phone);J(ve,{id:"phone",get error(){return f(L)},label:"Phone",placeholder:"555-123-4567",get value(){return f(d).phone},set value(O){x(d,f(d).phone=O)},$$legacy:!0})}var xe=m(ve,2);{let L=I(()=>i()?.bio);Or(xe,{id:"bio",get error(){return f(L)},label:"Bio",placeholder:"Tell us about yourself",required:!1,get value(){return f(d).bio},set value(O){x(d,f(d).bio=O)},$$legacy:!0})}var Y=m(B,2),Z=p(Y);Z.__click=()=>b();var Q=m(Z,2);{var ce=L=>{var O=ms();O.__click=h,A(L,O)};se(Q,L=>{a()&&L(ce)})}K(()=>{W(j,`${n().length??""} Snapshot${n().length===1?"":"s"}`),Z.disabled=n().length<=1}),A(D,U)},sidebar:D=>{var U=bs(),H=p(U);kt(H,{get data(){return f(d)},get errors(){return i()},get hasErrors(){return r()},get isDirty(){return a()},onFill:C,width:"w-96"});var G=m(H,2),R=m(p(G),2);{var j=M=>{var te=ps();A(M,te)},B=M=>{var te=_s();Ir(te,5,n,Mr,(ae,ve,xe)=>{var Y=gs(),Z=p(Y);Z.textContent=xe+1;var Q=m(Z,2),ce=p(Q);K(()=>W(ce,f(ve).title)),A(ae,Y)}),A(M,te)};se(R,M=>{n().length===0?M(j):M(B,!1)})}A(D,U)},sourceCode:D=>{Lt(D,{children:(U,H)=>{var G=ys(),R=X(G);ye(R,{code:$,title:"State Setup with Snapshots"});var j=m(R,2);ye(j,{code:S,title:"Effect with Snapshot Creation"});var B=m(j,2);ye(B,{code:N,title:"Rollback & Reset Usage"}),A(U,G)}})}}),He(),o()}Nt(["click"]);var Es=P("<option> </option>"),ws=P(`<div class="min-h-screen bg-gray-100 p-8"><header class="mb-8 flex items-center gap-6"><img class="h-32 w-32" alt="svstate logo"/> <div><h1 class="text-4xl font-bold text-gray-900">svstate <span class="ml-2 text-xl font-normal text-gray-500"> </span></h1> <p class="mt-2 max-w-2xl text-gray-600">A Svelte 5 library that provides a supercharged $state() with deep reactive proxies, validation, snapshot/undo,
				and side effects.</p></div></header> <div class="flex gap-6"><aside class="w-64 flex-shrink-0"><div class="rounded-lg border border-gray-200 bg-white p-4 shadow-sm"><label class="mb-2 block text-sm font-medium text-gray-900" for="demo-select">Demo Mode</label> <select id="demo-select" class="block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500"></select></div></aside> <main class="flex-1"><!></main></div></div>`);function $s(e){const t=[{value:"basic-validation",name:"Basic Validation"},{value:"nested-objects",name:"Nested Objects"},{value:"array-property",name:"Array Property"},{value:"calculated-fields",name:"Calculated Fields"},{value:"reset-demo",name:"Reset"},{value:"snapshot-demo",name:"Snapshot & Rollback"}];let r=Le("basic-validation");const a="0.0.1",n="/svstate";var i=ws(),s=p(i),o=p(s),l=m(o,2),u=p(l),v=m(p(u)),c=p(v),d=m(s,2),h=p(d),b=p(h),q=m(p(b),2);Ir(q,21,()=>t,Mr,($,S)=>{var N=Es(),_=p(N),E={};K(()=>{W(_,f(S).name),E!==(E=f(S).value)&&(N.value=(N.__value=f(S).value)??"")}),A($,N)});var g=m(h,2),y=p(g);{var w=$=>{Zi($,{})},C=$=>{var S=nt(),N=X(S);{var _=k=>{us(k,{})},E=k=>{var D=nt(),U=X(D);{var H=R=>{Yi(R,{})},G=R=>{var j=nt(),B=X(j);{var M=ae=>{rs(ae,{})},te=ae=>{var ve=nt(),xe=X(ve);{var Y=Q=>{vs(Q,{})},Z=Q=>{var ce=nt(),L=X(ce);{var O=Ie=>{xs(Ie,{})};se(L,Ie=>{f(r)==="snapshot-demo"&&Ie(O)},!0)}A(Q,ce)};se(xe,Q=>{f(r)==="reset-demo"?Q(Y):Q(Z,!1)},!0)}A(ae,ve)};se(B,ae=>{f(r)==="calculated-fields"?ae(M):ae(te,!1)},!0)}A(R,j)};se(U,R=>{f(r)==="array-property"?R(H):R(G,!1)},!0)}A(k,D)};se(N,k=>{f(r)==="nested-objects"?k(_):k(E,!1)},!0)}A($,S)};se(y,$=>{f(r)==="basic-validation"?$(w):$(C,!1)})}K(()=>{le(o,"src",`${n}/favicon.png`),W(c,`v${a}`)}),mi(q,()=>f(r),$=>Ne(r,$)),A(e,i)}si($s,{target:document.querySelector("#app")});
